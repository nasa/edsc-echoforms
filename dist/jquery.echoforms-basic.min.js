/*!
 * Copyright Â© 2007-2014 United States Government as represented by the Administrator of the National Aeronautics and Space Administration. All Rights Reserved.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){r(41),r(37),r(33)},function(e,t){e.exports=jQuery},function(e,t,r){(function(t){var n,a,i,o,s,c,l,d,h=[].slice;d=r(39),l=!1,c=function(){var e;return e=1<=arguments.length?h.call(arguments,0):[],"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn?console.warn.apply(console,e):void 0},a=function(){var e;return e=1<=arguments.length?h.call(arguments,0):[],"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error.apply(console,e),null!=t("#form_load_errors")?t("#form_load_errors").append("<div class='form_load_error'>"+e+"</div>"):void 0},i=function(e,t,r){var n,i,o;return l||"undefined"!=typeof wgxpath&&null!==wgxpath&&"function"==typeof wgxpath.install&&wgxpath.install(d),l=!0,e.length<1&&a("Error processing xpath ["+t+"].  Provided context node was not valid. Verify that the ref attribute of the parent group is valid (including the namespace)."),"["===(null!=t?t.charAt(0):void 0)&&(t="self::*"+t),"true"===t?!0:"false"===t?!1:(n=e[0].ownerDocument,t=t.replace(/^\/+|(https:)?\/\//g,function(e,t){return t?e:"/descendant-or-self::node()/"}),null==n.evaluate&&wgxpath.install({document:n}),i=n.evaluate(t,e[0],r,XPathResult.ANY_TYPE,null),o=function(){switch(i.resultType){case XPathResult.NUMBER_TYPE:return i.numberValue;case XPathResult.STRING_TYPE:return i.stringValue;case XPathResult.BOOLEAN_TYPE:return i.booleanValue;default:return i.iterateNext()}}())},o=function(e){var t,r,n;if(!e||"string"!=typeof e)return null;n=void 0;try{d.DOMParser?n=(new DOMParser).parseFromString(e,"text/xml"):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(r){t=r}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||a("Invalid XML: "+e),n},n=function(e){var t,r,n,a,i,o,s;for(i={},t=" default ",a=/\sxmlns(?::(\w+))?=\"([^\"]+)\"/g;null!=(r=a.exec(e));)o=r.slice(1,3),n=o[0],s=o[1],i[null!=n?n:t]=s;return function(e){return i[null!=e?e:t]}},s=function(e,r){var n,a;if(null==r&&(r={}),a="",n="","#text"===e.nodeName)return""+a+t("<div/>").text(e.nodeValue).html();if("#comment"===e.nodeName)return a+"<!--"+e.nodeValue+"-->";for(var i=0;i<e.attributes.length;i++){var o=e.attributes[i].name,c=e.attributes[i].value;n+=" "+o+'="'+c+'"',/xmlns/.test(o)&&"xmlns"!=o&&(r[o.split(":").pop()]=c)}if(null==e.prefix)for(prefix in r)if(r.hasOwnProperty(prefix)&&r[prefix]==e.namespaceURI){e.prefix=prefix;break}a+="<"+e.nodeName,a+=n+">";for(var i=0;i<e.childNodes.length;i++)a+=s(e.childNodes[i],r);return a+"</"+e.nodeName+">"},e.exports={warn:c,error:a,execXPath:i,parseXML:o,buildXPathResolverFn:n,printDOMToString:s}}).call(t,r(1))},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAABgCAMAAABblVsaAAADAFBMVEUAAABaoVUEYBipAAA5OTkEBAQAAACFZUcJAAAECgLirGt+fn6lpaalpaW5GBhbolUGYhmqAACop6n5+fnBAgKmAQEAWxrfn2UCXhkIDQZ1d3wWhwSlAAAPcRu+EhL3qamnBQWlpaVYuC6xEBD//f+yCQl2d3wvkCQVhQbJLS3BISEqhyxVrz10x00fjwarBQUAWRMrmgyoAgLng4OtCAjvk5MPfAelBwf18/VhuUHLDAz1k5NmukkHYRaKz2t0wVmb23pesUqP1W+P0nDsZ2fUSUm1FxfnWVnqY2O0BASNAADq2p2+GxuwVzj8+PIdHRukpKThq2n////s7O0mJib+/P3enWP67uFVV1uop6kkmwD459b99tVcY3D29fb9+O3x8vHf3+Dp6Oj78ungyI337caYmZihjFU1rwACNrDx8vHT09Tw0rfz3Lv03cbp157Js3u3oWfOwJLdzKdGbUOAgonw8O82rgb35dSluaX67uDq6+ua5mfO48Ph4uJ0dnstowAyqwD78uhdxCovpgB910i38YzP9q9arkL8+/vSAADoAADr7O3S58Y5sAbn5+f249DjAADtAQGpy6JAtwU1lxuC2E2z74hPvxbV1NX99+uvr+NKvQ/36tmy6JHFwJ0ilgR41ELl5eXy9PLd3t7U1dbKAQHC1Meg3oCR1nBozDFerUYnngBgxywjihLV09X/mJjZBQX24MrxAAD+Zmb9+Oz7i4sqiR1uwku4zL2c427W+Lrs7+x7x1r58+Sv3JmOy213vlpxu1d/f7iwxbXW1tn/tLTdAAD9d3f4Jibx1rrwPT3rEBBRxBRlxDeH0mGI02KJ1WCo34qs8HhvzjjJz7iwza337d62FBRiuUP2MTHezKn/q6uDloeguqRRozrM1b6Lz2yi2IeGvm4/ohyrmVWV416c1Xui6W+/0bU7jjS98ZUxjSm5vJaXsZ8slBFSvh7/3t7/ycn/fHzdzqmww7bL2cO3nFnodXV1mHacnFB4kX+kvKuq7HuwuY6orohs99ZiAAAA7XRSTlMA/S4cWkEmAQkW/YD+/1v+NSL+/v5cR/k5F/3prEVM9qH9+27//fzZ2ayEYN3t2LQZ6avdnPrZg/ro8/rVIunV66/o0PLQV/v50hJqkwX9/////////v////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////m1ZoxUAAAH80lEQVR42u2ceVjTZhzHCwXaeiAoc865TSbqDq8d7r7v4w9bwmjLUZ6uUFlKW8BRIqgoOEZBiYgKniBT0LlNcYrXnAdem+50uts5dzvdfd/vm7RMHn5JWUInxvcDNDzPm7xpPnyTvG/4gUrVtYwLcvvppru/PwJJIIEkkCSQJJAkkKDEBGq4z4BoJL/5CRy5ubnZDyowgXZ9716xsb166WN76/V2qB0Ti9YRa/dhB/2l+UhJyVFgAvVWDwftoWlWD7TTFo/nOYTHY6HBdq+PpmOH9bBAozGNT2B2jvISqC+kKQrJs1gsXgsoaPK2yTNnzpyMgAVSGNpSvWLLkl9BgSkpxglcACVHUN+JdRJkJEzfiQQK9K+JbZjBsjOwQhpMWF/qs5rSxxFfPr5thhnY96aPDrNIYPXKJSteX3kBsItcJG4Cpy8jQ2IC9ebA/hLkpEhG/7EN7JQpbCEXIlBg4fZJn9eUlpbW1GwvBPbz/taDW49QVPWHm1975dVVoaDAjJTcNKxPWGCgA6QCZTDBJCuBMvqPbbBarVMaHkYKaQ8ocMe8TychNs/bUdi3Q3PUxUvfmLfxSPXGJ0tKXv7gfRUsMAOnMENGAr2UPcDxmWQlUEb/WOAyZBCFkIYSaC7c+Rhm6ZPfrAIEDvi4dtGcl8reXpSZmTm3Cfw5ZiNx2XwAM8ZLPUAvmyd+fAET2P4D6l+4ne8fbkcCl+9GBqewLOWBBdaWPF1SUjunchV0Cv8+F6mbUzlt2rS5TTQsMMPJCXQixgclgQkcwUugaP961upw7F6GFLIUnMCy/PzKysr8/Pwy8Cay6+vp06dPnTp1QxO4PfLnznJmY39ut3t8sK6BMociMvrXsw6HY/5qFEIrCwqk+iQlJT2FvpLKKEgg/dUzuHXDJnB7rSonA4lzZ6e43enp6VITaFYFV6CM/jmB2CG6l8ACQ5J8hMACHV89U1+/4Ud4e50ux4nEuXPEBXbBOFCWQJVcgauXr57vsMID5YkhIX3QR0jILnCgbXE4/jhxfBPyxwLtuvAcd3ZubnpOSnq69AR265kIZeFBkzFQEMtPNfBAEZzqWVm2YVMTi7ECpzAWiAgg8AzGrjdj+uIXgYcFZh+SHiZoI8ZzKDaB/xe8RuLhND1tIhBIAgkkgQQCSSD5EQWpnSSQQBJIIAkkCSSQBBJIAjug4SAJBElsB9BuMBh6cKBvBNrbSBTeT5E5LzUvz6S8BCa6bG0wgACDbX3B84jiBcVpNgPU7q8PPHqs2iD8BuypeQ6TKVWBCSwwImy4gtSbBgks5usDcYFgMSjQyHeA6wN/g/aQymEyIYFoKf2div3yNqELEijev3ACGWMyk1zAOVwPCSzw1wdu2VYACfzio5MMMihcH5gaj/FSeQtN8UIR7EQCzaIHmCA7SRL71yQyyQzjMwgKfNNXH1hasx0S+MnWg1vrjMY64frA1PhHMPFiAjuRP9HylYSA1W3jgtS/5txZzFokMLmgwGgrBgT2WOyrD/xz3k5AIF8fWFfH1wf+rJIoMGAC7ZRX/ABN8jIouX8s0OWahRUajQICl/L1gbVlxo4C29UH/mRQBSmBeaw30AF2OELxksD27VD/p7YLFyBqzl3retHpWjsLGwQEanos3vnN04jaykxIoOqTf+sDj6YZTlsC5VYISu4fJdCV5TNYACbwzVX5HJmwQMNhX33g3ENGW9AS2H1LBJFAZ1ZWltPpcjFMMXgT6eMvb4MF2v7i6wMPMYyQQJ6iIN6FuwCJ/aO7cBYHNmgDhzFtAkNggVl/4/rAOrw9PJDmB4KpRQsT0EtwxoFdkkGJA2km6913f+AcukCBtolccSCuD4SucYY0p/PkieN1aCzEwNdAlRWD/C1sNdkpBc5E0hasX4BAkzFwJsIY/dgYSCA69ZkvDmF/jEtkKmdqbS1qbTWZVUoj8ZSnAYkSHhZ09mHCLnwSm1Lt5HkgoTtCEkggCSSQBBIIJIEEkkACgSSQQBJIIJAEnjU8wC+0JIHSGHJVJF5EXnWhwApahMj2up4cYYq3HHXn5aC/X94biwxGXvTtRbBBrS4iQidiMIz7rauF7anwBIbetmUJYHBI+YH9LWMjI2/cs+c72KA2gqLCI7TiAr2UI76nMoN3we03c/m7A66fu7q8quLAupaWljVr3ttzGXiKhlMTxQzyCaQdtLenEhM4YOTBW8eg/N2C6+dGdKif06gHlVdUPLt/377vW9ZcqhYQ+KiYQV6gl3Y4HOEKvPDh+rmbxoSOxPVzw4H6Q436yvKK2c++sG7dvkvVGiGB2KDQdZAXGOelKTpMeQkccAWunxtxPa6fGxUFrqK+v4ozeLda4C6LBSKDEaICcQi9SrwT97/CXz83KhRe45wb9nIG74qUKPAhv8E4BSYQGTyfr5+7JErAX0x5MzY4+537IlWSTmFOYFwcelHmWLD/+bh+7hKh/A1tbCxvbt5bUTH7nXvvkXQT8cY95PWizzNY4LgABuvrrxHIn+rat2IayxtHjy6vqjqwX8owRhPWz/+nLvFKnY30PzE8VOjw1YPfiom5Mjp6UGNV89VqSQPp6yz+/2Cn0ASqNAOihNvUg4cOQuLUg2IGw8OYgFM5zxMY/J+0lT8fhgxGnxOtaVtIeJgQ1q8fSl+/M/oUlvvHpKcs/jvhRQMHDhs2sAgRriL8d7Q6ne48BFpoz8oEEggkgQSSQAKBJLAb8Q85csYKBm7vjAAAAABJRU5ErkJggg=="},function(e,t,r){var n,a,i,o,s=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=r(1),a=r(6),i=r(11),o=function(e){function t(e,r,n,a){var i;this.inputType=(null!=(i=e.attr("type"))?i:"string").replace(/^.*:/,"").toLowerCase(),t.__super__.constructor.call(this,e,r,n,a),this.inputs().bind("click change",this.onChange)}return s(t,e),t.prototype.loadConstraints=function(){return t.__super__.loadConstraints.call(this),this.constraints.push(new i(this.inputType))},t.prototype.inputs=function(){return null!=this._inputs?this._inputs:this._inputs=this.el.find(":input")},t.prototype.inputValue=function(){return n.trim(this.inputs().val())},t.prototype.inputAttrs=function(){var e,t;return{id:this.id+"-element","class":"echoforms-element-"+(null!=(e=null!=(t=this.inputElementType)?t:this.inputClass)?e:this.ui[0].nodeName),autocomplete:"off"}},t.prototype.saveToModel=function(){return t.__super__.saveToModel.call(this),this.refExpr?this.ref().text(this.inputValue()):void 0},t.prototype.loadFromModel=function(){return t.__super__.loadFromModel.call(this),this.refExpr?this.inputs().val(this.refValue()):void 0},t.prototype.buildDom=function(){return t.__super__.buildDom.call(this).addClass("echoforms-typed-control")},t.prototype.buildElementsDom=function(){return t.__super__.buildElementsDom.call(this).append(n("<"+this.inputTag+">",this.inputAttrs()))},t}(a),e.exports=o},function(e,t,r){var n,a;a=r(2),n=function(){function e(e){this.message=e}return e.prototype.check=function(e,t,r){return a.warn(this.constructor.name+" must override check")},e}(),e.exports=n},function(e,t,r){var n,a,i,o,s=function(e,t){return function(){return e.apply(t,arguments)}};i=r(19),n=r(1),o=r(2),a=function(){function e(t,r,a,i){var o,c,l,d,h,u;for(this.ui=t,this.model=r,this.controlClasses=a,this.resolver=i,this.onChange=s(this.onChange,this),this.changed=s(this.changed,this),u=this.ui,this.refExpr=u.attr("ref"),this.id=null!=(d=u.attr("id"))?d:"echoforms-control-"+e.echoformsControlUniqueId++,this.relevantExpr=u.attr("relevant"),this.requiredExpr=u.attr("required"),this.readonlyExpr=u.attr("readonly"),this.label=u.attr("label"),h=u.children("help"),c=0,l=h.length;l>c;c++)o=h[c],this.help=n(o).text();this.loadConstraints(),this.el=this.buildDom()}return e.echoformsControlUniqueId=0,e.prototype.loadConstraints=function(){var e,t,r,a,o,s,c,l;for(this.constraints=[],this.requiredExpr&&(this.requiredConstraint=new i.Required(this.requiredExpr),this.constraints.push(this.requiredConstraint)),s=this.ui.find("> constraints > constraint"),c=[],e=0,t=s.length;t>e;e++)a=s[e],a=n(a),r=a.children("alert").text(),o=a.children("pattern"),l=a.children("xpath"),o.length>0&&this.constraints.push(new i.Pattern(o.text(),r)),l.length>0?c.push(this.constraints.push(new i.XPath(l.text(),r))):c.push(void 0);return c},e.prototype.required=function(){return null!=this.requiredConstraint?!this.requiredConstraint.check(void 0,this.model,this.resolver):void 0},e.prototype.ref=function(){return null!=this.refExpr?n(this.xpath(this.refExpr)):this.model},e.prototype.refValue=function(){var e,t;try{return null!=this.refExpr?n.trim(this.ref().text()):void 0}catch(e){throw t=e,t+"<br/>Error found while accessing the model element associated with form ui control: ["+n("<div/>").text(this.ui[0].outerHTML).html()+"]."}},e.prototype.inputValue=function(){return o.warn(this.constructor.name+" must override inputValue")},e.prototype.loadFromModel=function(){},e.prototype.validate=function(){var e,t,r,n;return n=null==this.relevantExpr||!!this.xpath(this.relevantExpr),r=null!=this.readonlyExpr&&!!this.xpath(this.readonlyExpr),null!=this.relevantExpr&&this.relevant(n),null!=this.readonlyExpr&&this.readonly(r),t=function(){var t,r,n,a,i;for(n=this.constraints,i=[],t=0,r=n.length;r>t;t++)e=n[t],e.check(null!=(a=this.refValue())?a:this.inputValue(),this.model,this.resolver)||i.push(e.message);return i}.call(this),this.setErrors(t)},e.prototype.saveToModel=function(){},e.prototype.xpath=function(e){return o.execXPath(this.model,e,this.resolver)},e.prototype.element=function(){return null!=this.el?this.el:this.el=this.buildDom()},e.prototype.isChanged=function(e){return this.refValue()!==this.inputValue()||!this.refExpr},e.prototype.changed=function(){return this.el.trigger("echoforms:modelchange")},e.prototype.relevant=function(e){var t,r;return null==e?!this.el.hasClass("echoforms-irrelevant"):(t=!!e,t!==this.relevant()?(this.el.toggleClass("echoforms-irrelevant",!t),this.el.toggle(t),r=this.ref(),t?r[0].removeAttribute("pruned"):r[0].setAttribute("pruned","true")):void 0)},e.prototype.readonly=function(e){var t;return null==e?this.el.hasClass("echoforms-readonly"):(t=!!e,t!==this.readonly()?(this.el.toggleClass("echoforms-readonly ui-state-disabled",t),this.updateReadonly(t)):void 0)},e.prototype.updateReadonly=function(e){return this.inputs().attr("disabled",e),this.inputs().attr("readonly",e)},e.prototype.onChange=function(e){return this.isChanged()?(this.saveToModel(),this.changed()):void 0},e.prototype.buildLabelDom=function(){return null!=this.label?n("<label>",{"class":"echoforms-label","for":this.id+"-element"}).text(this.label):n()},e.prototype.buildHelpDom=function(){var e,t,r,a,i;for(i=n("<div>",{"class":"echoforms-help"}),a=this.ui.children("help"),t=0,r=a.length;r>t;t++)e=a[t],n("<p>",{"class":"echoforms-help-item"}).text(n(e).text()).appendTo(i);return i},e.prototype.buildControlDom=function(){return n("<div>",{id:this.id,"class":"echoforms-control echoforms-control-"+this.ui[0].nodeName})},e.prototype.buildElementsDom=function(){return n("<div>",{"class":"echoforms-elements"})},e.prototype.buildErrorsDom=function(){return n("<div>",{"class":"echoforms-errors"})},e.prototype.setErrors=function(e){var t,r,a,i,o;for(r=n(),a=0,i=e.length;i>a;a++)o=e[a],t=n('<div class="echoforms-error">'),t.text(o),r=r.add(t);return this.el.children(".echoforms-errors").empty().append(r)},e.prototype.buildDom=function(e){return null==e&&(e=null),this.buildControlDom().append(this.buildLabelDom()).append(this.buildElementsDom()).append(this.buildErrorsDom()).append(this.buildHelpDom())},e.prototype.addedToDom=function(){},e}(),e.exports=a},function(e,t,r){var n,a,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;a=r(4),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.selector="input",t.prototype.inputClass="input",t.prototype.inputTag="input",t.prototype.inputElementType="text",t.prototype.inputAttrs=function(){var e;return e=t.__super__.inputAttrs.call(this),e.type=this.inputElementType,"datetime"===this.inputType&&(e.placeholder="YYYY-MM-DDTHH:MM:SS"),e},t}(a),e.exports=n},function(e,t,r){var n,a,i,o,s=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=r(1),a=r(6),o=r(2),i=function(e){function t(e,r,n,a){e.removeAttr("required"),t.__super__.constructor.call(this,e,r,n,a)}return s(t,e),t.prototype.inputs=function(){return n()},t.prototype.loadFromModel=function(){var e,r,n,a,i;for(t.__super__.loadFromModel.call(this),a=this.controls,i=[],r=0,n=a.length;n>r;r++)e=a[r],i.push(e.loadFromModel());return i},t.prototype.buildLabelDom=function(){return null!=this.label?n("<h1>",{"class":"echoforms-label"}).text(this.label):n()},t.prototype.buildDom=function(){var e,r,a,i,s,c,l,d,h,u,f,p,g,b;for(g=t.__super__.buildDom.call(this).addClass("echoforms-grouping-control"),g.children(".echoforms-label").after(g.children(".echoforms-help")),a=this.ref(),a.length<1&&o.error("Could not find the model element associated with this group.  Verify that @ref ["+this.refExpr+"] is correct and that the namespace is set correctly"),b=this.ui,i=n(),this.controls=c=[],f=b.children(),l=0,h=f.length;h>l;l++)if(r=f[l],"help"!==r.nodeName&&"constraints"!==r.nodeName)for(p=this.controlClasses,d=0,u=p.length;u>d;d++)if(e=p[d],n(r).is(e.selector)){s=new e(n(r),a,this.controlClasses,this.resolver),c.push(s),i=i.add(s.el);break}return g.find(".echoforms-elements").replaceWith(n('<div class="echoforms-children">').append(i)),g},t.prototype.updateReadonly=function(e){var r,n,a,i,o;for(t.__super__.updateReadonly.call(this,e),i=this.controls,o=[],n=0,a=i.length;a>n;n++)r=i[n],o.push(r.updateReadonly(e));return o},t.prototype.validate=function(){var e,r,n,a,i;for(t.__super__.validate.call(this),a=this.controls,i=[],r=0,n=a.length;n>r;r++)e=a[r],i.push(e.validate());return i},t.prototype.addedToDom=function(){var e,r,n,a,i;for(t.__super__.addedToDom.call(this),a=this.controls,i=[],r=0,n=a.length;n>r;r++)e=a[r],i.push(e.addedToDom());return i},t}(a),e.exports=i},function(e,t,r){var n,a,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=r(1),i=r(4),a=function(e){function t(e,r,a,i){var o,s,c;this.isMultiple="true"===e.attr("multiple"),this.valueElementName=e.attr("valueElementName"),this.items=function(){var t,r,a,i,l;for(a=e.children("item"),l=[],t=0,r=a.length;r>t;t++)o=a[t],i=[n(o).attr("label"),n(o).attr("value")],s=i[0],c=i[1],""===n(o).attr("value")&&(this.hasBlankOption=!0),null!=s&&s.length>0||(s=c),l.push([s,c]);return l}.call(this),t.__super__.constructor.call(this,e,r,a,i)}return o(t,e),t.selector="select",t.prototype.inputTag="select",t.prototype.valueElementTagName=function(e){var t,r;return null==e&&(e=this.ref()),t=[this.valueElementName],/:/.test(e[0].nodeName)&&(r=e[0].nodeName.split(":").shift()),null!=r&&t.unshift(r),t.join(":")},t.prototype.refValue=function(){var e,r,a,i,o;if(null!=this.valueElementName&&null!=this.refExpr){for(i=this.ref().children(),o=[],r=0,a=i.length;a>r;r++)e=i[r],o.push(n(e).text());return o}return t.__super__.refValue.call(this)},t.prototype.saveToModel=function(){var e,r,a,i,o,s,c,l,d;if(null!=this.valueElementName&&null!=this.refExpr){for(c=this.ref().empty(),l=this.valueElementTagName(c),o=this.inputValue(),s=[],r=0,a=o.length;a>r;r++)d=o[r],e=document.createElementNS(c[0].namespaceURI,l),i=n(e).text(d),c.append(i),s.push(i[0].namespaceURI=c[0].namespaceURI);return s}return t.__super__.saveToModel.call(this)},t.prototype.loadFromModel=function(){var e,r;return null!=this.valueElementName&&null!=this.refExpr?(this.validate(),r=function(){var t,r,a,i;for(a=this.ref().children(),i=[],t=0,r=a.length;r>t;t++)e=a[t],i.push(n(e).text());return i}.call(this),this.isMultiple||(r=r[0]),this.inputs().val(r)):t.__super__.loadFromModel.call(this)},t.prototype.inputValue=function(){var e;return e=this.inputs().val(),null==this.valueElementName||e instanceof Array||(e=null!=e&&""!==e?[e]:[]),e},t.prototype.inputAttrs=function(){return n.extend(t.__super__.inputAttrs.call(this),{multiple:this.isMultiple})},t.prototype.hasModelVal=function(){return this.ref().children().length>0},t.prototype.buildElementsDom=function(){var e,r,a,i,o,s,c,l;for(c=t.__super__.buildElementsDom.call(this),e=c.children("select"),this.required()?this.hasBlankOption||this.hasModelVal()||e.append('<option value=""> -- Select a value -- </option>'):this.hasBlankOption||this.hasModelVal()||e.append('<option value=""> -- No Selection -- </option>'),o=this.items,r=0,i=o.length;i>r;r++)s=o[r],a=s[0],l=s[1],n("<option>",{value:l}).text(a).appendTo(e);return c},t}(i),e.exports=a},,function(e,t,r){var n,a,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=r(5),i=r(2),a=function(e){function t(e,r){var n,a,i;null==r&&(r=null),i=e.match(/^(?:[^:]+:)?(.*)$/),this.type=i?i[1]:e,a=function(){switch(this.type){case"double":return"number";case"long":return"integer between -2^63 and 2^63-1";case"int":return"integer between -2,147,483,648 and 2,147,483,647";case"short":return"integer between -32,768 and 32,767";case"datetime":return"date/time with format YYYY-MM-DDTHH:MM:SS";case"boolean":return"true or false";default:return this.type}}.call(this),n=/^[aeiou]/i.test(a)?"an":"a",t.__super__.constructor.call(this,null!=r?r:"Value must be "+n+" "+a)}return o(t,e),t.MIN_SHORT=-Math.pow(2,15),t.MAX_SHORT=Math.pow(2,15)-1,t.MIN_INT=-Math.pow(2,31),t.MAX_INT=Math.pow(2,31)-1,t.MIN_LONG=-Math.pow(2,63),t.MAX_LONG=Math.pow(2,63)-1,t.prototype.check=function(e,t,r){if(!e)return!0;switch(this.type){case"string":return!0;case"anyuri":return!0;case"double":return this.checkDouble(e);case"long":return this.checkLong(e);case"int":return this.checkInt(e);case"short":return this.checkShort(e);case"datetime":return this.checkDateTime(e);case"boolean":return this.checkBoolean(e);default:return i.warn("Unable to validate type: ",this.type),!0}},t.prototype._checkIntegerRange=function(e,t,r){var n;return n=Number(r),!isNaN(n)&&n>=e&&t>=n&&-1===r.indexOf(".")},t.prototype.checkDouble=function(e){return!isNaN(Number(e))},t.prototype.checkLong=function(e){return this._checkIntegerRange(t.MIN_LONG,t.MAX_LONG,e)},t.prototype.checkInt=function(e){return this._checkIntegerRange(t.MIN_INT,t.MAX_INT,e)},t.prototype.checkShort=function(e){return this._checkIntegerRange(t.MIN_SHORT,t.MAX_SHORT,e)},t.prototype.checkBoolean=function(e){return"true"===e||"false"===e},t.prototype.checkDateTime=function(e){var t,r,n,a,i,o,s,c,l,d,h,u;return e.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/)?(o=e.split("T"),t=o[0],h=o[1],s=function(){var e,r,n,a;for(n=t.split("-"),a=[],e=0,r=n.length;r>e;e++)d=n[e],a.push(parseInt(d,10));return a}(),u=s[0],i=s[1],r=s[2],c=function(){var e,t,r,n;for(r=h.split(":"),n=[],e=0,t=r.length;t>e;e++)d=r[e],n.push(parseInt(d,10));return n}(),n=c[0],a=c[1],l=c[2],i>=1&&12>=i&&r>=1&&31>=r&&24>n&&60>a&&60>l):!1},t}(n),e.exports=a},function(e,t,r){var n,a,i,o=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};n=r(1),i=r(2),a=function(){function e(t,r,a,i,o,s,c){var l;this.separator=s,this.label=n(t).attr("label"),this.value=n(t).attr("value"),this.relevantExpr=n(t).attr("relevant"),this.requiredExpr=n(t).attr("required"),this.model=r,this.resolver=i,null!=this.label&&this.label.length>0||(this.label=this.value),null!=s&&s.length>0&&(this.value=o+this.separator+this.value),this.ui=t,this.tree=c,this.items=function(){var o,s,d,h;for(d=t.children("item"),h=[],o=0,s=d.length;s>o;o++)l=d[o],h.push(new e(n(l),r,a,i,this.value,this.separator,c));return h}.call(this),this.start=new Date}return e.selector="item",e.prototype.inputTag="li",e.prototype.xpath=function(e){return i.execXPath(this.model,e,this.resolver)},e.prototype.node_required=function(){return!(null==this.requiredExpr||!this.xpath(this.requiredExpr))},e.prototype.node_relevant=function(){return null==this.relevantExpr||!!this.xpath(this.relevantExpr)},e.prototype.handle_relevant_or_required=function(e){var t,r,n,a,i;if(a=this.tree.tree_root,t=a.find("[node_value = '"+this.value+"']"),t.attr("item-required",this.node_required()),t.attr("item-relevant",this.node_relevant()),i=!1,n=t.find("span.echoforms-help"),"true"===a.jstree("is_disabled",t).toString()&&(i=!0),n.find(".not-available-or-required-text").remove(),t.find("a.jstree-anchor > i.jstree-icon").first().addClass("jstree-checkbox").removeClass("jstree-disabled-icon").removeClass("jstree-required-icon"),t&&(r=e[t.attr("id")]),this.node_relevant()){if(this.node_required()){if(this.addNotAvailableRequiredText(n,"[required]"),a.jstree("enable_node",t),a.jstree("check_node",t),t.find("a").css("font-style","italic"),t.find("a.jstree-anchor > i.jstree-checkbox").addClass("jstree-required-icon").removeClass("jstree-checkbox"),"false"===(null!=r?r.li_attr["item-required"]:void 0))return r.li_attr["conditionally-required"]="true",r.li_attr["item-required"]="true",r.state.disabled=!1,r.state.selected=!0}else if(a.jstree("enable_node",t),t.find("a").css("font-style","normal"),"true"===(null!=r?r.li_attr["conditionally-required"]:void 0)&&(r.li_attr["item-required"]="false",r.state.selected=!1),t.find("a.jstree-anchor > i.jstree-icon").first().addClass("jstree-checkbox").removeClass("jstree-disabled-icon").removeClass("jstree-required-icon"),i)return a.jstree("select_node",t),r.li_attr["item-relevant"]="true",r.li_attr["conditionally-relevant"]="true",r.state.selected=!0,r.state.disabled=!1}else if(this.addNotAvailableRequiredText(n,"[not available]"),a.jstree("disable_node",t),t.find("a").css("font-style","italic"),t.find("a.jstree-anchor > i.jstree-icon").first().addClass("jstree-disabled-icon").removeClass("jstree-checkbox"),"true"===(null!=r?r.li_attr["conditionally-relevant"]:void 0))return r.li_attr["item-relevant"]="false",r.state.selected=!1,r.state.disabled=!0},e.prototype.subtree_handle_relevant_or_required=function(e){var t,r,n,a,i;for(this.handle_relevant_or_required(e),a=this.items,i=[],r=0,n=a.length;n>r;r++)t=a[r],i.push(t.subtree_handle_relevant_or_required(e));return i},e.prototype.buildHelpDom=function(){var e,t,r,a,i;for(i=n("<span>",{"class":"echoforms-help"}),a=this.ui.children("help"),t=0,r=a.length;r>t;t++)e=a[t],this.addHelpText(i,n(e).text());return i},e.prototype.addNotAvailableRequiredText=function(e,t){return this.addHelpText(e,t).addClass("not-available-or-required-text")},e.prototype.addHelpText=function(e,t){return n("<span>",{"class":"echoforms-help-item"}).text(t).attr({title:t}).appendTo(e)},e.prototype.buildElementsDom=function(){var e,t,r,a,i,s,c,l;return r=n("<li>"),r.attr({node_value:this.value}),r.addClass("jstree-open"),a=this.buildHelpDom(),t={},c=this.tree.modelValues(),c.length>0&&(l=this.value,o.call(c,l)>=0)&&(t.selected=!0),this.node_relevant()||(t.disabled=!0,t.selected=!0,this.addNotAvailableRequiredText(a,"[not available]")),this.node_required()&&(t.selected=!0,this.addNotAvailableRequiredText(a,"[required]")),r.attr({"item-relevant":this.node_relevant()}),r.attr({"item-required":this.node_required()}),Object.keys(t).length>0&&r.attr({"data-jstree":JSON.stringify(t)}),r.text(this.label),r.append(a),e=n("<ul>"),i=0,s=this.items,function(){var t,r,n,a,o,c,l,d;for(d=(new Date).getTime(),l=[],r=n=o=i,c=s.length-1;c>=n&&(t=s[r],null!=t);r=n+=1)a=t.buildElementsDom(),a.appendTo(e),i<s.length-1&&(new Date).getTime()-d>40?(console.log("TreeItem construction yielding to browser to avoid unresponsive script"),l.push(postMessage("script-timeout-message","*"))):l.push(void 0);return l}(),this.items.length>0&&e.appendTo(r),r},e}(),e.exports=a},function(e,t,r){var n,a;n={Checkbox:r(23),Input:r(7),UrlOutput:r(31),Output:r(14),Select:r(9),Range:r(15),Secret:r(28),Textarea:r(30),Group:r(27),Select:r(9),Selectref:r(29),Base:r(6),Typed:r(4),Grouping:r(8)},a=[n.Checkbox,n.Input,n.UrlOutput,n.Output,n.Select,n.Range,n.Secret,n.Group,n.Select,n.Selectref,n.Textarea],e.exports={matchList:a,classes:n,extras:{RangeSlider:r(24),Tree:r(25),TreeItem:r(12)}}},function(e,t,r){var n,a,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=r(1),i=r(4),a=function(e){function t(e,r,n,a){this.valueExpr=e.attr("value"),t.__super__.constructor.call(this,e,r,n,a)}return o(t,e),t.selector="output",t.prototype.inputTag="p",t.prototype.inputs=function(){return n()},t.prototype.inputAttrs=function(){var e;return e=t.__super__.inputAttrs.call(this),delete e.autocomplete,e},t.prototype.refValue=function(){return this.valueExpr?this.xpath(this.valueExpr):t.__super__.refValue.call(this)},t.prototype.loadFromModel=function(){var e,r;try{if(t.__super__.loadFromModel.call(this),this.refExpr||this.valueExpr)return this.el.find(".echoforms-elements > p").text(this.refValue())}catch(e){throw r=e,r+"<br/>Error found while setting initial value of output control: ["+n("<div/>").text(this.ui[0].outerHTML).html()+"]."}},t}(i),e.exports=a},function(e,t,r){var n,a,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(7),a=function(e){function t(e,r,n,a){this.start=parseInt(e.attr("start"),10),this.end=parseInt(e.attr("end"),10),this.step=parseInt(e.attr("step"),10),t.__super__.constructor.call(this,e,r,n,a)}return i(t,e),t.selector="range",t}(n),e.exports=a},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(n[i]=!0)}for(a=0;a<t.length;a++){var o=t[a];"number"==typeof o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),e.push(o))}},e}},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],a=h[n.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(s(n.parts[i],t))}else{for(var o=[],i=0;i<n.parts.length;i++)o.push(s(n.parts[i],t));h[n.id]={id:n.id,refs:1,parts:o}}}}function a(e){for(var t=[],r={},n=0;n<e.length;n++){var a=e[n],i=a[0],o=a[1],s=a[2],c=a[3],l={css:o,media:s,sourceMap:c};r[i]?r[i].parts.push(l):t.push(r[i]={id:i,parts:[l]})}return t}function i(){var e=document.createElement("style"),t=p();return e.type="text/css",t.appendChild(e),e}function o(){var e=document.createElement("link"),t=p();return e.rel="stylesheet",t.appendChild(e),e}function s(e,t){var r,n,a;if(t.singleton){var s=b++;r=g||(g=i()),n=c.bind(null,r,s,!1),a=c.bind(null,r,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=o(),n=d.bind(null,r),a=function(){r.parentNode.removeChild(r),r.href&&URL.revokeObjectURL(r.href)}):(r=i(),n=l.bind(null,r),a=function(){r.parentNode.removeChild(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}function c(e,t,r,n){var a=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function l(e,t){var r=t.css,n=t.media;t.sourceMap;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function d(e,t){var r=t.css,n=(t.media,t.sourceMap);n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var a=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(a),i&&URL.revokeObjectURL(i)}var h={},u=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},f=u(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=u(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,b=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=f());var r=a(e);return n(r,t),function(e){for(var i=[],o=0;o<r.length;o++){var s=r[o],c=h[s.id];c.refs--,i.push(c)}if(e){var l=a(e);n(l,t)}for(var o=0;o<i.length;o++){var c=i[o];if(0===c.refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete h[c.id]}}}};var _=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports={pluginName:"echoforms"}},function(e,t,r){e.exports={Pattern:r(20),Required:r(21),Type:r(11),XPath:r(22)}},function(e,t,r){var n,a,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(5),a=function(e){function t(e,r){this.pattern=new RegExp("^"+e+"$"),t.__super__.constructor.call(this,null!=r?r:"Invalid")}return i(t,e),t.prototype.check=function(e,t,r){return!e||e instanceof Array&&0===e.length||null!==this.pattern.exec(e)},t}(n),e.exports=a},function(e,t,r){var n,a,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=r(5),i=r(2).execXPath,a=function(e){function t(e,r){this.xpath=e,null==r&&(r="Required field"),t.__super__.constructor.call(this,r)}return o(t,e),t.prototype.check=function(e,t,r){return e instanceof Array&&0===e.length&&(e=null),!!e||!i(t,this.xpath,r)},t}(n),e.exports=a},function(e,t,r){var n,a,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);
return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=r(5),i=r(2).execXPath,a=function(e){function t(e,r){this.xpath=e,t.__super__.constructor.call(this,null!=r?r:"Invalid")}return o(t,e),t.prototype.check=function(e,t,r){return i(t,this.xpath,r)},t}(n),e.exports=a},function(e,t,r){var n,a,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;a=r(7),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.selector="input[type$=boolean]",t.prototype.inputClass="checkbox",t.prototype.inputElementType="checkbox",t.prototype.inputValue=function(){return this.inputs()[0].checked.toString()},t.prototype.loadFromModel=function(){return t.__super__.loadFromModel.call(this),this.refExpr?this.inputs()[0].checked="true"===this.refValue():void 0},t.prototype.buildDom=function(){var e;return e=t.__super__.buildDom.call(this),e.addClass("echoforms-control-checkbox"),e.children(".echoforms-elements").after(e.children(".echoforms-label")),e},t}(a),e.exports=n},function(e,t,r){var n,a,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=r(1),a=r(15),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.selector="range",t.prototype.loadFromModel=function(){return t.__super__.loadFromModel.call(this),this.inputs().change()},t.prototype.addedToDom=function(){var e;return t.__super__.addedToDom.call(this),e=this.inputs(),n("<div/>").addClass("slider-output").insertAfter(e),e.bind("slider:ready slider:changed",function(t,r){return n(this).nextAll(".slider-output").html(e.val())}),e.simpleSlider({snap:!0,range:[this.start,this.end],step:this.step,classPrefix:"echoforms"})},t}(a),e.exports=i},function(e,t,r){var n,a,i,o,s,c=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},l={}.hasOwnProperty,d=[].slice;n=r(1),s=r(4),o=r(12),a=r(6),i=function(e){function t(e,r,i,s){var c,l;c=e.attr("id"),c&&"control"!==c&&(c+="-"+a.echoformsControlUniqueId++,e.attr("id",c)),this.separator=e.attr("separator"),this.cascade=null!=e.attr("cascade")?"true"===e.attr("cascade"):!0,this.valueElementName=e.attr("valueElementName")||"value",this.simplify_output=null!=e.attr("simplify_output")?"true"===e.attr("simplify_output"):!0,this.items=function(){var t,a,c,d;for(c=e.children("item"),d=[],t=0,a=c.length;a>t;t++)l=c[t],d.push(new o(n(l),r,i,s,"",this.separator,this));return d}.call(this),t.__super__.constructor.call(this,e,r,i,s)}return c(t,e),t.selector="tree",t.prototype.inputTag="div",t.prototype.validate=function(){var e,r,n,a,i;for(t.__super__.validate.call(this),e=this.tree_root.jstree("get_json","#",{flat:!0}).map(function(e){return function(t){return e.tree_root.jstree("get_node",t.id)}}(this)).reduce(function(e,t){return e[t.id]=t,e},{}),i=this.items,n=0,a=i.length;a>n;n++)r=i[n],r.subtree_handle_relevant_or_required(e);return null!=this.el?this.saveToModel():void 0},t.prototype.valueElementTagName=function(e){var t,r;return null==e&&(e=this.ref()),t=[this.valueElementName],/:/.test(e[0].nodeName)&&(r=e[0].nodeName.split(":").shift()),null!=r&&t.unshift(r),t.join(":")},t.prototype.refValue=function(){var e,r,a,i,o;if(null!=this.valueElementName&&null!=this.refExpr){for(i=this.ref().children(),o=[],r=0,a=i.length;a>r;r++)e=i[r],o.push(n(e).text());return o}return t.__super__.refValue.call(this)},t.prototype.saveToModel=function(){var e,r,a,i,o,s,c,l,d;if(null!=this.valueElementName&&null!=this.refExpr){for(c=this.ref().empty(),l=this.valueElementTagName(c),o=this.inputValue(),s=[],r=0,a=o.length;a>r;r++)d=o[r],e=document.createElementNS(c[0].namespaceURI,l),i=n(e).text(d),c.append(i),s.push(i[0].namespaceURI=c[0].namespaceURI);return s}return t.__super__.saveToModel.call(this)},t.prototype.loadFromModel=function(){},t.prototype.modelValues=function(){var e,t;return null!=this.valueElementName&&null!=this.refExpr?t=function(){var t,r,a,i;for(a=this.ref().children(),i=[],t=0,r=a.length;r>t;t++)e=a[t],i.push(n(e).text());return i}.call(this):[]},t.prototype.inputs=function(){return this.el.find("div.jstree")},t.prototype.inputValue=function(){var e,t,r,n,a,i;return e=this.inputs().jstree("get_json","#",{flat:!0}).map(function(e){return function(t){return e.inputs().jstree("get_node",t.id)}}(this)),t=e.filter(function(e){var t;return e.state.selected&&(null!=(t=e.li_attr.node_value)?t.length:void 0)>0&&"true"===e.li_attr["item-relevant"]}),a=e.filter(function(e){var t;return"true"===e.li_attr["item-relevant"]&&"true"===e.li_attr["item-required"]&&(null!=(t=e.li_attr.node_value)?t.length:void 0)>0&&0===e.children.length}),r=this._removeDupNodes(d.call(t).concat(d.call(a))),this.simplify_output&&(i=r.filter(function(e){return 0===e.children.length&&e.state.selected||"true"===e.li_attr["item-required"]}),n=r.filter(function(e){return function(t){var r;return r=t.children.filter(function(t){var r,n,a;return r=e.inputs().jstree("get_node",t),a=r.state.selected&&"true"===r.li_attr["item-relevant"],n=e._hasIrrelevantDescendants(r),a&&!n}),t.children.length>0&&r.length===t.children.length}}(this)),r=d.call(i).concat(d.call(n)).filter(function(e){return function(t){var r,n,a,i,o,s;if(a=e.inputs().jstree("get_node",t.parent),"#"===a.id)return!0;if(!a.state.selected)return!0;for(i=a.children,r=0,n=i.length;n>r;r++)if(s=i[r],s!==t.id)return o=e.inputs().jstree("get_node",s),o.state.selected&&"true"===o.li_attr["item-relevant"]?e._hasIrrelevantDescendants(o):!0;return!1}}(this))),r=this._removeDupNodes(r),r.map(function(e){return e.li_attr.node_value})},t.prototype._hasIrrelevantDescendants=function(e){var t,r,n,a,i;for(i=e.children,n=0,a=i.length;a>n;n++){if(r=i[n],t=this.inputs().jstree("get_node",r),0!==t.children.length)return this._hasIrrelevantDescendants(t);if("false"===t.li_attr["item-relevant"])return!0}return!1},t.prototype._removeDupNodes=function(e){var t,r,n,a,i,o;for(a={},r=t=0,n=e.length;n>=0?n>t:t>n;r=n>=0?++t:--t)a[e[r].id]=e[r];i=[];for(r in a)o=a[r],i.push(o);return i},t.prototype.inputAttrs=function(){return n.extend(t.__super__.inputAttrs.call(this),{separator:this.separator,cascade:this.cascade})},t.prototype.buildElementsDom=function(){var e,r,a,i,o,s,c;return o=(new Date).getTime(),a=t.__super__.buildElementsDom.call(this),i=a.children("div"),i.addClass("jstree"),i.append("<ul>"),c=i.children("ul"),e=0,r=this.items,function(){var t,n,a,i,s,l,d;for(d=[],n=a=s=e,l=r.length-1;l>=a&&(t=r[n],null!=t);n=a+=1)i=t.buildElementsDom(),i.appendTo(c),e<r.length-1&&(new Date).getTime()-o>40?(console.log("Tree construction yielding to browser to avoid unresponsive script"),d.push(setTimeout(arguments.callee,0))):d.push(void 0);return d}(),s=!1,i.jstree({checkbox:{keep_selected_style:!1,three_state:this.cascade},search:{fuzzy:!1},plugins:["checkbox","search"]}).on("ready.jstree",function(e){return function(){var t,r,a,o,s,c,l;return s=i.find("li").first().attr("id"),i.jstree("close_all").jstree("open_node",s),t=n(e).attr("id")+"-bands-count",r=n(e).attr("id")+"-bands-filter",c=n(e).attr("id")+"-selected-bands-count",o=e._updateTreeStats(i),a=o[0],l=o[1],i.prepend('<i class="jstree-spinner fa fa-spinner fa-spin fa-fw" style="display: none"></i>'),i.prepend("<div id='"+t+"' class='bands-count'><span id='"+c+"' class='selected-bands-count'>"+a+" of "+l+"</span> bands selected</div>"),i.prepend("<input id='"+r+"' class='bands-filter' placeholder='Filter bands here'></input>")}}(this)).on("changed.jstree",function(e){return function(){var t,r,a,o,s;return a=e._updateTreeStats(i),r=a[0],s=a[1],t=n(e).attr("id")+"-bands-count",o=n(e).attr("id")+"-selected-bands-count",n("#"+t).html("<div id='"+t+"' class='bands-count'><span id='"+o+"' class='selected-bands-count'>"+r+" of "+s+"</span> bands selected</div>")}}(this)).on("keyup","#"+n(this).attr("id")+"-bands-filter",function(){return s&&clearTimeout(s),s=setTimeout(function(){var e;return e=n("#"+n(this).attr("id")+"-bands-filter").val(),e.length>1?i.jstree("search",e):void 0},250)}).on("before_open.jstree",function(){return n(".jstree-spinner").show()}).on("after_open.jstree",function(){return n(".jstree-spinner").hide()}),this.tree_root=i,a},t.prototype._updateTreeStats=function(e){var t,r,n,a,i,o,s;for(s=0,t=0,i=e.jstree("get_json","#",{flat:!0}),r=0,n=i.length;n>r;r++)a=i[r],"true"===(null!=(o=a.li_attr)?o["item-required"]:void 0)&&e.jstree("check_node",a),e.jstree("is_leaf",a)&&(s+=1,!e.jstree("is_disabled",a)&&e.jstree("is_checked",a)&&(t+=1));return[t,s]},t}(s),e.exports=i},function(e,t,r){var n,a,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;a=r(8),i=r(2),n=function(e){function t(e,r,n,a){t.__super__.constructor.call(this,e,r,n,a),this.el.bind("echoforms:modelchange",function(e){return function(){return e.loadFromModel(),e.validate()}}(this)),this.loadFromModel(),this.validate()}return o(t,e),t.prototype.ref=function(){return this.model.children()},t.prototype.isValid=function(){return 0===this.el.find(".echoforms-error:visible").length},t.prototype.serialize=function(e){var t;return null==e&&(e={}),t=this.model.children().clone(),(null==e.prune||e.prune===!0)&&t.find("*[pruned=true]").remove(),(null==e.prune||e.prune===!0)&&t.find("*:hasNoValue").remove(),i.printDOMToString(t[0])},t}(a),e.exports=n},function(e,t,r){var n,a,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;a=r(8),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.selector="group",t}(a),e.exports=n},function(e,t,r){var n,a,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(7),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.selector="secret",t.prototype.inputElementType="password",t}(n),e.exports=a},function(e,t,r){var n,a,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(9),a=function(e){function t(e,r,n,a){var i;i=e.attr("valueElementName"),null==i&&e.attr("valueElementName","value"),t.__super__.constructor.call(this,e,r,n,a)}return i(t,e),t.selector="selectref",t.prototype.buildDom=function(){return t.__super__.buildDom.call(this).addClass("echoforms-control-select")},t}(n),e.exports=a},function(e,t,r){var n,a,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;a=r(4),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.selector="textarea",t.prototype.inputTag="textarea",t}(a),e.exports=n},function(e,t,r){var n,a,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(14),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.selector="output[type$=anyURI], output[type$=anyuri]",t.prototype.inputTag="a",t.prototype.inputAttrs=function(){var e;return e=t.__super__.inputAttrs.call(this),e.href="#",e},t.prototype.loadFromModel=function(){var e;return e=this.refValue(),this.refExpr||this.valueExpr?this.el.find(".echoforms-elements > a").text(e).attr("href",e):void 0},t}(n),e.exports=a},function(e,t,r){(function(t){var n,a,i,o,s,c,l;n=r(1),l=r(2),o=r(13),i=r(26),t.expr[":"].hasNoValue=function(e){return 0===t.trim(t(e).text()).length},s=o.matchList.concat(),c={controls:[]},a=function(){function e(e,t){var r,a,o,d,h,u,f,p,g,b,_,m,v,j,y,x,k;this.root=e;try{if(this.options=n.extend({},c,t),this.form=g=this.options.form,this.controlClasses=r=this.options.controls.concat(s),null==g&&l.error("You must specify a 'form' option when creating a new ECHO Forms instance"),this.resolver=y=l.buildXPathResolverFn(g),this.doc=a=n(l.parseXML(g)),this.model=m=a.find("form > model > instance"),v=this.options.prepopulate)for(p=a.find('form > model > extension[name="pre:prepopulate"] pre\\:expression'),f=a.find('form > model > extension[name="pre:prepopulate"] expression'),u=p.length>f.length?p:f,b=0,_=u.length;_>b;b++)h=u[b],x=h.getAttribute("source"),v.hasOwnProperty(x)&&(j=h.getAttribute("ref"),n(l.execXPath(m.children(),j,y)).text(v[x]));this.ui=k=a.find("form > ui"),this.control=new i(k,m,r,y),this.root.append(this.control.element()),this.control.addedToDom()}catch(o){throw d=o,l.error(d),d}}return e.registerControl=function(e,t){return null==t&&(t={}),s.unshift(e)},e.prototype.destroy=function(){return this.root.empty()},e.prototype.isValid=function(){return this.control.isValid()},e.prototype.serialize=function(e){return this.control.serialize(e)},e}(),e.exports=a}).call(t,r(1))},function(e,t,r){e.exports=r(34)},function(e,t,r){var n,a,i,o,s,c=[].slice;n=r(1),s=r(2),i=r(13),o=r(18).pluginName,a=r(32),n[o]={control:function(e,t){return null==t&&(t={}),a.registerControl(e),t["export"]&&(n[o].controls[e.name]=e),this},controls:n.extend({},i.classes),extras:n.extend({},i.extras)},n.fn[o]=function(){var e,t,r,i;return e=1<=arguments.length?c.call(arguments,0):[],e.length>0&&"string"==typeof e[0]?(r=e,t=r[0],e=2<=r.length?c.call(r,1):[],i=this.map(function(){var r,a,i,l;return a=n.data(this,o),a?/^debug_/.test(t)?(i=t.split("_"),l=i[0],r=2<=i.length?c.call(i,1):[],a[r.join("_")]):"destroy"!==t?/^_/.test(t)||"function"!=typeof(null!=a?a[t]:void 0)?(s.error("Could not call "+t+" on "+o+" instance:",this),null):a[t].apply(a,e):(n.removeData(this,o),"function"==typeof(null!=a?a.destroy:void 0)?a.destroy():void 0):(s.warn(o+" not found on instance"),this)}),i[0]):e.length<2?this.each(function(){var t;return t=e[0],null==n.data(this,o)?n.data(this,o,new a(n(this),t)):void 0}):(s.error("Bad arguments to "+o+":",e),this)}},function(e,t,r){t=e.exports=r(16)(),t.push([e.id,".echoforms-control-ui{color:#222;font-family:Helvetica,Arial,sans-serif;border-left:11em solid #f8f8f8}.echoforms-control-ui>.echoforms-children{margin-left:-11em}.echoforms-control-ui p{margin-top:0;margin-bottom:0}.echoforms-control{clear:both;padding:.7em 0}.echoforms-control>.echoforms-elements,.echoforms-control>.echoforms-help>.echoforms-help-item,.echoforms-control>.echoforms-label{display:block;padding-top:.2em;padding-bottom:.2em}.echoforms-typed-control>*{margin-left:11em;padding-left:1em}.echoforms-typed-control>.echoforms-label{box-sizing:border-box;float:left;margin-left:0;width:11em;padding:.3em .5em .2em;text-align:right}.echoforms-control-group{border:solid #888;border-width:1px 0}.echoforms-control-group>.echoforms-label{background-color:#e0e0e0;margin:0;padding:1em}.echoforms-control-group>.echoforms-help>.echoforms-help-item{background-color:#eee;padding:.5em 1em;color:#222}.echoforms-control-group:first-child{border-top-width:0}.echoforms-control-group:last-child{border-bottom-width:0}.echoforms-control-checkbox>.echoforms-elements,.echoforms-control-checkbox>.echoforms-label{display:inline;float:none}.echoforms-control-tree .echoforms-help{position:absolute;margin-left:10px}.echoforms-control-tree .echoforms-help>.echoforms-help-item{text-overflow:ellipsis;width:500px;white-space:nowrap;overflow:hidden}.echoforms-control-output>.echoforms-elements{padding-top:.3em;padding-bottom:.2em}.echoforms-error{color:#b94a48}.echoforms-help-item{color:#3a87ad;font-style:italic}.jstree-disabled-icon,.jstree-required-icon{background-image:url("+r(3)+");background-repeat:no-repeat;background-color:transparent}.jstree-required-icon{background-position:-3px -67px}.jstree-disabled-icon{background-position:-36px -68px}.slider{float:left;width:30em;margin-right:1em!important}.slider>.dragger{background:#8dca09;background:-webkit-linear-gradient(top,#8dca09,#72a307);background:linear-gradient(top,#8dca09,#72a307);box-shadow:inset 0 2px 2px hsla(0,0%,100%,.5),0 2px 8px rgba(0,0,0,.2);border-radius:10px;border:1px solid #496805;width:1pc;height:1pc}.slider>.dragger:hover{background:-webkit-linear-gradient(top,#8dca09,#8dca09)}.slider>.track{background:#ccc;background:-webkit-linear-gradient(top,#bbb,#ddd);background:linear-gradient(top,#bbb,#ddd);box-shadow:inset 0 2px 4px rgba(0,0,0,.1);border-radius:8px;border:1px solid #aaa;height:4px}",""])},,function(e,t,r){var n=r(35);"string"==typeof n&&(n=[[e.id,n,""]]);r(17)(n,{});n.locals&&(e.exports=n.locals)},,function(e,t){e.exports=window},,function(e,t,r){(function(t){e.exports=t.wgxpath=r(49)}).call(t,function(){return this}())},,,,,,,,function(e,t){!function(){function e(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function t(e){return"string"==typeof e}function r(e,t,r){return e.call.apply(e.bind,arguments)}function n(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function a(e,t,i){return a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:n,a.apply(null,arguments)}function i(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function o(e){function t(){}var r=V;t.prototype=r.prototype,e.v=r.prototype,e.prototype=new t}function s(){return qe.navigator?qe.navigator.userAgent:null}function c(){var e=qe.document;return e?e.documentMode:void 0}function l(e){if(!Ge[e]){for(var t=0,r=String(Ue).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),n=String(e).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),a=Math.max(r.length,n.length),i=0;0==t&&a>i;i++){var o=r[i]||"",s=n[i]||"",c=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var d=c.exec(o)||["","",""],h=l.exec(s)||["","",""];if(0==d[0].length&&0==h[0].length)break;t=((0==d[1].length?0:parseInt(d[1],10))<(0==h[1].length?0:parseInt(h[1],10))?-1:(0==d[1].length?0:parseInt(d[1],10))>(0==h[1].length?0:parseInt(h[1],10))?1:0)||((0==d[2].length)<(0==h[2].length)?-1:(0==d[2].length)>(0==h[2].length)?1:0)||(d[2]<h[2]?-1:d[2]>h[2]?1:0)}while(0==t)}Ge[e]=t>=0}}function d(e,t,r,n){this.a=e,this.nodeName=r,this.nodeValue=n,this.nodeType=2,this.parentNode=this.ownerElement=t}function h(e,t){var r=tt&&"href"==t.nodeName?e.getAttribute(t.nodeName,2):t.nodeValue;return new d(t,e,t.nodeName,r)}function u(e,r){var n;e:{n=e.length;for(var a=t(e)?e.split(""):e,i=0;n>i;i++)if(i in a&&r.call(void 0,a[i],i,e)){n=i;break e}n=-1}return 0>n?null:t(e)?e.charAt(n):e[n]}function f(e){return rt.concat.apply(rt,arguments)}function p(e,t,r){return 2>=arguments.length?rt.slice.call(e,t):rt.slice.call(e,t,r)}function g(e){var t=null,r=e.nodeType;if(1==r&&(t=e.textContent,t=void 0==t||null==t?e.innerText:t,t=void 0==t||null==t?"":t),"string"!=typeof t)if(et&&"title"==e.nodeName.toLowerCase()&&1==r)t=e.text;else if(9==r||1==r){e=9==r?e.documentElement:e.firstChild;for(var r=0,n=[],t="";e;){do 1!=e.nodeType&&(t+=e.nodeValue),et&&"title"==e.nodeName.toLowerCase()&&(t+=e.text),n[r++]=e;while(e=e.firstChild);for(;r&&!(e=n[--r].nextSibling););}}else t=e.nodeValue;return""+t}function b(e,t,r){if(null===t)return!0;try{if(!e.getAttribute)return!1}catch(n){return!1}return tt&&"class"==t&&(t="className"),null==r?!!e.getAttribute(t):e.getAttribute(t,2)==r}function _(e,r,n,a,i){return(et?m:v).call(null,e,r,t(n)?n:null,t(a)?a:null,i||new C)}function m(e,t,r,n,a){if(e instanceof ue||8==e.b||r&&null===e.b){var i=t.all;if(!i)return a;if(e=k(e),"*"!=e&&(i=t.getElementsByTagName(e),!i))return a;if(r){for(var o=[],s=0;t=i[s++];)b(t,r,n)&&o.push(t);i=o}for(s=0;t=i[s++];)"*"==e&&"!"==t.tagName||O(a,t);return a}return x(e,t,r,n,a),a}function v(e,t,r,n,a){return t.getElementsByName&&n&&"name"==r&&!Fe?(t=t.getElementsByName(n),at(t,function(t){e.a(t)&&O(a,t)})):t.getElementsByClassName&&n&&"class"==r?(t=t.getElementsByClassName(n),at(t,function(t){t.className==n&&e.a(t)&&O(a,t)})):e instanceof Z?x(e,t,r,n,a):t.getElementsByTagName&&(t=t.getElementsByTagName(e.c()),at(t,function(e){b(e,r,n)&&O(a,e)})),a}function j(e,t,r,n,a){var i;if((e instanceof ue||8==e.b||r&&null===e.b)&&(i=t.childNodes)){var o=k(e);return"*"==o||(i=it(i,function(e){return e.tagName&&e.tagName.toLowerCase()==o}))?(r&&(i=it(i,function(e){return b(e,r,n)})),at(i,function(e){"*"==o&&("!"==e.tagName||"*"==o&&1!=e.nodeType)||O(a,e)}),a):a}return y(e,t,r,n,a)}function y(e,t,r,n,a){for(t=t.firstChild;t;t=t.nextSibling)b(t,r,n)&&e.a(t)&&O(a,t);return a}function x(e,t,r,n,a){for(t=t.firstChild;t;t=t.nextSibling)b(t,r,n)&&e.a(t)&&O(a,t),x(e,t,r,n,a)}function k(e){if(e instanceof Z){if(8==e.b)return"!";if(null===e.b)return"*"}return e.c()}function w(e,t){if(e.contains&&1==t.nodeType)return e==t||e.contains(t);if("undefined"!=typeof e.compareDocumentPosition)return e==t||Boolean(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e}function A(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if(Fe&&!(Fe&&$e>=9)){if(9==e.nodeType)return-1;if(9==t.nodeType)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var r=1==e.nodeType,n=1==t.nodeType;if(r&&n)return e.sourceIndex-t.sourceIndex;var a=e.parentNode,i=t.parentNode;return a==i?N(e,t):!r&&w(a,t)?-1*E(e,t):!n&&w(i,e)?E(t,e):(r?e.sourceIndex:a.sourceIndex)-(n?t.sourceIndex:i.sourceIndex)}return n=9==e.nodeType?e:e.ownerDocument||e.document,r=n.createRange(),r.selectNode(e),r.collapse(!0),n=n.createRange(),n.selectNode(t),n.collapse(!0),r.compareBoundaryPoints(qe.Range.START_TO_END,n)}function E(e,t){var r=e.parentNode;if(r==t)return-1;for(var n=t;n.parentNode!=r;)n=n.parentNode;return N(n,e)}function N(e,t){for(var r=t;r=r.previousSibling;)if(r==e)return-1;return 1}function C(){this.b=this.a=null,this.c=0}function S(e){this.a=e,this.next=this.b=null}function T(e,t){if(!e.a)return t;if(!t.a)return e;for(var r=e.a,n=t.a,a=null,i=null,o=0;r&&n;)r.a==n.a||r.a instanceof d&&n.a instanceof d&&r.a.f()==n.a.f()?(i=r,r=r.next,n=n.next):0<A(r.a,n.a)?(i=n,n=n.next):(i=r,r=r.next),(i.b=a)?a.next=i:e.a=i,a=i,o++;for(i=r||n;i;)i.b=a,a=a.next=i,o++,i=i.next;return e.b=a,e.c=o,e}function I(e,t){var r=new S(t);r.next=e.a,e.b?e.a.b=r:e.a=e.b=r,e.a=r,e.c++}function O(e,t){var r=new S(t);r.b=e.b,e.a?e.b.next=r:e.a=e.b=r,e.b=r,e.c++}function M(e){return(e=e.a)?e.a:null}function L(e){return(e=M(e))?g(e):""}function B(e,t){return new D(e,!!t)}function D(e,t){this.c=e,this.b=(this.d=t)?e.b:e.a,this.a=null}function R(e){switch(e.nodeType){case 1:return i(q,e);case 9:return R(e.documentElement);case 11:case 10:case 6:case 12:return P;default:return e.parentNode?R(e.parentNode):P}}function P(){return null}function q(e,t){if(e.prefix==t)return e.namespaceURI||"http://www.w3.org/1999/xhtml";var r=e.getAttributeNode("xmlns:"+t);return r&&r.specified?r.value||null:e.parentNode&&9!=e.parentNode.nodeType?q(e.parentNode,t):null}function Y(e,t,r){this.a=e,this.t=t||1,this.u=r||1}function V(e){this.g=e,this.a=this.e=!1,this.b=null}function U(e){return"\n  "+e.toString().split("\n").join("\n  ")}function F(e,t){e.e=t}function Q(e,t){e.a=t}function H(e,t){var r=e.evaluate(t);return r instanceof C?+L(r):+r}function W(e,t){var r=e.evaluate(t);return r instanceof C?L(r):""+r}function K(e,t){var r=e.evaluate(t);return r instanceof C?!!r.i():!!r}function z(e){V.call(this,4),this.c=e,F(this,st(this.c,function(e){return e.e})),Q(this,st(this.c,function(e){return e.a}))}function X(e,t){if(V.call(this,e.g),this.d=e,this.c=t,this.e=e.e,this.a=e.a,1==this.c.length){var r=this.c[0];r.m||r.c!=lt||(r=r.j,"*"!=r.c()&&(this.b={name:r.c(),l:null}))}}function J(){V.call(this,4)}function G(){V.call(this,4)}function Z(e,t){switch(this.j=e,this.d=void 0!==t?t:null,this.b=null,e){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function $(e){return"comment"==e||"text"==e||"processing-instruction"==e||"node"==e}function ee(e,t){this.a=e,this.b=!!t}function te(e,t,r){for(r=r||0;r<e.a.length;r++)for(var n,a=e.a[r],i=B(t),o=t.i(),s=0;n=i.next();s++){var c=e.b?o-s:s+1;if(n=a.evaluate(new Y(n,c,o)),"number"==typeof n)c=c==n;else if("string"==typeof n||"boolean"==typeof n)c=!!n;else{if(!(n instanceof C))throw Error("Predicate.evaluate returned an unexpected type.");c=0<n.i()}if(!c){c=i,n=c.c;var l=c.a;if(!l)throw Error("Next must be called at least once before remove.");var d=l.b,l=l.next;d?d.next=l:n.a=l,l?l.b=d:n.b=d,n.c--,c.a=null}}return t}function re(e,t,r,n){V.call(this,4),this.c=e,this.j=t,this.d=r||new ee([]),this.m=!!n,t=0<this.d.a.length?this.d.a[0].b:null,e.b&&t&&(e=t.name,e=et?e.toLowerCase():e,this.b={name:e,l:t.l});e:{for(e=this.d,t=0;t<e.a.length;t++)if(r=e.a[t],r.e||1==r.g||0==r.g){e=!0;break e}e=!1}this.e=e}function ne(e,t,r,n){this.h=e,this.c=t,this.a=r,this.b=n}function ae(e,t,r,n){if(ct.hasOwnProperty(e))throw Error("Axis already created: "+e);return t=new ne(e,t,r,!!n),ct[e]=t}function ie(e,t,r){V.call(this,e.g),this.c=e,this.d=t,this.j=r,this.e=t.e||r.e,this.a=t.a||r.a,this.c==_t&&(r.a||r.e||4==r.g||0==r.g||!t.b?t.a||t.e||4==t.g||0==t.g||!r.b||(this.b={name:r.b.name,l:t}):this.b={name:t.b.name,l:r})}function oe(e,t,r,n,a){t=t.evaluate(n),r=r.evaluate(n);var i;if(t instanceof C&&r instanceof C){for(a=B(t),n=a.next();n;n=a.next())for(t=B(r),i=t.next();i;i=t.next())if(e(g(n),g(i)))return!0;return!1}if(t instanceof C||r instanceof C){for(t instanceof C?a=t:(a=r,r=t),a=B(a),t=typeof r,n=a.next();n;n=a.next()){switch(t){case"number":n=+g(n);break;case"boolean":n=!!g(n);break;case"string":n=g(n);break;default:throw Error("Illegal primitive type for comparison.")}if(e(n,r))return!0}return!1}return a?"boolean"==typeof t||"boolean"==typeof r?e(!!t,!!r):"number"==typeof t||"number"==typeof r?e(+t,+r):e(t,r):e(+t,+r)}function se(e,t,r,n){this.a=e,this.p=t,this.g=r,this.k=n}function ce(e,t,r,n){if(bt.hasOwnProperty(e))throw Error("Binary operator already created: "+e);return e=new se(e,t,r,n),bt[e.toString()]=e}function le(e){V.call(this,1),this.c=e,this.e=e.e,this.a=e.a}function de(e){V.call(this,3),this.c=e.substring(1,e.length-1)}function he(e){V.call(this,1),this.c=e}function ue(e,t){this.h=e.toLowerCase(),this.d=t?t.toLowerCase():"http://www.w3.org/1999/xhtml"}function fe(e,t){if(t.length<e.o)throw Error("Function "+e.h+" expects at least"+e.o+" arguments, "+t.length+" given");if(null!==e.n&&t.length>e.n)throw Error("Function "+e.h+" expects at most "+e.n+" arguments, "+t.length+" given");e.s&&at(t,function(t,r){if(4!=t.g)throw Error("Argument "+r+" to function "+e.h+" is not of type Nodeset: "+t)}),V.call(this,e.g),this.d=e,this.c=t,F(this,e.e||st(t,function(e){return e.e})),Q(this,e.r&&!t.length||e.q&&!!t.length||st(t,function(e){return e.a}))}function pe(e,t,r,n,a,i,o,s,c){this.h=e,this.g=t,this.e=r,this.r=n,this.q=a,this.k=i,this.o=o,this.n=void 0!==s?s:o,this.s=!!c}function ge(e,t,r,n,a,i,o,s){if(mt.hasOwnProperty(e))throw Error("Function already created: "+e+".");mt[e]=new pe(e,t,r,n,!1,a,i,o,s)}function be(e,t){if(t.i()&&4!=e.g)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");V.call(this,e.g),this.c=e,this.d=t,this.e=e.e,this.a=e.a}function _e(e,t){this.a=e,this.b=t}function me(e){for(var t,r=[];;){ve(e,"Missing right hand side of binary expression."),t=Ne(e);var n=e.a.next();if(!n)break;var a=(n=bt[n]||null)&&n.p;if(!a){e.a.a--;break}for(;r.length&&a<=r[r.length-1].p;)t=new ie(r.pop(),r.pop(),t);r.push(t,n)}for(;r.length;)t=new ie(r.pop(),r.pop(),t);return t}function ve(e,t){if(e.a.b.length<=e.a.a)throw Error(t)}function je(e,t){var r=e.a.next();if(r!=t)throw Error("Bad token, expected: "+t+" got: "+r)}function ye(e){if(e=e.a.next(),")"!=e)throw Error("Bad token: "+e)}function xe(e){if(e=e.a.next(),2>e.length)throw Error("Unclosed literal string");return new de(e)}function ke(e){var t=e.a.next(),r=t.indexOf(":");if(-1==r)return new ue(t);var n=t.substring(0,r);if(e=e.b(n),!e)throw Error("Namespace prefix not declared: "+n);return t=t.substr(r+1),new ue(t,e)}function we(e){var t,r,n=[];if("/"==Te(e.a)||"//"==Te(e.a)){if(t=e.a.next(),r=Te(e.a),"/"==t&&(e.a.b.length<=e.a.a||"."!=r&&".."!=r&&"@"!=r&&"*"!=r&&!/(?![0-9])[\w]/.test(r)))return new J;r=new J,ve(e,"Missing next location step."),t=Ae(e,t),n.push(t)}else{e:{switch(t=Te(e.a),r=t.charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":e.a.next(),t=me(e),ve(e,'unclosed "("'),je(e,")");break;case'"':case"'":t=xe(e);break;default:if(isNaN(+t)){if($(t)||!/(?![0-9])[\w]/.test(r)||"("!=Te(e.a,1)){t=null;break e}for(t=e.a.next(),t=mt[t]||null,e.a.next(),r=[];")"!=Te(e.a)&&(ve(e,"Missing function argument list."),r.push(me(e)),","==Te(e.a));)e.a.next();ve(e,"Unclosed function argument list."),ye(e),t=new fe(t,r)}else t=new he(+e.a.next())}"["==Te(e.a)&&(r=new ee(Ee(e)),t=new be(t,r))}if(t){if("/"!=Te(e.a)&&"//"!=Te(e.a))return t;r=t}else t=Ae(e,"/"),r=new G,n.push(t)}for(;"/"==Te(e.a)||"//"==Te(e.a);)t=e.a.next(),ve(e,"Missing next location step."),t=Ae(e,t),n.push(t);return new X(r,n)}function Ae(e,t){var r,n,a;if("/"!=t&&"//"!=t)throw Error('Step op should be "/" or "//"');if("."==Te(e.a))return n=new re(gt,new Z("node")),e.a.next(),n;if(".."==Te(e.a))return n=new re(ft,new Z("node")),e.a.next(),n;var i;if("@"==Te(e.a))i=lt,e.a.next(),ve(e,"Missing attribute name");else if("::"==Te(e.a,1)){if(!/(?![0-9])[\w]/.test(Te(e.a).charAt(0)))throw Error("Bad token: "+e.a.next());if(r=e.a.next(),i=ct[r]||null,!i)throw Error("No axis with name: "+r);e.a.next(),ve(e,"Missing node name")}else i=dt;if(r=Te(e.a),/(?![0-9])[\w]/.test(r.charAt(0)))if("("==Te(e.a,1)){if(!$(r))throw Error("Invalid node type: "+r);if(r=e.a.next(),!$(r))throw Error("Invalid type name: "+r);je(e,"("),ve(e,"Bad nodetype"),a=Te(e.a).charAt(0);var o=null;('"'==a||"'"==a)&&(o=xe(e)),ve(e,"Bad nodetype"),ye(e),r=new Z(r,o)}else r=ke(e);else{if("*"!=r)throw Error("Bad token: "+e.a.next());r=ke(e)}return a=new ee(Ee(e),i.a),n||new re(i,r,a,"//"==t)}function Ee(e){for(var t=[];"["==Te(e.a);){e.a.next(),ve(e,"Missing predicate expression.");var r=me(e);t.push(r),ve(e,"Unclosed predicate expression."),je(e,"]")}return t}function Ne(e){if("-"==Te(e.a))return e.a.next(),new le(Ne(e));var t=we(e);if("|"!=Te(e.a))e=t;else{for(t=[t];"|"==e.a.next();)ve(e,"Missing next union location path."),t.push(we(e));e.a.a--,e=new z(t)}return e}function Ce(e){this.b=e,this.a=0}function Se(e){e=e.match(vt);for(var t=0;t<e.length;t++)jt.test(e[t])&&e.splice(t,1);return new Ce(e)}function Te(e,t){return e.b[e.a+(t||0)]}function Ie(t,r){if(!t.length)throw Error("Empty XPath expression.");var n=Se(t);if(n.b.length<=n.a)throw Error("Invalid XPath expression.");r?"function"==e(r)||(r=a(r.lookupNamespaceURI,r)):r=function(){
return null};var i=me(new _e(n,r));if(!(n.b.length<=n.a))throw Error("Bad token: "+n.next());this.evaluate=function(e,t){var r=i.evaluate(new Y(e));return new Oe(r,t)}}function Oe(e,t){if(0==t)if(e instanceof C)t=4;else if("string"==typeof e)t=2;else if("number"==typeof e)t=1;else{if("boolean"!=typeof e)throw Error("Unexpected evaluation result.");t=3}if(2!=t&&1!=t&&3!=t&&!(e instanceof C))throw Error("value could not be converted to the specified type");this.resultType=t;var r;switch(t){case 2:this.stringValue=e instanceof C?L(e):""+e;break;case 1:this.numberValue=e instanceof C?+L(e):+e;break;case 3:this.booleanValue=e instanceof C?0<e.i():!!e;break;case 4:case 5:case 6:case 7:var n=B(e);r=[];for(var a=n.next();a;a=n.next())r.push(a instanceof d?a.f():a);this.snapshotLength=e.i(),this.invalidIteratorState=!1;break;case 8:case 9:n=M(e),this.singleNodeValue=n instanceof d?n.f():n;break;default:throw Error("Unknown XPathResult type.")}var i=0;this.iterateNext=function(){if(4!=t&&5!=t)throw Error("iterateNext called with wrong result type");return i>=r.length?null:r[i++]},this.snapshotItem=function(e){if(6!=t&&7!=t)throw Error("snapshotItem called with wrong result type");return e>=r.length||0>e?null:r[e]}}function Me(e){this.lookupNamespaceURI=R(e)}function Le(e){e=e||qe;var t=e.document;t.evaluate||(e.XPathResult=Oe,t.evaluate=function(e,t,r,n){return new Ie(e,r).evaluate(t,n)},t.createExpression=function(e,t){return new Ie(e,t)},t.createNSResolver=function(e){return new Me(e)})}var Be,De,Re,Pe,qe=this;Pe=Re=De=Be=!1;var Ye;if(Ye=s()){var Ve=qe.navigator;Be=0==Ye.lastIndexOf("Opera",0),De=!Be&&(-1!=Ye.indexOf("MSIE")||-1!=Ye.indexOf("Trident")),Re=!Be&&-1!=Ye.indexOf("WebKit"),Pe=!Be&&!Re&&!De&&"Gecko"==Ve.product}var Ue,Fe=De,Qe=Pe,He=Re;e:{var We,Ke="";if(Be&&qe.opera)var ze=qe.opera.version,Ke="function"==typeof ze?ze():ze;else if(Qe?We=/rv\:([^\);]+)(\)|;)/:Fe?We=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:He&&(We=/WebKit\/(\S+)/),We)var Xe=We.exec(s()),Ke=Xe?Xe[1]:"";if(Fe){var Je=c();if(Je>parseFloat(Ke)){Ue=String(Je);break e}}Ue=Ke}var Ge={},Ze=qe.document,$e=Ze&&Fe?c()||("CSS1Compat"==Ze.compatMode?parseInt(Ue,10):5):void 0,et=Fe&&!(Fe&&$e>=9),tt=Fe&&!(Fe&&$e>=8);d.prototype.f=function(){return this.a};var rt=Array.prototype,nt=rt.indexOf?function(e,t,r){return rt.indexOf.call(e,t,r)}:function(e,r,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,t(e))return t(r)&&1==r.length?e.indexOf(r,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===r)return n;return-1},at=rt.forEach?function(e,t,r){rt.forEach.call(e,t,r)}:function(e,r,n){for(var a=e.length,i=t(e)?e.split(""):e,o=0;a>o;o++)o in i&&r.call(n,i[o],o,e)},it=rt.filter?function(e,t,r){return rt.filter.call(e,t,r)}:function(e,r,n){for(var a=e.length,i=[],o=0,s=t(e)?e.split(""):e,c=0;a>c;c++)if(c in s){var l=s[c];r.call(n,l,c,e)&&(i[o++]=l)}return i},ot=rt.reduce?function(e,t,r,n){return n&&(t=a(t,n)),rt.reduce.call(e,t,r)}:function(e,t,r,n){var a=r;return at(e,function(r,i){a=t.call(n,a,r,i,e)}),a},st=rt.some?function(e,t,r){return rt.some.call(e,t,r)}:function(e,r,n){for(var a=e.length,i=t(e)?e.split(""):e,o=0;a>o;o++)if(o in i&&r.call(n,i[o],o,e))return!0;return!1};!Qe&&!Fe||Fe&&Fe&&$e>=9||Qe&&l("1.9.1"),Fe&&l("9"),C.prototype.i=function(){return this.c},D.prototype.next=function(){var e=this.b;if(null==e)return null;var t=this.a=e;return this.b=this.d?e.b:e.next,t.a},Y.prototype.f=function(){return this.a},o(z),z.prototype.evaluate=function(e){var t=new C;return at(this.c,function(r){if(r=r.evaluate(e),!(r instanceof C))throw Error("Path expression must evaluate to NodeSet.");t=T(t,r)}),t},z.prototype.toString=function(){return ot(this.c,function(e,t){return e+U(t)},"Union Expression:")},o(X),o(J),J.prototype.evaluate=function(e){var t=new C;return e=e.f(),9==e.nodeType?O(t,e):O(t,e.ownerDocument),t},J.prototype.toString=function(){return"Root Helper Expression"},o(G),G.prototype.evaluate=function(e){var t=new C;return O(t,e.f()),t},G.prototype.toString=function(){return"Context Helper Expression"},X.prototype.evaluate=function(e){var t=this.d.evaluate(e);if(!(t instanceof C))throw Error("Filter expression must evaluate to nodeset.");e=this.c;for(var r=0,n=e.length;n>r&&t.i();r++){var a,i=e[r],o=B(t,i.c.a);if(i.e||i.c!=ut)if(i.e||i.c!=pt)for(a=o.next(),t=i.evaluate(new Y(a));null!=(a=o.next());)a=i.evaluate(new Y(a)),t=T(t,a);else a=o.next(),t=i.evaluate(new Y(a));else{for(a=o.next();(t=o.next())&&(!a.contains||a.contains(t))&&8&t.compareDocumentPosition(a);a=t);t=i.evaluate(new Y(a))}}return t},X.prototype.toString=function(){var e;if(e="Path Expression:"+U(this.d),this.c.length){var t=ot(this.c,function(e,t){return e+U(t)},"Steps:");e+=U(t)}return e},Z.prototype.a=function(e){return null===this.b||this.b==e.nodeType},Z.prototype.c=function(){return this.j},Z.prototype.toString=function(){var e="Kind Test: "+this.j;return null===this.d||(e+=U(this.d)),e},ee.prototype.i=function(){return this.a.length},ee.prototype.toString=function(){return ot(this.a,function(e,t){return e+U(t)},"Predicates:")},o(re),re.prototype.evaluate=function(e){var t=e.f(),r=null,r=this.b,n=null,a=null,i=0;if(r&&(n=r.name,a=r.l?W(r.l,e):null,i=1),this.m)if(this.e||this.c!=dt)if(e=B(new re(ht,new Z("node")).evaluate(e)),t=e.next())for(r=this.k(t,n,a,i);null!=(t=e.next());)r=T(r,this.k(t,n,a,i));else r=new C;else r=_(this.j,t,n,a),r=te(this.d,r,i);else r=this.k(e.f(),n,a,i);return r},re.prototype.k=function(e,t,r,n){return e=this.c.c(this.j,e,t,r),e=te(this.d,e,n)},re.prototype.toString=function(){var e;if(e="Step:"+U("Operator: "+(this.m?"//":"/")),this.c.h&&(e+=U("Axis: "+this.c)),e+=U(this.j),this.d.i()){var t=ot(this.d.a,function(e,t){return e+U(t)},"Predicates:");e+=U(t)}return e},ne.prototype.toString=function(){return this.h};var ct={};ae("ancestor",function(e,t){for(var r=new C,n=t;n=n.parentNode;)e.a(n)&&I(r,n);return r},!0),ae("ancestor-or-self",function(e,t){var r=new C,n=t;do e.a(n)&&I(r,n);while(n=n.parentNode);return r},!0);var lt=ae("attribute",function(e,t){var r=new C,n=e.c();if("style"==n&&t.style&&et)return O(r,new d(t.style,t,"style",t.style.cssText)),r;var a=t.attributes;if(a)if(e instanceof Z&&null===e.b||"*"==n)for(var i,n=0;i=a[n];n++)et?i.nodeValue&&O(r,h(t,i)):O(r,i);else(i=a.getNamedItem(n))&&(et?i.nodeValue&&O(r,h(t,i)):O(r,i));return r},!1),dt=ae("child",function(e,r,n,a,i){return(et?j:y).call(null,e,r,t(n)?n:null,t(a)?a:null,i||new C)},!1,!0);ae("descendant",_,!1,!0);var ht=ae("descendant-or-self",function(e,t,r,n){var a=new C;return b(t,r,n)&&e.a(t)&&O(a,t),_(e,t,r,n,a)},!1,!0),ut=ae("following",function(e,t,r,n){var a=new C;do for(var i=t;i=i.nextSibling;)b(i,r,n)&&e.a(i)&&O(a,i),a=_(e,i,r,n,a);while(t=t.parentNode);return a},!1,!0);ae("following-sibling",function(e,t){for(var r=new C,n=t;n=n.nextSibling;)e.a(n)&&O(r,n);return r},!1),ae("namespace",function(){return new C},!1);var ft=ae("parent",function(e,t){var r=new C;if(9==t.nodeType)return r;if(2==t.nodeType)return O(r,t.ownerElement),r;var n=t.parentNode;return e.a(n)&&O(r,n),r},!1),pt=ae("preceding",function(e,t,r,n){var a=new C,i=[];do i.unshift(t);while(t=t.parentNode);for(var o=1,s=i.length;s>o;o++){var c=[];for(t=i[o];t=t.previousSibling;)c.unshift(t);for(var l=0,d=c.length;d>l;l++)t=c[l],b(t,r,n)&&e.a(t)&&O(a,t),a=_(e,t,r,n,a)}return a},!0,!0);ae("preceding-sibling",function(e,t){for(var r=new C,n=t;n=n.previousSibling;)e.a(n)&&I(r,n);return r},!0);var gt=ae("self",function(e,t){var r=new C;return e.a(t)&&O(r,t),r},!1);o(ie),ie.prototype.evaluate=function(e){return this.c.k(this.d,this.j,e)},ie.prototype.toString=function(){var e="Binary Expression: "+this.c,e=e+U(this.d);return e+=U(this.j)},se.prototype.toString=function(){return this.a};var bt={};ce("div",6,1,function(e,t,r){return H(e,r)/H(t,r)}),ce("mod",6,1,function(e,t,r){return H(e,r)%H(t,r)}),ce("*",6,1,function(e,t,r){return H(e,r)*H(t,r)}),ce("+",5,1,function(e,t,r){return H(e,r)+H(t,r)}),ce("-",5,1,function(e,t,r){return H(e,r)-H(t,r)}),ce("<",4,2,function(e,t,r){return oe(function(e,t){return t>e},e,t,r)}),ce(">",4,2,function(e,t,r){return oe(function(e,t){return e>t},e,t,r)}),ce("<=",4,2,function(e,t,r){return oe(function(e,t){return t>=e},e,t,r)}),ce(">=",4,2,function(e,t,r){return oe(function(e,t){return e>=t},e,t,r)});var _t=ce("=",3,2,function(e,t,r){return oe(function(e,t){return e==t},e,t,r,!0)});ce("!=",3,2,function(e,t,r){return oe(function(e,t){return e!=t},e,t,r,!0)}),ce("and",2,2,function(e,t,r){return K(e,r)&&K(t,r)}),ce("or",1,2,function(e,t,r){return K(e,r)||K(t,r)}),o(le),le.prototype.evaluate=function(e){return-H(this.c,e)},le.prototype.toString=function(){return"Unary Expression: -"+U(this.c)},o(de),de.prototype.evaluate=function(){return this.c},de.prototype.toString=function(){return"Literal: "+this.c},o(he),he.prototype.evaluate=function(){return this.c},he.prototype.toString=function(){return"Number: "+this.c},ue.prototype.a=function(e){var t=e.nodeType,r=e.nodeName;return 1!=t&&2!=t?!1:"*"==this.h?!0:(r=r.split(":").pop(),this.h!=r.toLowerCase()?!1:this.d==(e.namespaceURI?e.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml"))},ue.prototype.c=function(){return this.h},ue.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.d?"":this.d+":")+this.h},o(fe),fe.prototype.evaluate=function(e){return this.d.k.apply(null,f(e,this.c))},fe.prototype.toString=function(){var e="Function: "+this.d;if(this.c.length)var t=ot(this.c,function(e,t){return e+U(t)},"Arguments:"),e=e+U(t);return e},pe.prototype.toString=function(){return this.h};var mt={};ge("boolean",2,!1,!1,function(e,t){return K(t,e)},1),ge("ceiling",1,!1,!1,function(e,t){return Math.ceil(H(t,e))},1),ge("concat",3,!1,!1,function(e,t){var r=p(arguments,1);return ot(r,function(t,r){return t+W(r,e)},"")},2,null),ge("contains",2,!1,!1,function(e,t,r){return t=W(t,e),e=W(r,e),-1!=t.indexOf(e)},2),ge("count",1,!1,!1,function(e,t){return t.evaluate(e).i()},1,1,!0),ge("false",2,!1,!1,function(){return!1},0),ge("floor",1,!1,!1,function(e,t){return Math.floor(H(t,e))},1),ge("id",4,!1,!1,function(e,t){function r(e){if(et){var t=a.all[e];if(t){if(t.nodeType&&e==t.id)return t;if(t.length)return u(t,function(t){return e==t.id})}return null}return a.getElementById(e)}var n=e.f(),a=9==n.nodeType?n:n.ownerDocument,n=W(t,e).split(/\s+/),i=[];at(n,function(e){e=r(e),!e||0<=nt(i,e)||i.push(e)}),i.sort(A);var o=new C;return at(i,function(e){O(o,e)}),o},1),ge("lang",2,!1,!1,function(){return!1},1),ge("last",1,!0,!1,function(e){if(1!=arguments.length)throw Error("Function last expects ()");return e.u},0),ge("local-name",3,!1,!0,function(e,t){var r=t?M(t.evaluate(e)):e.f();return r?r.localName||r.nodeName.toLowerCase():""},0,1,!0),ge("name",3,!1,!0,function(e,t){var r=t?M(t.evaluate(e)):e.f();return r?r.nodeName.toLowerCase():""},0,1,!0),ge("namespace-uri",3,!0,!1,function(){return""},0,1,!0),ge("normalize-space",3,!1,!0,function(e,t){return(t?W(t,e):g(e.f())).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},0,1),ge("not",2,!1,!1,function(e,t){return!K(t,e)},1),ge("number",1,!1,!0,function(e,t){return t?H(t,e):+g(e.f())},0,1),ge("position",1,!0,!1,function(e){return e.t},0),ge("round",1,!1,!1,function(e,t){return Math.round(H(t,e))},1),ge("starts-with",2,!1,!1,function(e,t,r){return t=W(t,e),e=W(r,e),0==t.lastIndexOf(e,0)},2),ge("string",3,!1,!0,function(e,t){return t?W(t,e):g(e.f())},0,1),ge("string-length",1,!1,!0,function(e,t){return(t?W(t,e):g(e.f())).length},0,1),ge("substring",3,!1,!1,function(e,t,r,n){if(r=H(r,e),isNaN(r)||1/0==r||-(1/0)==r)return"";if(n=n?H(n,e):1/0,isNaN(n)||-(1/0)===n)return"";r=Math.round(r)-1;var a=Math.max(r,0);return e=W(t,e),1/0==n?e.substring(a):(t=Math.round(n),e.substring(a,r+t))},2,3),ge("substring-after",3,!1,!1,function(e,t,r){return t=W(t,e),e=W(r,e),r=t.indexOf(e),-1==r?"":t.substring(r+e.length)},2),ge("substring-before",3,!1,!1,function(e,t,r){return t=W(t,e),e=W(r,e),e=t.indexOf(e),-1==e?"":t.substring(0,e)},2),ge("sum",1,!1,!1,function(e,t){for(var r=B(t.evaluate(e)),n=0,a=r.next();a;a=r.next())n+=+g(a);return n},1,1,!0),ge("translate",3,!1,!1,function(e,t,r,n){t=W(t,e),r=W(r,e);var a=W(n,e);for(e=[],n=0;n<r.length;n++){var i=r.charAt(n);i in e||(e[i]=a.charAt(n))}for(r="",n=0;n<t.length;n++)i=t.charAt(n),r+=i in e?e[i]:i;return r},3),ge("true",2,!1,!1,function(){return!0},0),o(be),be.prototype.evaluate=function(e){return e=this.c.evaluate(e),te(this.d,e)},be.prototype.toString=function(){var e;return e="Filter:"+U(this.c),e+=U(this.d)};var vt=RegExp("\\$?(?:(?![0-9-])[\\w-]+:)?(?![0-9-])[\\w\\.-]+|\\/\\/|\\.\\.|::|\\d+(?:\\.\\d*)?|\\.\\d+|\"[^\"]*\"|'[^']*'|[!<>]=|\\s+|.","g"),jt=/^\s/;Ce.prototype.next=function(){return this.b[this.a++]},Oe.ANY_TYPE=0,Oe.NUMBER_TYPE=1,Oe.STRING_TYPE=2,Oe.BOOLEAN_TYPE=3,Oe.UNORDERED_NODE_ITERATOR_TYPE=4,Oe.ORDERED_NODE_ITERATOR_TYPE=5,Oe.UNORDERED_NODE_SNAPSHOT_TYPE=6,Oe.ORDERED_NODE_SNAPSHOT_TYPE=7,Oe.ANY_UNORDERED_NODE_TYPE=8,Oe.FIRST_ORDERED_NODE_TYPE=9;var yt=["wgxpath","install"],xt=qe;yt[0]in xt||!xt.execScript||xt.execScript("var "+yt[0]);for(var kt;yt.length&&(kt=yt.shift());)yt.length||void 0===Le?xt=xt[kt]?xt[kt]:xt[kt]={}:xt[kt]=Le}()}]);
//# sourceMappingURL=jquery.echoforms-basic.min.js.map