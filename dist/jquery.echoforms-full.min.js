/*!
 * Copyright Â© 2007-2014 United States Government as represented by the Administrator of the National Aeronautics and Space Administration. All Rights Reserved.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){r(48),r(37),r(44),r(43),r(42),r(33),r(50)},function(e,t){e.exports=jQuery},function(e,t,r){(function(t){var n,i,a,s,o,l,c,d,h=[].slice;d=r(39),c=!1,l=function(){var e;return e=1<=arguments.length?h.call(arguments,0):[],"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn?console.warn.apply(console,e):void 0},i=function(){var e;if(e=1<=arguments.length?h.call(arguments,0):[],"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error.apply(console,e),null!=t("#form_load_errors"))return t("#form_load_errors").append("<div class='form_load_error'>"+e+"</div>")},a=function(e,t,r){var n,a,s;return c||"undefined"!=typeof wgxpath&&null!==wgxpath&&"function"==typeof wgxpath.install&&wgxpath.install(d),c=!0,e.length<1&&i("Error processing xpath ["+t+"].  Provided context node was not valid. Verify that the ref attribute of the parent group is valid (including the namespace)."),"["===(null!=t?t.charAt(0):void 0)&&(t="self::*"+t),"true"===t||"false"!==t&&(n=e[0].ownerDocument,t=t.replace(/^\/+|(https:)?\/\//g,function(e,t){return t?e:"/descendant-or-self::node()/"}),null==n.evaluate&&wgxpath.install({document:n}),a=n.evaluate(t,e[0],r,XPathResult.ANY_TYPE,null),s=function(){switch(a.resultType){case XPathResult.NUMBER_TYPE:return a.numberValue;case XPathResult.STRING_TYPE:return a.stringValue;case XPathResult.BOOLEAN_TYPE:return a.booleanValue;default:return a.iterateNext()}}())},s=function(e){var t,r;if(!e||"string"!=typeof e)return null;r=void 0;try{d.DOMParser?r=(new DOMParser).parseFromString(e,"text/xml"):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(e))}catch(n){t=n}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||i("Invalid XML: "+e),r},n=function(e){var t,r,n,i,a,s,o;for(a={},t=" default ",i=/\sxmlns(?::(\w+))?=\"([^\"]+)\"/g;null!=(r=i.exec(e));)s=r.slice(1,3),n=s[0],o=s[1],a[null!=n?n:t]=o;return function(e){return a[null!=e?e:t]}},o=function(e,r){var n,i;if(null==r&&(r={}),i="",n="","#text"===e.nodeName)return""+i+t("<div/>").text(e.nodeValue).html();if("#comment"===e.nodeName)return i+"<!--"+e.nodeValue+"-->";for(var a=0;a<e.attributes.length;a++){var s=e.attributes[a].name,l=e.attributes[a].value;n+=" "+s+'="'+l+'"',/xmlns/.test(s)&&"xmlns"!=s&&(r[s.split(":").pop()]=l)}if(null==e.prefix)for(prefix in r)if(r.hasOwnProperty(prefix)&&r[prefix]==e.namespaceURI){e.prefix=prefix;break}i+="<"+e.nodeName,i+=n+">";for(var a=0;a<e.childNodes.length;a++)i+=o(e.childNodes[a],r);return i+"</"+e.nodeName+">"},e.exports={warn:l,error:i,execXPath:a,parseXML:s,buildXPathResolverFn:n,printDOMToString:o}}).call(t,r(1))},function(e,t,r){var n,i,a,s,o=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=r(1),i=r(6),a=r(10),s=function(e){function t(e,r,n,i){var a;this.inputType=(null!=(a=e.attr("type"))?a:"string").replace(/^.*:/,"").toLowerCase(),t.__super__.constructor.call(this,e,r,n,i),this.inputs().bind("click change",this.onChange)}return o(t,e),t.prototype.loadConstraints=function(){return t.__super__.loadConstraints.call(this),this.constraints.push(new a(this.inputType))},t.prototype.inputs=function(){return null!=this._inputs?this._inputs:this._inputs=this.el.find(":input")},t.prototype.inputValue=function(){return n.trim(this.inputs().val())},t.prototype.inputAttrs=function(){var e,t;return{id:this.id+"-element","class":"echoforms-element-"+(null!=(e=null!=(t=this.inputElementType)?t:this.inputClass)?e:this.ui[0].nodeName),autocomplete:"off"}},t.prototype.saveToModel=function(){if(t.__super__.saveToModel.call(this),this.refExpr)return this.ref().text(this.inputValue())},t.prototype.loadFromModel=function(){if(t.__super__.loadFromModel.call(this),this.refExpr)return this.inputs().val(this.refValue())},t.prototype.buildDom=function(){return t.__super__.buildDom.call(this).addClass("echoforms-typed-control")},t.prototype.buildElementsDom=function(){return t.__super__.buildElementsDom.call(this).append(n("<"+this.inputTag+">",this.inputAttrs()))},t}(i),e.exports=s},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAABgCAMAAABblVsaAAADAFBMVEUAAABaoVUEYBipAAA5OTkEBAQAAACFZUcJAAAECgLirGt+fn6lpaalpaW5GBhbolUGYhmqAACop6n5+fnBAgKmAQEAWxrfn2UCXhkIDQZ1d3wWhwSlAAAPcRu+EhL3qamnBQWlpaVYuC6xEBD//f+yCQl2d3wvkCQVhQbJLS3BISEqhyxVrz10x00fjwarBQUAWRMrmgyoAgLng4OtCAjvk5MPfAelBwf18/VhuUHLDAz1k5NmukkHYRaKz2t0wVmb23pesUqP1W+P0nDsZ2fUSUm1FxfnWVnqY2O0BASNAADq2p2+GxuwVzj8+PIdHRukpKThq2n////s7O0mJib+/P3enWP67uFVV1uop6kkmwD459b99tVcY3D29fb9+O3x8vHf3+Dp6Oj78ungyI337caYmZihjFU1rwACNrDx8vHT09Tw0rfz3Lv03cbp157Js3u3oWfOwJLdzKdGbUOAgonw8O82rgb35dSluaX67uDq6+ua5mfO48Ph4uJ0dnstowAyqwD78uhdxCovpgB910i38YzP9q9arkL8+/vSAADoAADr7O3S58Y5sAbn5+f249DjAADtAQGpy6JAtwU1lxuC2E2z74hPvxbV1NX99+uvr+NKvQ/36tmy6JHFwJ0ilgR41ELl5eXy9PLd3t7U1dbKAQHC1Meg3oCR1nBozDFerUYnngBgxywjihLV09X/mJjZBQX24MrxAAD+Zmb9+Oz7i4sqiR1uwku4zL2c427W+Lrs7+x7x1r58+Sv3JmOy213vlpxu1d/f7iwxbXW1tn/tLTdAAD9d3f4Jibx1rrwPT3rEBBRxBRlxDeH0mGI02KJ1WCo34qs8HhvzjjJz7iwza337d62FBRiuUP2MTHezKn/q6uDloeguqRRozrM1b6Lz2yi2IeGvm4/ohyrmVWV416c1Xui6W+/0bU7jjS98ZUxjSm5vJaXsZ8slBFSvh7/3t7/ycn/fHzdzqmww7bL2cO3nFnodXV1mHacnFB4kX+kvKuq7HuwuY6orohs99ZiAAAA7XRSTlMA/S4cWkEmAQkW/YD+/1v+NSL+/v5cR/k5F/3prEVM9qH9+27//fzZ2ayEYN3t2LQZ6avdnPrZg/ro8/rVIunV66/o0PLQV/v50hJqkwX9/////////v////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////m1ZoxUAAAH80lEQVR42u2ceVjTZhzHCwXaeiAoc865TSbqDq8d7r7v4w9bwmjLUZ6uUFlKW8BRIqgoOEZBiYgKniBT0LlNcYrXnAdem+50uts5dzvdfd/vm7RMHn5JWUInxvcDNDzPm7xpPnyTvG/4gUrVtYwLcvvppru/PwJJIIEkkCSQJJAkkKDEBGq4z4BoJL/5CRy5ubnZDyowgXZ9716xsb166WN76/V2qB0Ti9YRa/dhB/2l+UhJyVFgAvVWDwftoWlWD7TTFo/nOYTHY6HBdq+PpmOH9bBAozGNT2B2jvISqC+kKQrJs1gsXgsoaPK2yTNnzpyMgAVSGNpSvWLLkl9BgSkpxglcACVHUN+JdRJkJEzfiQQK9K+JbZjBsjOwQhpMWF/qs5rSxxFfPr5thhnY96aPDrNIYPXKJSteX3kBsItcJG4Cpy8jQ2IC9ebA/hLkpEhG/7EN7JQpbCEXIlBg4fZJn9eUlpbW1GwvBPbz/taDW49QVPWHm1975dVVoaDAjJTcNKxPWGCgA6QCZTDBJCuBMvqPbbBarVMaHkYKaQ8ocMe8TychNs/bUdi3Q3PUxUvfmLfxSPXGJ0tKXv7gfRUsMAOnMENGAr2UPcDxmWQlUEb/WOAyZBCFkIYSaC7c+Rhm6ZPfrAIEDvi4dtGcl8reXpSZmTm3Cfw5ZiNx2XwAM8ZLPUAvmyd+fAET2P4D6l+4ne8fbkcCl+9GBqewLOWBBdaWPF1SUjunchV0Cv8+F6mbUzlt2rS5TTQsMMPJCXQixgclgQkcwUugaP961upw7F6GFLIUnMCy/PzKysr8/Pwy8Cay6+vp06dPnTp1QxO4PfLnznJmY39ut3t8sK6BMociMvrXsw6HY/5qFEIrCwqk+iQlJT2FvpLKKEgg/dUzuHXDJnB7rSonA4lzZ6e43enp6VITaFYFV6CM/jmB2CG6l8ACQ5J8hMACHV89U1+/4Ud4e50ux4nEuXPEBXbBOFCWQJVcgauXr57vsMID5YkhIX3QR0jILnCgbXE4/jhxfBPyxwLtuvAcd3ZubnpOSnq69AR265kIZeFBkzFQEMtPNfBAEZzqWVm2YVMTi7ECpzAWiAgg8AzGrjdj+uIXgYcFZh+SHiZoI8ZzKDaB/xe8RuLhND1tIhBIAgkkgQQCSSD5EQWpnSSQQBJIIAkkCSSQBBJIAjug4SAJBElsB9BuMBh6cKBvBNrbSBTeT5E5LzUvz6S8BCa6bG0wgACDbX3B84jiBcVpNgPU7q8PPHqs2iD8BuypeQ6TKVWBCSwwImy4gtSbBgks5usDcYFgMSjQyHeA6wN/g/aQymEyIYFoKf2div3yNqELEijev3ACGWMyk1zAOVwPCSzw1wdu2VYACfzio5MMMihcH5gaj/FSeQtN8UIR7EQCzaIHmCA7SRL71yQyyQzjMwgKfNNXH1hasx0S+MnWg1vrjMY64frA1PhHMPFiAjuRP9HylYSA1W3jgtS/5txZzFokMLmgwGgrBgT2WOyrD/xz3k5AIF8fWFfH1wf+rJIoMGAC7ZRX/ABN8jIouX8s0OWahRUajQICl/L1gbVlxo4C29UH/mRQBSmBeaw30AF2OELxksD27VD/p7YLFyBqzl3retHpWjsLGwQEanos3vnN04jaykxIoOqTf+sDj6YZTlsC5VYISu4fJdCV5TNYACbwzVX5HJmwQMNhX33g3ENGW9AS2H1LBJFAZ1ZWltPpcjFMMXgT6eMvb4MF2v7i6wMPMYyQQJ6iIN6FuwCJ/aO7cBYHNmgDhzFtAkNggVl/4/rAOrw9PJDmB4KpRQsT0EtwxoFdkkGJA2km6913f+AcukCBtolccSCuD4SucYY0p/PkieN1aCzEwNdAlRWD/C1sNdkpBc5E0hasX4BAkzFwJsIY/dgYSCA69ZkvDmF/jEtkKmdqbS1qbTWZVUoj8ZSnAYkSHhZ09mHCLnwSm1Lt5HkgoTtCEkggCSSQBBIIJIEEkkACgSSQQBJIIJAEnjU8wC+0JIHSGHJVJF5EXnWhwApahMj2up4cYYq3HHXn5aC/X94biwxGXvTtRbBBrS4iQidiMIz7rauF7anwBIbetmUJYHBI+YH9LWMjI2/cs+c72KA2gqLCI7TiAr2UI76nMoN3we03c/m7A66fu7q8quLAupaWljVr3ttzGXiKhlMTxQzyCaQdtLenEhM4YOTBW8eg/N2C6+dGdKif06gHlVdUPLt/377vW9ZcqhYQ+KiYQV6gl3Y4HOEKvPDh+rmbxoSOxPVzw4H6Q436yvKK2c++sG7dvkvVGiGB2KDQdZAXGOelKTpMeQkccAWunxtxPa6fGxUFrqK+v4ozeLda4C6LBSKDEaICcQi9SrwT97/CXz83KhRe45wb9nIG74qUKPAhv8E4BSYQGTyfr5+7JErAX0x5MzY4+537IlWSTmFOYFwcelHmWLD/+bh+7hKh/A1tbCxvbt5bUTH7nXvvkXQT8cY95PWizzNY4LgABuvrrxHIn+rat2IayxtHjy6vqjqwX8owRhPWz/+nLvFKnY30PzE8VOjw1YPfiom5Mjp6UGNV89VqSQPp6yz+/2Cn0ASqNAOihNvUg4cOQuLUg2IGw8OYgFM5zxMY/J+0lT8fhgxGnxOtaVtIeJgQ1q8fSl+/M/oUlvvHpKcs/jvhRQMHDhs2sAgRriL8d7Q6ne48BFpoz8oEEggkgQSSQAKBJLAb8Q85csYKBm7vjAAAAABJRU5ErkJggg=="},function(e,t,r){var n,i;i=r(2),n=function(){function e(e){this.message=e}return e.prototype.check=function(e,t,r){return i.warn(this.constructor.name+" must override check")},e}(),e.exports=n},function(e,t,r){var n,i,a,s,o=function(e,t){return function(){return e.apply(t,arguments)}};a=r(19),n=r(1),s=r(2),i=function(){function e(t,r,i,a){var s,l,c,d,h,u;for(this.ui=t,this.model=r,this.controlClasses=i,this.resolver=a,this.onChange=o(this.onChange,this),this.changed=o(this.changed,this),u=this.ui,this.refExpr=u.attr("ref"),this.id=null!=(d=u.attr("id"))?d:"echoforms-control-"+e.echoformsControlUniqueId++,this.relevantExpr=u.attr("relevant"),this.requiredExpr=u.attr("required"),this.readonlyExpr=u.attr("readonly"),this.label=u.attr("label"),h=u.children("help"),l=0,c=h.length;l<c;l++)s=h[l],this.help=n(s).text();this.loadConstraints(),this.el=this.buildDom()}return e.echoformsControlUniqueId=0,e.prototype.loadConstraints=function(){var e,t,r,i,s,o,l,c;for(this.constraints=[],this.requiredExpr&&(this.requiredConstraint=new a.Required(this.requiredExpr),this.constraints.push(this.requiredConstraint)),o=this.ui.find("> constraints > constraint"),l=[],e=0,t=o.length;e<t;e++)i=o[e],i=n(i),r=i.children("alert").text(),s=i.children("pattern"),c=i.children("xpath"),s.length>0&&this.constraints.push(new a.Pattern(s.text(),r)),c.length>0?l.push(this.constraints.push(new a.XPath(c.text(),r))):l.push(void 0);return l},e.prototype.required=function(){if(null!=this.requiredConstraint)return!this.requiredConstraint.check(void 0,this.model,this.resolver)},e.prototype.ref=function(){return null!=this.refExpr?n(this.xpath(this.refExpr)):this.model},e.prototype.refValue=function(){var e;try{return null!=this.refExpr?n.trim(this.ref().text()):void 0}catch(t){throw e=t,e+"<br/>Error found while accessing the model element associated with form ui control: ["+n("<div/>").text(this.ui[0].outerHTML).html()+"]."}},e.prototype.inputValue=function(){return s.warn(this.constructor.name+" must override inputValue")},e.prototype.loadFromModel=function(){},e.prototype.validate=function(){var e,t,r,n;return n=null==this.relevantExpr||!!this.xpath(this.relevantExpr),r=null!=this.readonlyExpr&&!!this.xpath(this.readonlyExpr),null!=this.relevantExpr&&this.relevant(n),null!=this.readonlyExpr&&this.readonly(r),t=function(){var t,r,n,i,a;for(n=this.constraints,a=[],t=0,r=n.length;t<r;t++)e=n[t],e.check(null!=(i=this.refValue())?i:this.inputValue(),this.model,this.resolver)||a.push(e.message);return a}.call(this),this.setErrors(t)},e.prototype.saveToModel=function(){},e.prototype.xpath=function(e){return s.execXPath(this.model,e,this.resolver)},e.prototype.element=function(){return null!=this.el?this.el:this.el=this.buildDom()},e.prototype.isChanged=function(e){return this.refValue()!==this.inputValue()||!this.refExpr},e.prototype.changed=function(){return this.el.trigger("echoforms:modelchange")},e.prototype.relevant=function(e){var t,r;return null==e?!this.el.hasClass("echoforms-irrelevant"):(t=!!e,t!==this.relevant()?(this.el.toggleClass("echoforms-irrelevant",!t),this.el.toggle(t),r=this.ref(),t?r[0].removeAttribute("pruned"):r[0].setAttribute("pruned","true")):void 0)},e.prototype.readonly=function(e){var t;return null==e?this.el.hasClass("echoforms-readonly"):(t=!!e,t!==this.readonly()?(this.el.toggleClass("echoforms-readonly ui-state-disabled",t),this.updateReadonly(t)):void 0)},e.prototype.updateReadonly=function(e){return this.inputs().attr("disabled",e),this.inputs().attr("readonly",e)},e.prototype.onChange=function(e){if(this.isChanged())return this.saveToModel(),this.changed()},e.prototype.buildLabelDom=function(){return null!=this.label?n("<label>",{"class":"echoforms-label","for":this.id+"-element"}).text(this.label):n()},e.prototype.buildHelpDom=function(){var e,t,r,i,a;for(a=n("<div>",{"class":"echoforms-help"}),i=this.ui.children("help"),t=0,r=i.length;t<r;t++)e=i[t],n("<p>",{"class":"echoforms-help-item"}).text(n(e).text()).appendTo(a);return a},e.prototype.buildControlDom=function(){return n("<div>",{id:this.id,"class":"echoforms-control echoforms-control-"+this.ui[0].nodeName})},e.prototype.buildElementsDom=function(){return n("<div>",{"class":"echoforms-elements"})},e.prototype.buildErrorsDom=function(){return n("<div>",{"class":"echoforms-errors"})},e.prototype.setErrors=function(e){var t,r,i,a,s;for(r=n(),i=0,a=e.length;i<a;i++)s=e[i],t=n('<div class="echoforms-error">'),t.text(s),r=r.add(t);return this.el.children(".echoforms-errors").empty().append(r)},e.prototype.buildDom=function(e){return null==e&&(e=null),this.buildControlDom().append(this.buildLabelDom()).append(this.buildElementsDom()).append(this.buildErrorsDom()).append(this.buildHelpDom())},e.prototype.addedToDom=function(){},e}(),e.exports=i},function(e,t,r){var n,i,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;i=r(3),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.selector="input",t.prototype.inputClass="input",t.prototype.inputTag="input",t.prototype.inputElementType="text",t.prototype.inputAttrs=function(){var e;return e=t.__super__.inputAttrs.call(this),e.type=this.inputElementType,"datetime"===this.inputType&&(e.placeholder="YYYY-MM-DDTHH:MM:SS"),e},t}(i),e.exports=n},function(e,t,r){var n,i,a,s,o=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=r(1),i=r(6),s=r(2),a=function(e){function t(e,r,n,i){e.removeAttr("required"),t.__super__.constructor.call(this,e,r,n,i)}return o(t,e),t.prototype.inputs=function(){return n()},t.prototype.loadFromModel=function(){var e,r,n,i,a;for(t.__super__.loadFromModel.call(this),i=this.controls,a=[],r=0,n=i.length;r<n;r++)e=i[r],a.push(e.loadFromModel());return a},t.prototype.buildLabelDom=function(){return null!=this.label?n("<h1>",{"class":"echoforms-label"}).text(this.label):n()},t.prototype.buildDom=function(){var e,r,i,a,o,l,c,d,h,u,p,f,g,_;for(g=t.__super__.buildDom.call(this).addClass("echoforms-grouping-control"),g.children(".echoforms-label").after(g.children(".echoforms-help")),i=this.ref(),i.length<1&&s.error("Could not find the model element associated with this group.  Verify that @ref ["+this.refExpr+"] is correct and that the namespace is set correctly"),_=this.ui,a=n(),this.controls=l=[],p=_.children(),c=0,h=p.length;c<h;c++)if(r=p[c],"help"!==r.nodeName&&"constraints"!==r.nodeName)for(f=this.controlClasses,d=0,u=f.length;d<u;d++)if(e=f[d],n(r).is(e.selector)){o=new e(n(r),i,this.controlClasses,this.resolver),l.push(o),a=a.add(o.el);break}return g.find(".echoforms-elements").replaceWith(n('<div class="echoforms-children">').append(a)),g},t.prototype.updateReadonly=function(e){var r,n,i,a,s;for(t.__super__.updateReadonly.call(this,e),a=this.controls,s=[],n=0,i=a.length;n<i;n++)r=a[n],s.push(r.updateReadonly(e));return s},t.prototype.validate=function(){var e,r,n,i,a,s;for(t.__super__.validate.call(this),i=!0,a=this.controls,r=0,n=a.length;r<n;r++)e=a[r],s=null==e.relevantExpr||!!e.xpath(e.relevantExpr),!s&&e.relevant()&&(i=!1),e.validate();if(!i)return this.ref()[0].removeAttribute("pruned")},t.prototype.addedToDom=function(){var e,r,n,i,a;for(t.__super__.addedToDom.call(this),i=this.controls,a=[],r=0,n=i.length;r<n;r++)e=i[r],a.push(e.addedToDom());return a},t}(i),e.exports=a},function(e,t,r){var n,i,a,s=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(1),a=r(3),i=function(e){function t(e,r,i,a){var s,o,l;this.isMultiple="true"===e.attr("multiple"),this.valueElementName=e.attr("valueElementName"),this.items=function(){var t,r,i,a,c;for(i=e.children("item"),c=[],t=0,r=i.length;t<r;t++)s=i[t],a=[n(s).attr("label"),n(s).attr("value")],o=a[0],l=a[1],""===n(s).attr("value")&&(this.hasBlankOption=!0),null!=o&&o.length>0||(o=l),c.push([o,l]);return c}.call(this),t.__super__.constructor.call(this,e,r,i,a)}return s(t,e),t.selector="select",t.prototype.inputTag="select",t.prototype.valueElementTagName=function(e){var t,r;return null==e&&(e=this.ref()),t=[this.valueElementName],/:/.test(e[0].nodeName)&&(r=e[0].nodeName.split(":").shift()),null!=r&&t.unshift(r),t.join(":")},t.prototype.refValue=function(){var e,r,i,a,s;if(null!=this.valueElementName&&null!=this.refExpr){for(a=this.ref().children(),s=[],r=0,i=a.length;r<i;r++)e=a[r],s.push(n(e).text());return s}return t.__super__.refValue.call(this)},t.prototype.saveToModel=function(){var e,r,i,a,s,o,l,c,d;if(null!=this.valueElementName&&null!=this.refExpr){for(l=this.ref().empty(),c=this.valueElementTagName(l),s=this.inputValue(),o=[],r=0,i=s.length;r<i;r++)d=s[r],e=document.createElementNS(l[0].namespaceURI,c),a=n(e).text(d),l.append(a),o.push(a[0].namespaceURI=l[0].namespaceURI);return o}return t.__super__.saveToModel.call(this)},t.prototype.loadFromModel=function(){var e,r;return null!=this.valueElementName&&null!=this.refExpr?(this.validate(),r=function(){var t,r,i,a;for(i=this.ref().children(),a=[],t=0,r=i.length;t<r;t++)e=i[t],a.push(n(e).text());return a}.call(this),this.isMultiple||(r=r[0]),this.inputs().val(r)):t.__super__.loadFromModel.call(this)},t.prototype.inputValue=function(){var e;return e=this.inputs().val(),null==this.valueElementName||e instanceof Array||(e=null!=e&&""!==e?[e]:[]),e},t.prototype.inputAttrs=function(){return n.extend(t.__super__.inputAttrs.call(this),{multiple:this.isMultiple})},t.prototype.hasModelVal=function(){return this.ref().children().length>0},t.prototype.buildElementsDom=function(){var e,r,i,a,s,o,l,c;for(l=t.__super__.buildElementsDom.call(this),e=l.children("select"),this.required()?this.hasBlankOption||this.hasModelVal()||e.append('<option value=""> -- Select a value -- </option>'):this.hasBlankOption||this.hasModelVal()||e.append('<option value=""> -- No Selection -- </option>'),s=this.items,r=0,a=s.length;r<a;r++)o=s[r],i=o[0],c=o[1],n("<option>",{value:c}).text(i).appendTo(e);return l},t}(a),e.exports=i},function(e,t,r){var n,i,a,s=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(5),a=r(2),i=function(e){function t(e,r){var n,i,a;null==r&&(r=null),a=e.match(/^(?:[^:]+:)?(.*)$/),this.type=a?a[1]:e,i=function(){switch(this.type){case"double":return"number";case"long":return"integer between -2^63 and 2^63-1";case"int":return"integer between -2,147,483,648 and 2,147,483,647";case"short":return"integer between -32,768 and 32,767";case"datetime":return"date/time with format YYYY-MM-DDTHH:MM:SS";case"boolean":return"true or false";default:return this.type}}.call(this),n=/^[aeiou]/i.test(i)?"an":"a",t.__super__.constructor.call(this,null!=r?r:"Value must be "+n+" "+i)}return s(t,e),t.MIN_SHORT=-Math.pow(2,15),t.MAX_SHORT=Math.pow(2,15)-1,t.MIN_INT=-Math.pow(2,31),t.MAX_INT=Math.pow(2,31)-1,t.MIN_LONG=-Math.pow(2,63),t.MAX_LONG=Math.pow(2,63)-1,t.prototype.check=function(e,t,r){if(!e)return!0;switch(this.type){case"string":return!0;case"anyuri":return!0;case"double":return this.checkDouble(e);case"long":return this.checkLong(e);case"int":return this.checkInt(e);case"short":return this.checkShort(e);case"datetime":return this.checkDateTime(e);case"boolean":return this.checkBoolean(e);default:return a.warn("Unable to validate type: ",this.type),!0}},t.prototype._checkIntegerRange=function(e,t,r){var n;return n=Number(r),!isNaN(n)&&n>=e&&n<=t&&r.indexOf(".")===-1},t.prototype.checkDouble=function(e){return!isNaN(Number(e))},t.prototype.checkLong=function(e){return this._checkIntegerRange(t.MIN_LONG,t.MAX_LONG,e)},t.prototype.checkInt=function(e){return this._checkIntegerRange(t.MIN_INT,t.MAX_INT,e)},t.prototype.checkShort=function(e){return this._checkIntegerRange(t.MIN_SHORT,t.MAX_SHORT,e)},t.prototype.checkBoolean=function(e){return"true"===e||"false"===e},t.prototype.checkDateTime=function(e){var t,r,n,i,a,s,o,l,c,d,h,u;return!!e.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/)&&(s=e.split("T"),t=s[0],h=s[1],o=function(){var e,r,n,i;for(n=t.split("-"),i=[],e=0,r=n.length;e<r;e++)d=n[e],i.push(parseInt(d,10));return i}(),u=o[0],a=o[1],r=o[2],l=function(){var e,t,r,n;for(r=h.split(":"),n=[],e=0,t=r.length;e<t;e++)d=r[e],n.push(parseInt(d,10));return n}(),n=l[0],i=l[1],c=l[2],1<=a&&a<=12&&1<=r&&r<=31&&n<24&&i<60&&c<60)},t}(n),e.exports=i},function(e,t,r){var n,i,a,s=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};n=r(1),a=r(2),i=function(){function e(t,r,i,a,s,o,l){var c;this.separator=o,this.label=n(t).attr("label"),this.value=n(t).attr("value"),this.relevantExpr=n(t).attr("relevant"),this.requiredExpr=n(t).attr("required"),this.model=r,this.resolver=a,null!=this.label&&this.label.length>0||(this.label=this.value),null!=o&&o.length>0&&(this.value=s+this.separator+this.value),this.ui=t,this.tree=l,this.items=function(){var s,o,d,h;for(d=t.children("item"),h=[],s=0,o=d.length;s<o;s++)c=d[s],h.push(new e(n(c),r,i,a,this.value,this.separator,l));return h}.call(this)}return e.selector="item",e.prototype.inputTag="li",e.prototype.xpath=function(e){return a.execXPath(this.model,e,this.resolver)},e.prototype.node_required=function(){return!(null==this.requiredExpr||!this.xpath(this.requiredExpr))},e.prototype.node_relevant=function(){return null==this.relevantExpr||!!this.xpath(this.relevantExpr)},e.prototype.handle_relevant_or_required=function(){var e,t,r,n;return r=this.tree.tree_root,e=r.find("[node_value = '"+this.value+"']"),e.attr("item-required",this.node_required()),e.attr("item-relevant",this.node_relevant()),n=!1,t=e.find("span.echoforms-help"),"true"===r.jstree("is_disabled",e).toString()&&(n=!0),t.find(".not-available-or-required-text").remove(),e.find("a.jstree-anchor > i.jstree-icon").first().addClass("jstree-checkbox").removeClass("jstree-disabled-icon").removeClass("jstree-required-icon"),this.node_relevant()?this.node_required()?(this.addNotAvailableRequiredText(t,"[required]"),r.jstree("enable_node",e),e.find("a").css("font-style","italic"),e.find("a.jstree-anchor > i.jstree-checkbox").addClass("jstree-required-icon").removeClass("jstree-checkbox")):(r.jstree("enable_node",e),e.find("a").css("font-style","normal"),e.find("a.jstree-anchor > i.jstree-icon").first().addClass("jstree-checkbox").removeClass("jstree-disabled-icon").removeClass("jstree-required-icon"),n?r.jstree("select_node",e):void 0):(this.addNotAvailableRequiredText(t,"[not available]"),r.jstree("disable_node",e),e.find("a").css("font-style","italic"),e.find("a.jstree-anchor > i.jstree-icon").first().addClass("jstree-disabled-icon").removeClass("jstree-checkbox"))},e.prototype.subtree_handle_relevant_or_required=function(){var e,t,r,n,i;for(this.handle_relevant_or_required(),n=this.items,i=[],t=0,r=n.length;t<r;t++)e=n[t],i.push(e.subtree_handle_relevant_or_required());return i},e.prototype.buildHelpDom=function(){var e,t,r,i,a;for(a=n("<span>",{"class":"echoforms-help"}),i=this.ui.children("help"),t=0,r=i.length;t<r;t++)e=i[t],this.addHelpText(a,n(e).text());return a},e.prototype.addNotAvailableRequiredText=function(e,t){return this.addHelpText(e,t).addClass("not-available-or-required-text")},e.prototype.addHelpText=function(e,t){return n("<span>",{"class":"echoforms-help-item"}).text(t).attr({title:t}).appendTo(e)},e.prototype.buildElementsDom=function(){var e,t,r,i,a,o,l,c;return r=n("<li>"),r.attr({node_value:this.value}),r.addClass("jstree-open"),i=this.buildHelpDom(),t={},l=this.tree.modelValues(),l.length>0&&(c=this.value,s.call(l,c)>=0)&&(t.selected=!0),this.node_relevant()||(t.disabled=!0,t.selected=!0,this.addNotAvailableRequiredText(i,"[not available]")),this.node_required()&&(t.selected=!0,this.addNotAvailableRequiredText(i,"[required]")),r.attr({"item-relevant":this.node_relevant()}),r.attr({"item-required":this.node_relevant()}),Object.keys(t).length>0&&r.attr({"data-jstree":JSON.stringify(t)}),r.text(this.label),r.append(i),e=n("<ul>"),a=0,o=this.items,function(){var t,r,n,i,s,l,c,d;for(d=(new Date).getTime(),c=[],r=n=s=a,l=o.length-1;n<=l&&(t=o[r],null!=t);r=n+=1)i=t.buildElementsDom(),i.appendTo(e),a<o.length-1&&(new Date).getTime()-d>40?(console.log("TreeItem construction yielding to browser to avoid unresponsive script"),c.push(postMessage("script-timeout-message","*"))):c.push(void 0);return c}(),this.items.length>0&&e.appendTo(r),r},e}(),e.exports=i},function(e,t,r){var n,i;n={Checkbox:r(23),Input:r(7),UrlOutput:r(31),Output:r(13),Select:r(9),Range:r(14),Secret:r(28),Textarea:r(30),Group:r(27),Select:r(9),Selectref:r(29),Base:r(6),Typed:r(3),Grouping:r(8)},i=[n.Checkbox,n.Input,n.UrlOutput,n.Output,n.Select,n.Range,n.Secret,n.Group,n.Select,n.Selectref,n.Textarea],e.exports={matchList:i,classes:n,extras:{RangeSlider:r(24),Tree:r(25),TreeItem:r(11)}}},function(e,t,r){var n,i,a,s=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(1),a=r(3),i=function(e){function t(e,r,n,i){this.valueExpr=e.attr("value"),t.__super__.constructor.call(this,e,r,n,i)}return s(t,e),t.selector="output",t.prototype.inputTag="p",t.prototype.inputs=function(){return n()},t.prototype.inputAttrs=function(){var e;return e=t.__super__.inputAttrs.call(this),delete e.autocomplete,e},t.prototype.refValue=function(){return this.valueExpr?this.xpath(this.valueExpr):t.__super__.refValue.call(this)},t.prototype.loadFromModel=function(){var e;try{if(t.__super__.loadFromModel.call(this),this.refExpr||this.valueExpr)return this.el.find(".echoforms-elements > p").text(this.refValue())}catch(r){throw e=r,e+"<br/>Error found while setting initial value of output control: ["+n("<div/>").text(this.ui[0].outerHTML).html()+"]."}},t}(a),e.exports=i},function(e,t,r){var n,i,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=r(7),i=function(e){function t(e,r,n,i){this.start=parseInt(e.attr("start"),10),this.end=parseInt(e.attr("end"),10),this.step=parseInt(e.attr("step"),10),t.__super__.constructor.call(this,e,r,n,i)}return a(t,e),t.selector="range",t}(n),e.exports=i},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(n[a]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=h[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(o(n.parts[a],t))}else{for(var s=[],a=0;a<n.parts.length;a++)s.push(o(n.parts[a],t));h[n.id]={id:n.id,refs:1,parts:s}}}}function i(e){for(var t=[],r={},n=0;n<e.length;n++){var i=e[n],a=i[0],s=i[1],o=i[2],l=i[3],c={css:s,media:o,sourceMap:l};r[a]?r[a].parts.push(c):t.push(r[a]={id:a,parts:[c]})}return t}function a(){var e=document.createElement("style"),t=f();return e.type="text/css",t.appendChild(e),e}function s(){var e=document.createElement("link"),t=f();return e.rel="stylesheet",t.appendChild(e),e}function o(e,t){var r,n,i;if(t.singleton){var o=_++;r=g||(g=a()),n=l.bind(null,r,o,!1),i=l.bind(null,r,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=s(),n=d.bind(null,r),i=function(){r.parentNode.removeChild(r),r.href&&URL.revokeObjectURL(r.href)}):(r=a(),n=c.bind(null,r),i=function(){r.parentNode.removeChild(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}function l(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=m(t,i);else{var a=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function c(e,t){var r=t.css,n=t.media;t.sourceMap;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function d(e,t){var r=t.css,n=(t.media,t.sourceMap);n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}var h={},u=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=u(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=u(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,_=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p());var r=i(e);return n(r,t),function(e){for(var a=[],s=0;s<r.length;s++){var o=r[s],l=h[o.id];l.refs--,a.push(l)}if(e){var c=i(e);n(c,t)}for(var s=0;s<a.length;s++){var l=a[s];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete h[l.id]}}}};var m=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAGQCAMAAACnCB1OAAAANlBMVEUAAAAzMzMzMzMzMzMzMzMzMzMzMzPS0tIzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzPDCyWlAAAAEXRSTlMA/gYIAv0OH/xcWR0hFApdUH53Xt8AAATtSURBVHja7d1dc9sgEIVhkjal3+n+/z/bq7hqazkIDmJX+3LnIaPhGcsSLEdKKRdpVpI1wIABAwYMGDBgwIABXxpcay5wNauZwNVMJrYoXpXYwnhFYovj1YgtkFcitkhehVgANuvr6/AKxCbw7qse9XV5x8Wm8O6pHvV1epeD38ZxtG+VdxT8ZyTH+pZ5B8HbsRzpW+cdA/89mva+hd4h8L/jae1b6R0B/z+itr6lXi3YGroWe6Wn9I3l2Ku8aN1gnr3C29KN5tqrm3g8ao68sqllFK9q8RDGK1oeyrwRwEXpDXBKvyP2M4lW1rSUXue3pXfEnhbC2qql0ut4avmO2FcxSwwuSq/T5eGBcoAjsXDnQen1WeJRl+38F/H2xYqjeSzT7ok1R/NYiL8vVh3N41bLPbHuaNU/uJj0iNX7KS1v1fdFa7Y4QeQhX6glX2wpXzAtX/QwX7g0X3xYOTECDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMBDrdZc4Cp+nso7uEqfwzBt8noCWBsssplibZS7TvCKxab0asKQ7sGi+KcdagvBmoBvtYOtrgKLItxhwKqQfmSw7xmI2yfI/M60gon9PjPneC6tEMe5LYnEscACcTDwuDgaeFgcDjwqjgceFAcEj4kjgofEIcEjYsCc0ly0uC0x8WBqyeKB5SEFAEo8oiJeILCmaBl4b6lvMOm2WthMY7vU60Xr8hvioshD1IlHLRnAithSzMVDLVnA49HDiAWAVOHSfPHhMA0wYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMG/OAw0n8hrj+eFqx+QdCEVw4pwQ2jMw1XQrYzvEfGOe29UiJwm7d9nBPfpCUBt3pbxzn13WECcLu3bZyT35Y2DD7ibRnn9PfDqcBNBMHxVoPP9krEArDK23J58w0++qvzDm79xR302ujfrAIfvqoGBHffj4KCtx867prhwNtPPbOEaODtx65ZUTDwltg3CwwL7p31Rj2lu2f5QS9a/auamLelgaJWyInH3qL4qlPLoSJeyLn0XtHjuouHgaJl0NXS/d/1lZeH3UXasOvhe9ftDAUAwOHB8qJb+KrlVcGywrn7Qrx8a8T7Vot888v9Zpp8e9P7dql+A9v7hrg+ouA98qAPoXgPtehjRt5jS0UfJHMeTNsdo6fjycFxGmDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYcF7wvBCKR/DUmJE/8OQgmTvw7KigN/D0MKgz8Py4ry/wCYFuV+AzIvsuwb390cCnPHbjEDz4JzHBe7/cS4E3sN1rlb9zGjBgwIABAwYMGDDgLGB1jYFvGDBgwIABXwOcroiXtkybpxCfbqsl32Zauu3SfBvi+SIP+UIt+WJLJV0wrTyaWl4WHKcBBgwYMGDAgAEDBgwYMGDAgAEDBhxtgIABAwYMGDBgwIABAwZ8yvGmRx0AAwa8AmzpwPYtGfjJPuUCv5hIHAisEUcCS8ShwPYhG9ies4HtZzbw8O84zn34rX1PMtPy8m/sz1o8fHxrzz9YLQEODv76Zdtef10erP3G44GfsoE/AwYMODXYz/u0zgGXbN8wYMCAAQMGDBgwYMCAAQMGDBiwQ/BLNvDFXvMYrgEGDBgwYMCAAQMGDBgwYMCAAd/ab6tecyWIcuuVAAAAAElFTkSuQmCC";
},function(e,t){e.exports={pluginName:"echoforms"}},function(e,t,r){e.exports={Pattern:r(20),Required:r(21),Type:r(10),XPath:r(22)}},function(e,t,r){var n,i,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=r(5),i=function(e){function t(e,r){this.pattern=new RegExp("^"+e+"$"),t.__super__.constructor.call(this,null!=r?r:"Invalid")}return a(t,e),t.prototype.check=function(e,t,r){return!e||e instanceof Array&&0===e.length||null!==this.pattern.exec(e)},t}(n),e.exports=i},function(e,t,r){var n,i,a,s=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(5),a=r(2).execXPath,i=function(e){function t(e,r){this.xpath=e,null==r&&(r="Required field"),t.__super__.constructor.call(this,r)}return s(t,e),t.prototype.check=function(e,t,r){return e instanceof Array&&0===e.length&&(e=null),!!e||!a(t,this.xpath,r)},t}(n),e.exports=i},function(e,t,r){var n,i,a,s=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(5),a=r(2).execXPath,i=function(e){function t(e,r){this.xpath=e,t.__super__.constructor.call(this,null!=r?r:"Invalid")}return s(t,e),t.prototype.check=function(e,t,r){return a(t,this.xpath,r)},t}(n),e.exports=i},function(e,t,r){var n,i,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;i=r(7),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.selector="input[type$=boolean]",t.prototype.inputClass="checkbox",t.prototype.inputElementType="checkbox",t.prototype.inputValue=function(){return this.inputs()[0].checked.toString()},t.prototype.loadFromModel=function(){if(t.__super__.loadFromModel.call(this),this.refExpr)return this.inputs()[0].checked="true"===this.refValue()},t.prototype.buildDom=function(){var e;return e=t.__super__.buildDom.call(this),e.addClass("echoforms-control-checkbox"),e.children(".echoforms-elements").after(e.children(".echoforms-label")),e},t}(i),e.exports=n},function(e,t,r){var n,i,a,s=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(1),i=r(14),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.selector="range",t.prototype.loadFromModel=function(){return t.__super__.loadFromModel.call(this),this.inputs().change()},t.prototype.addedToDom=function(){var e;return t.__super__.addedToDom.call(this),e=this.inputs(),n("<div/>").addClass("slider-output").insertAfter(e),e.bind("slider:ready slider:changed",function(t,r){return n(this).nextAll(".slider-output").html(e.val())}),e.simpleSlider({snap:!0,range:[this.start,this.end],step:this.step,classPrefix:"echoforms"})},t}(i),e.exports=a},function(e,t,r){var n,i,a,s,o,l=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=r(1),o=r(3),s=r(11),i=r(6),a=function(e){function t(e,r,a,o){var l,c;l=e.attr("id"),l&&"control"!==l&&(l+="-"+i.echoformsControlUniqueId++,e.attr("id",l)),this.separator=e.attr("separator"),this.cascade=null==e.attr("cascade")||"true"===e.attr("cascade"),this.valueElementName=e.attr("valueElementName")||"value",this.simplify_output=null==e.attr("simplify_output")||"true"===e.attr("simplify_output"),this.items=function(){var t,i,l,d;for(l=e.children("item"),d=[],t=0,i=l.length;t<i;t++)c=l[t],d.push(new s(n(c),r,a,o,"",this.separator,this));return d}.call(this),t.__super__.constructor.call(this,e,r,a,o)}return l(t,e),t.selector="tree",t.prototype.inputTag="div",t.prototype.validate=function(){var e,r,n,i;for(t.__super__.validate.call(this),i=this.items,r=0,n=i.length;r<n;r++)e=i[r],e.subtree_handle_relevant_or_required();if(null!=this.el)return this.saveToModel()},t.prototype.valueElementTagName=function(e){var t,r;return null==e&&(e=this.ref()),t=[this.valueElementName],/:/.test(e[0].nodeName)&&(r=e[0].nodeName.split(":").shift()),null!=r&&t.unshift(r),t.join(":")},t.prototype.refValue=function(){var e,r,i,a,s;if(null!=this.valueElementName&&null!=this.refExpr){for(a=this.ref().children(),s=[],r=0,i=a.length;r<i;r++)e=a[r],s.push(n(e).text());return s}return t.__super__.refValue.call(this)},t.prototype.saveToModel=function(){var e,r,i,a,s,o,l,c,d;if(null!=this.valueElementName&&null!=this.refExpr){for(l=this.ref().empty(),c=this.valueElementTagName(l),s=this.inputValue(),o=[],r=0,i=s.length;r<i;r++)d=s[r],e=document.createElementNS(l[0].namespaceURI,c),a=n(e).text(d),l.append(a),o.push(a[0].namespaceURI=l[0].namespaceURI);return o}return t.__super__.saveToModel.call(this)},t.prototype.loadFromModel=function(){},t.prototype.modelValues=function(){var e,t;return null!=this.valueElementName&&null!=this.refExpr?t=function(){var t,r,i,a;for(i=this.ref().children(),a=[],t=0,r=i.length;t<r;t++)e=i[t],a.push(n(e).text());return a}.call(this):[]},t.prototype.inputs=function(){return this.el.find("div.jstree")},t.prototype.inputValue=function(){var e,t,r,i,a;return e=this.inputs().find("a.jstree-clicked").parent("[node_value][item-relevant=true][item-required=false]"),i=this.inputs().find("li[item-required=true][node_value][item-relevant= true]"),t=e.add(i),this.simplify_output&&(a=t.filter("li.jstree-leaf[item-required=true], li.jstree-leaf:has(a.jstree-clicked)"),r=t.filter("li:has(a.jstree-clicked + ul.jstree-children)").not("li:has(li[item-relevant=false])"),t=a.add(r).not("li.jstree-node > a.jstree-clicked + ul:not(:has(li[item-relevant=false])) > li")),t.map(function(){return n(this).attr("node_value")})},t.prototype.inputAttrs=function(){return n.extend(t.__super__.inputAttrs.call(this),{separator:this.separator,cascade:this.cascade})},t.prototype.buildElementsDom=function(){var e,r,n,i,a,s;return a=(new Date).getTime(),n=t.__super__.buildElementsDom.call(this),i=n.children("div"),i.addClass("jstree"),i.append("<ul>"),s=i.children("ul"),e=0,r=this.items,function(){var t,n,i,o,l,c,d;for(d=[],n=i=l=e,c=r.length-1;i<=c&&(t=r[n],null!=t);n=i+=1)o=t.buildElementsDom(),o.appendTo(s),e<r.length-1&&(new Date).getTime()-a>40?(console.log("Tree construction yielding to browser to avoid unresponsive script"),d.push(setTimeout(arguments.callee,0))):d.push(void 0);return d}(),i.jstree({checkbox:{keep_selected_style:!1,three_state:this.cascade},plugins:["checkbox"]}),this.tree_root=i,i.find("i.jstree-ocl").on("click",function(e,t){return e.stopPropagation()}),n},t}(o),e.exports=a},function(e,t,r){var n,i,a,s=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;i=r(8),a=r(2),n=function(e){function t(e,r,n,i){t.__super__.constructor.call(this,e,r,n,i),this.el.bind("echoforms:modelchange",function(e){return function(){return e.loadFromModel(),e.validate()}}(this)),this.loadFromModel(),this.validate()}return s(t,e),t.prototype.ref=function(){return this.model.children()},t.prototype.isValid=function(){return 0===this.el.find(".echoforms-error:visible").length},t.prototype.serialize=function(e){var t;return null==e&&(e={}),t=this.model.children().clone(),null!=e.prune&&e.prune!==!0||t.find("*[pruned=true]").remove(),null!=e.prune&&e.prune!==!0||t.find("*:hasNoValue").remove(),a.printDOMToString(t[0])},t}(i),e.exports=n},function(e,t,r){var n,i,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;i=r(8),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.selector="group",t}(i),e.exports=n},function(e,t,r){var n,i,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=r(7),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.selector="secret",t.prototype.inputElementType="password",t}(n),e.exports=i},function(e,t,r){var n,i,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=r(9),i=function(e){function t(e,r,n,i){var a;a=e.attr("valueElementName"),null==a&&e.attr("valueElementName","value"),t.__super__.constructor.call(this,e,r,n,i)}return a(t,e),t.selector="selectref",t.prototype.buildDom=function(){return t.__super__.buildDom.call(this).addClass("echoforms-control-select")},t}(n),e.exports=i},function(e,t,r){var n,i,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;i=r(3),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.selector="textarea",t.prototype.inputTag="textarea",t}(i),e.exports=n},function(e,t,r){var n,i,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=r(13),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.selector="output[type$=anyURI], output[type$=anyuri]",t.prototype.inputTag="a",t.prototype.inputAttrs=function(){var e;return e=t.__super__.inputAttrs.call(this),e.href="#",e},t.prototype.loadFromModel=function(){var e;if(e=this.refValue(),this.refExpr||this.valueExpr)return this.el.find(".echoforms-elements > a").text(e).attr("href",e)},t}(n),e.exports=i},function(e,t,r){(function(t){var n,i,a,s,o,l,c;n=r(1),c=r(2),s=r(12),a=r(26),t.expr[":"].hasNoValue=function(e){return 0===t.trim(t(e).text()).length},o=s.matchList.concat(),l={controls:[]},i=function(){function e(e,t){var r,i,s,d,h,u,p,f,g,_,m,b,v,y;this.root=e;try{if(this.options=n.extend({},l,t),this.form=u=this.options.form,this.controlClasses=r=this.options.controls.concat(o),null==u&&c.error("You must specify a 'form' option when creating a new ECHO Forms instance"),this.resolver=b=c.buildXPathResolverFn(u),this.doc=i=n(c.parseXML(u)),this.model=g=i.find("form > model > instance"),_=this.options.prepopulate)for(h=i.find('form > model > extension[name="pre:prepopulate"] pre\\:expression'),p=0,f=h.length;p<f;p++)d=h[p],v=d.getAttribute("source"),_.hasOwnProperty(v)&&(m=d.getAttribute("ref"),n(c.execXPath(g.children(),m,b)).text(_[v]));this.ui=y=i.find("form > ui"),this.control=new a(y,g,r,b),this.root.append(this.control.element()),this.control.addedToDom()}catch(j){throw s=j,c.error(s),s}}return e.registerControl=function(e,t){return null==t&&(t={}),o.unshift(e)},e.prototype.destroy=function(){return this.root.empty()},e.prototype.isValid=function(){return this.control.isValid()},e.prototype.serialize=function(e){return this.control.serialize(e)},e}(),e.exports=i}).call(t,r(1))},function(e,t,r){e.exports=r(34)},function(e,t,r){var n,i,a,s,o,l=[].slice;n=r(1),o=r(2),a=r(12),s=r(18).pluginName,i=r(32),n[s]={control:function(e,t){return null==t&&(t={}),i.registerControl(e),t["export"]&&(n[s].controls[e.name]=e),this},controls:n.extend({},a.classes),extras:n.extend({},a.extras)},n.fn[s]=function(){var e,t,r,a;return e=1<=arguments.length?l.call(arguments,0):[],e.length>0&&"string"==typeof e[0]?(r=e,t=r[0],e=2<=r.length?l.call(r,1):[],a=this.map(function(){var r,i,a,c;return i=n.data(this,s),i?/^debug_/.test(t)?(a=t.split("_"),c=a[0],r=2<=a.length?l.call(a,1):[],i[r.join("_")]):"destroy"!==t?/^_/.test(t)||"function"!=typeof(null!=i?i[t]:void 0)?(o.error("Could not call "+t+" on "+s+" instance:",this),null):i[t].apply(i,e):(n.removeData(this,s),"function"==typeof(null!=i?i.destroy:void 0)?i.destroy():void 0):(o.warn(s+" not found on instance"),this)}),a[0]):e.length<2?this.each(function(){var t;if(t=e[0],null==n.data(this,s))return n.data(this,s,new i(n(this),t))}):(o.error("Bad arguments to "+s+":",e),this)}},function(e,t,r){t=e.exports=r(15)(),t.push([e.id,".echoforms-control-ui{color:#222;font-family:Helvetica,Arial,sans-serif;border-left:11em solid #f8f8f8}.echoforms-control-ui>.echoforms-children{margin-left:-11em}.echoforms-control-ui p{margin-top:0;margin-bottom:0}.echoforms-control{clear:both;padding:.7em 0}.echoforms-control>.echoforms-elements,.echoforms-control>.echoforms-help>.echoforms-help-item,.echoforms-control>.echoforms-label{display:block;padding-top:.2em;padding-bottom:.2em}.echoforms-typed-control>*{margin-left:11em;padding-left:1em}.echoforms-typed-control>.echoforms-label{box-sizing:border-box;float:left;margin-left:0;width:11em;padding:.3em .5em .2em;text-align:right}.echoforms-control-group{border:solid #888;border-width:1px 0}.echoforms-control-group>.echoforms-label{background-color:#e0e0e0;margin:0;padding:1em}.echoforms-control-group>.echoforms-help>.echoforms-help-item{background-color:#eee;padding:.5em 1em;color:#222}.echoforms-control-group:first-child{border-top-width:0}.echoforms-control-group:last-child{border-bottom-width:0}.echoforms-control-checkbox>.echoforms-elements,.echoforms-control-checkbox>.echoforms-label{display:inline;float:none}.echoforms-control-tree .echoforms-help{position:absolute;margin-left:10px}.echoforms-control-tree .echoforms-help>.echoforms-help-item{text-overflow:ellipsis;width:500px;white-space:nowrap;overflow:hidden}.echoforms-control-output>.echoforms-elements{padding-top:.3em;padding-bottom:.2em}.echoforms-error{color:#b94a48}.echoforms-help-item{color:#3a87ad;font-style:italic}.jstree-disabled-icon,.jstree-required-icon{background-image:url("+r(4)+");background-repeat:no-repeat;background-color:transparent}.jstree-required-icon{background-position:-3px -67px}.jstree-disabled-icon{background-position:-36px -68px}.slider{float:left;width:30em;margin-right:1em!important}.slider>.dragger{background:#8dca09;background:-webkit-linear-gradient(top,#8dca09,#72a307);background:linear-gradient(top,#8dca09,#72a307);box-shadow:inset 0 2px 2px hsla(0,0%,100%,.5),0 2px 8px rgba(0,0,0,.2);border-radius:10px;border:1px solid #496805;width:1pc;height:1pc}.slider>.dragger:hover{background:-webkit-linear-gradient(top,#8dca09,#8dca09)}.slider>.track{background:#ccc;background:-webkit-linear-gradient(top,#bbb,#ddd);background:linear-gradient(top,#bbb,#ddd);box-shadow:inset 0 2px 4px rgba(0,0,0,.1);border-radius:8px;border:1px solid #aaa;height:4px}",""])},function(e,t){e.exports=function(e){"function"==typeof execScript?execScript(e):eval.call(null,e)}},function(e,t,r){var n=r(35);"string"==typeof n&&(n=[[e.id,n,""]]);r(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,t){e.exports="data:image/gif;base64,R0lGODlhEAAQAPMAAP////Dw8IqKiuDg4EZGRnp6egAAAFhYWCQkJKysrL6+vhQUFJycnAQEBDY2NmhoaCH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAAEcRBIEOg7dWow0AiGMVCbNBhI0IjBqA2jYAgrnEkBMYPNcXymzEDXULhwQFwg4TjiNAKCj1GiBK5RAoFaul6tisItqAkIFgRnyzgpIBhmAWyQoLA5o4FDkWAM5E8TAQcFAAxUA3AlAwUjhxIKYyUKClURACH5BAkKAAAALAAAAAAQABAAAARwEEgQaHm1zjnICIgxDEuySYPhgM0QKtsICAaDLIxBbMGBBwvHxWDIaAYHlQyg+HwmgUDCc9JIEo9CAXaiRAOMw+PBrX69A4ZVEuVNDwNe4CkREBLgxEg2P8YHDwMKeE1sPAUMTCaCa2xqiiiNJ0snEQAh+QQJCgAAACwAAAAAEAAQAAAEchBIECgTtc453ggEEgROsklDc4DiYSjbBzBGEiYGAQxwUJQkgkDgMAwEBuPusTgMBihaEkYJKB4aicIgmCiGDOhpRE4UztQxuTpIZCWjTSDxwMgDMgmjoLD213gaMkdPH3lvAQwwTxR5cm47YnEnMWInEQAh+QQJCgAAACwAAAAAEAAQAAAEcBBIEChjtc45SggH8R3KJg2OFwaPUU4fwCxKqBgPNVDCMwSEwoVgCDAMi0on9TspEAaX5KPwbAa4X0DBSCR2psdi0SBdGOBNK+qgBAYKDWdAzwwEmM2nKeH+6h92GjFbgW+Dego7hHx6TTFuJiaQJhEAIfkECQoAAAAsAAAAABAAEAAABGYQSBBoKbXOOU4IhvEZyiYNhhcGC7l9QEGGjLFQA3UsCuhcK5kI0EkNNANFyMCQfBSeDcpxDAwY2JzJseRdCtpNa0mxHjdK6tmK1UiUIe31OKjCyGXc53OGvup5Vm4TgnmGJoSDExEAIfkECQoAAAAsAAAAABAAEAAABHgQSBCoUrXOGVIIQvEVwyYFhScIIFJy1fAM67AIVBkoyQAyl4JjhyBkFAKMJjA4GByvz8CzCRAYH+nAZwIwDgeCYLvVbBgIxOJBYX42Awej3KZLpgYDIerLfhYGTQYLGRl9HQYHADxVXG8IBgpdWW0AAwYMXVVLGxEAIfkECQoAAAAsAAAAABAAEAAABHMQSBDoGLXOGVQIDPMxwyaBWCIyRMlVgxCoA5FYFjYrF/N0hJ+F9zkNHouD6xPAbAKPBHOq2SQej4NsagIkCA5HgdIsTgYHafFzqQ4UBoPQMi08EAaowZHJYBYGAgZjb086gAN4Lk9MDQYXDTddJwd8FBsRACH5BAkKAAAALAAAAAAQABAAAARxEEgQ6Bi1zhlwUEoQJMMmfRj4PSVXDSE4PAqVdeJ1JUV3CDePplNwFFqi5CYgCCWfJoCiQE08NRvF4/CzeZY0Za6DHCAMvZPHYBAICAimgXADCNAIBKMNgG0GbAMLCwEOBi0bCQYhgx0INVElAVwZGxEAIfkECQoAAAAsAAAAABAAEAAABHMQSBBouHTqe8e4SqVRX+CZjChhpvkJg2VxtJKYQmqV4sU8jNgMMwkEabQRYCBo3pKjQWGasCgQig2MsyQYDMHVgLAQVAINg2NgQDASD4IR8agwsgKDwOFIgJdCEmwIAXwBBw2BEwmJAQgOJgRZSmdTZxoRACH5BAkKAAAALAAAAAAQABAAAARzEEgQaLh06sv5qBr1dYMCSlgwXspgWav3DYwJc2iQCLalnpQW57EoPkKAQWKpcBieBCSNwVPRFq5JgLFKEp69y8PBqAQQhseZsBQcAopDoZJwCQyMA0GxSIg0AwYOAXoBBQ5ZGgoIHwQEKg+JGxQCAmYaEQAh+QQJCgAAACwAAAAAEAAQAAAEbxBIEGi4dOrLe9XU4AWiNgxhV2KBYQijGCil4hqlNdDfVRiJjezyQBgfIMBOQTs0FotCcpkQiRIE1CRQ5SgPrtxF8EhUAg5DIUA4MBmPWYFRoQEYwMJj4AiSTAsEAXoBDFlTWQEPBz5aIGcMdBkTEQAh+QQJCgAAACwAAAAAEAAQAAAEcxBIEGi4dGq1xv2YBigGAgaeNgzAYSRfigWIIQyGEV9eNdQGRkKyq1gYDYXmFBA4CASBiLJaFRBYqQhV/SgOrElA0asECoaO8ZIQKMwuQeBRWCUYKKGPxVEI6g8sIUQOD00FAQmIUwOBhxcMYVsUCTAZExEAOw=="},function(e,t){e.exports=window},function(e,t,r){t=e.exports=r(15)(),t.push([e.id,".jstree-children,.jstree-container-ul,.jstree-node{display:block;margin:0;padding:0;list-style-type:none;list-style-image:none}.jstree-anchor,.jstree-node{white-space:nowrap}.jstree-anchor{display:inline-block;color:#000;padding:0 4px 0 1px;margin:0;vertical-align:top}.jstree-anchor:focus{outline:0}.jstree-anchor,.jstree-anchor:active,.jstree-anchor:hover,.jstree-anchor:link,.jstree-anchor:visited{text-decoration:none;color:inherit}.jstree-icon,.jstree-icon:empty{display:inline-block;text-decoration:none;margin:0;padding:0;vertical-align:top;text-align:center}.jstree-ocl{cursor:pointer}.jstree-leaf>.jstree-ocl{cursor:default}.jstree .jstree-open>.jstree-children{display:block}.jstree .jstree-closed>.jstree-children,.jstree .jstree-leaf>.jstree-children{display:none}.jstree-anchor>.jstree-themeicon{margin-right:2px}.jstree-anchor>.jstree-themeicon-hidden,.jstree-no-icons .jstree-themeicon{display:none}.jstree-rtl .jstree-anchor{padding:0 1px 0 4px}.jstree-rtl .jstree-anchor>.jstree-themeicon{margin-left:2px;margin-right:0}.jstree-rtl .jstree-node{margin-left:0}.jstree-rtl .jstree-container-ul>.jstree-node{margin-right:0}.jstree-wholerow-ul{position:relative;display:inline-block;min-width:100%}.jstree-wholerow-ul .jstree-leaf>.jstree-ocl{cursor:pointer}.jstree-wholerow-ul .jstree-anchor,.jstree-wholerow-ul .jstree-icon{position:relative}.jstree-wholerow-ul .jstree-wholerow{width:100%;cursor:pointer;position:absolute;left:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vakata-context{display:none}.vakata-context,.vakata-context ul{margin:0;padding:2px;position:absolute;background:#f5f5f5;border:1px solid #979797;box-shadow:2px 2px 2px #999}.vakata-context ul{list-style:none;left:100%;margin-top:-2.7em;margin-left:-4px}.vakata-context .vakata-context-right ul{left:auto;right:100%;margin-left:auto;margin-right:-4px}.vakata-context li{list-style:none;display:inline}.vakata-context li>a{display:block;padding:0 2em;text-decoration:none;width:auto;color:#000;white-space:nowrap;line-height:2.4em;-moz-text-shadow:1px 1px 0 #fff;-webkit-text-shadow:1px 1px 0 #fff;text-shadow:1px 1px 0 #fff;border-radius:1px}.vakata-context li>a:hover{position:relative;background-color:#e8eff7;box-shadow:0 0 2px #0a6aa1}.vakata-context li>a.vakata-context-parent{background-image:url(data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAIORI4JlrqN1oMSnmmZDQUAOw==);background-position:right center;background-repeat:no-repeat}.vakata-context li>a:focus{outline:0}.vakata-context .vakata-context-hover>a{position:relative;background-color:#e8eff7;box-shadow:0 0 2px #0a6aa1}.vakata-context .vakata-context-separator a,.vakata-context .vakata-context-separator a:hover{background:#fff;border:0;border-top:1px solid #e2e3e3;height:1px;min-height:1px;max-height:1px;padding:0;margin:0 0 0 2.4em;border-left:1px solid #e0e0e0;-moz-text-shadow:0 0 0 transparent;-webkit-text-shadow:0 0 0 transparent;text-shadow:0 0 0 transparent;box-shadow:0 0 0 transparent;border-radius:0}.vakata-context .vakata-contextmenu-disabled a,.vakata-context .vakata-contextmenu-disabled a:hover{color:silver;background-color:transparent;border:0;box-shadow:0 0 0}.vakata-context li>a>i{text-decoration:none;display:inline-block;height:2.4em;background:0 0;margin:0 0 0 -2em;vertical-align:top;text-align:center}.vakata-context li>a>i,.vakata-context li>a>i:empty{width:2.4em;line-height:2.4em}.vakata-context li>a .vakata-contextmenu-sep{display:inline-block;width:1px;height:2.4em;background:#fff;margin:0 .5em 0 0;border-left:1px solid #e2e3e3}.vakata-context .vakata-contextmenu-shortcut{font-size:.8em;color:silver;opacity:.5;display:none}.vakata-context-rtl ul{left:auto;right:100%;margin-left:auto;margin-right:-4px}.vakata-context-rtl li>a.vakata-context-parent{background-image:url(data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAINjI+AC7rWHIsPtmoxLAA7);background-position:left center;background-repeat:no-repeat}.vakata-context-rtl .vakata-context-separator>a{margin:0 2.4em 0 0;border-left:0;border-right:1px solid #e2e3e3}.vakata-context-rtl .vakata-context-left ul{right:auto;left:100%;margin-left:-4px;margin-right:auto}.vakata-context-rtl li>a>i{margin:0 -2em 0 0}.vakata-context-rtl li>a .vakata-contextmenu-sep{margin:0 0 0 .5em;border-left-color:#fff;background:#e2e3e3}#jstree-marker{position:absolute;top:0;left:0;margin:0;padding:0;border-right:0;border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:5px solid;width:0;height:0;font-size:0;line-height:0}#jstree-dnd{line-height:1pc;margin:0;padding:4px}#jstree-dnd .jstree-copy,#jstree-dnd .jstree-icon{display:inline-block;text-decoration:none;margin:0 2px 0 0;padding:0;width:1pc;height:1pc}#jstree-dnd .jstree-ok{background:green}#jstree-dnd .jstree-er{background:red}#jstree-dnd .jstree-copy{margin:0 2px}.jstree-default .jstree-icon,.jstree-default .jstree-node{background-repeat:no-repeat;background-color:transparent}.jstree-default .jstree-anchor,.jstree-default .jstree-wholerow{transition:background-color .15s,box-shadow .15s}.jstree-default .jstree-hovered{background:#e7f4f9;border-radius:2px;box-shadow:inset 0 0 1px #ccc}.jstree-default .jstree-clicked{background:#beebff;border-radius:2px;box-shadow:inset 0 0 1px #999}.jstree-default .jstree-no-icons .jstree-anchor>.jstree-themeicon{display:none}.jstree-default .jstree-disabled{background:0 0;color:#666}.jstree-default .jstree-disabled.jstree-hovered{background:0 0;box-shadow:none}.jstree-default .jstree-disabled>.jstree-icon{opacity:.8;filter:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='jstree-grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0'/></filter></svg>#jstree-grayscale\");filter:gray;-webkit-filter:grayscale(100%)}.jstree-default .jstree-search{font-style:italic;color:#8b0000;font-weight:700}.jstree-default .jstree-no-checkboxes .jstree-checkbox{display:none!important}.jstree-default.jstree-checkbox-no-clicked .jstree-clicked{background:0 0;box-shadow:none}.jstree-default.jstree-checkbox-no-clicked .jstree-clicked.jstree-hovered{background:#e7f4f9}.jstree-default.jstree-checkbox-no-clicked>.jstree-wholerow-ul .jstree-wholerow-clicked{background:0 0}.jstree-default.jstree-checkbox-no-clicked>.jstree-wholerow-ul .jstree-wholerow-clicked.jstree-wholerow-hovered{background:#e7f4f9}#jstree-dnd.jstree-default .jstree-er,#jstree-dnd.jstree-default .jstree-ok{background-image:url("+r(4)+");background-repeat:no-repeat;background-color:transparent}#jstree-dnd.jstree-default i{background:0 0;width:1pc;height:1pc}#jstree-dnd.jstree-default .jstree-ok{background-position:-9px -71px}#jstree-dnd.jstree-default .jstree-er{background-position:-39px -71px}.jstree-default>.jstree-striped{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAMAAAB/qqA+AAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlMNAMM9s3UAAAAXSURBVHjajcEBAQAAAIKg/H/aCQZ70AUBjAATb6YPDgAAAABJRU5ErkJggg==) left top repeat}.jstree-default>.jstree-wholerow-ul .jstree-clicked,.jstree-default>.jstree-wholerow-ul .jstree-hovered{background:0 0;box-shadow:none;border-radius:0}.jstree-default .jstree-wholerow{box-sizing:border-box}.jstree-default .jstree-wholerow-hovered{background:#e7f4f9}.jstree-default .jstree-wholerow-clicked{background:#beebff;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#beebff),color-stop(100%,#a8e4ff));background:-webkit-linear-gradient(top,#beebff 0,#a8e4ff 100%);background:linear-gradient(to bottom,#beebff 0,#a8e4ff 100%)}.jstree-default .jstree-node{min-height:24px;line-height:24px;margin-left:24px;min-width:24px}.jstree-default .jstree-anchor{line-height:24px;height:24px}.jstree-default .jstree-icon,.jstree-default .jstree-icon:empty{width:24px;height:24px;line-height:24px}.jstree-default.jstree-rtl .jstree-node{margin-right:24px}.jstree-default .jstree-wholerow{height:24px}.jstree-default .jstree-icon,.jstree-default .jstree-node{background-image:url("+r(4)+")}.jstree-default .jstree-node{background-position:-292px -4px;background-repeat:repeat-y}.jstree-default .jstree-last{background:0 0}.jstree-default .jstree-open>.jstree-ocl{background-position:-99pt -4px}.jstree-default .jstree-closed>.jstree-ocl{background-position:-75pt -4px}.jstree-default .jstree-leaf>.jstree-ocl{background-position:-68px -4px}.jstree-default .jstree-themeicon{background-position:-260px -4px}.jstree-default>.jstree-no-dots .jstree-leaf>.jstree-ocl,.jstree-default>.jstree-no-dots .jstree-node{background:0 0}.jstree-default>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-36px -4px}.jstree-default>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:-4px -4px}.jstree-default .jstree-disabled,.jstree-default .jstree-disabled.jstree-hovered{background:0 0}.jstree-default .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default .jstree-checkbox{background-position:-164px -4px}.jstree-default .jstree-checkbox:hover{background-position:-164px -36px}.jstree-default .jstree-clicked>.jstree-checkbox{background-position:-228px -4px}.jstree-default .jstree-clicked>.jstree-checkbox:hover{background-position:-228px -36px}.jstree-default .jstree-anchor>.jstree-undetermined{background-position:-196px -4px}.jstree-default .jstree-anchor>.jstree-undetermined:hover{background-position:-196px -36px}.jstree-default>.jstree-striped{background-size:auto 3pc}.jstree-default.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==);background-position:100% 1px;background-repeat:repeat-y}.jstree-default.jstree-rtl .jstree-open>.jstree-ocl{background-position:-99pt -36px}.jstree-default.jstree-rtl .jstree-closed>.jstree-ocl{background-position:-75pt -36px}.jstree-default.jstree-rtl .jstree-leaf>.jstree-ocl{background-position:-68px -36px}.jstree-default.jstree-rtl>.jstree-no-dots .jstree-leaf>.jstree-ocl,.jstree-default.jstree-rtl>.jstree-no-dots .jstree-node{background:0 0}.jstree-default.jstree-rtl>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-36px -36px}.jstree-default.jstree-rtl>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:-4px -36px}.jstree-default .jstree-themeicon-custom{background-color:transparent;background-image:none;background-position:0 0}.jstree-default>.jstree-container-ul .jstree-loading>.jstree-ocl{background:url("+r(38)+") center center no-repeat}.jstree-default .jstree-file{background:url("+r(4)+") -75pt -68px no-repeat}.jstree-default .jstree-folder{background:url("+r(4)+") -260px -4px no-repeat}.jstree-default.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==)}.jstree-default.jstree-rtl .jstree-last{background:0 0}.jstree-default-small .jstree-node{min-height:18px;line-height:18px;margin-left:18px;min-width:18px}.jstree-default-small .jstree-anchor{line-height:18px;height:18px}.jstree-default-small .jstree-icon,.jstree-default-small .jstree-icon:empty{width:18px;height:18px;line-height:18px}.jstree-default-small.jstree-rtl .jstree-node{margin-right:18px}.jstree-default-small .jstree-wholerow{height:18px}.jstree-default-small .jstree-icon,.jstree-default-small .jstree-node{background-image:url("+r(4)+")}.jstree-default-small .jstree-node{background-position:-295px -7px;background-repeat:repeat-y}.jstree-default-small .jstree-last{background:0 0}.jstree-default-small .jstree-open>.jstree-ocl{background-position:-135px -7px}.jstree-default-small .jstree-closed>.jstree-ocl{background-position:-103px -7px}.jstree-default-small .jstree-leaf>.jstree-ocl{background-position:-71px -7px}.jstree-default-small .jstree-themeicon{background-position:-263px -7px}.jstree-default-small>.jstree-no-dots .jstree-leaf>.jstree-ocl,.jstree-default-small>.jstree-no-dots .jstree-node{background:0 0}.jstree-default-small>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-39px -7px}.jstree-default-small>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:-7px -7px}.jstree-default-small .jstree-disabled,.jstree-default-small .jstree-disabled.jstree-hovered{background:0 0}.jstree-default-small .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default-small .jstree-checkbox{background-position:-167px -7px}.jstree-default-small .jstree-checkbox:hover{background-position:-167px -39px}.jstree-default-small .jstree-clicked>.jstree-checkbox{background-position:-231px -7px}.jstree-default-small .jstree-clicked>.jstree-checkbox:hover{background-position:-231px -39px}.jstree-default-small .jstree-anchor>.jstree-undetermined{background-position:-199px -7px}.jstree-default-small .jstree-anchor>.jstree-undetermined:hover{background-position:-199px -39px}.jstree-default-small>.jstree-striped{background-size:auto 36px}.jstree-default-small.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==);background-position:100% 1px;background-repeat:repeat-y}.jstree-default-small.jstree-rtl .jstree-open>.jstree-ocl{background-position:-135px -39px}.jstree-default-small.jstree-rtl .jstree-closed>.jstree-ocl{background-position:-103px -39px}.jstree-default-small.jstree-rtl .jstree-leaf>.jstree-ocl{background-position:-71px -39px}.jstree-default-small.jstree-rtl>.jstree-no-dots .jstree-leaf>.jstree-ocl,.jstree-default-small.jstree-rtl>.jstree-no-dots .jstree-node{background:0 0}.jstree-default-small.jstree-rtl>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-39px -39px}.jstree-default-small.jstree-rtl>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:-7px -39px}.jstree-default-small .jstree-themeicon-custom{background-color:transparent;background-image:none;background-position:0 0}.jstree-default-small>.jstree-container-ul .jstree-loading>.jstree-ocl{background:url("+r(38)+") center center no-repeat}.jstree-default-small .jstree-file{background:url("+r(4)+") -103px -71px no-repeat}.jstree-default-small .jstree-folder{background:url("+r(4)+") -263px -7px no-repeat}.jstree-default-small.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAACAQMAAABv1h6PAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMHBgAAiABBI4gz9AAAAABJRU5ErkJggg==)}.jstree-default-small.jstree-rtl .jstree-last{background:0 0}.jstree-default-large .jstree-node{min-height:2pc;line-height:2pc;margin-left:2pc;min-width:2pc}.jstree-default-large .jstree-anchor{line-height:2pc;height:2pc}.jstree-default-large .jstree-icon,.jstree-default-large .jstree-icon:empty{width:2pc;height:2pc;line-height:2pc}.jstree-default-large.jstree-rtl .jstree-node{margin-right:2pc}.jstree-default-large .jstree-wholerow{height:2pc}.jstree-default-large .jstree-icon,.jstree-default-large .jstree-node{background-image:url("+r(4)+")}.jstree-default-large .jstree-node{background-position:-3in 0;background-repeat:repeat-y}.jstree-default-large .jstree-last{background:0 0}.jstree-default-large .jstree-open>.jstree-ocl{background-position:-8pc 0}.jstree-default-large .jstree-closed>.jstree-ocl{background-position:-6pc 0}.jstree-default-large .jstree-leaf>.jstree-ocl{background-position:-4pc 0}.jstree-default-large .jstree-themeicon{background-position:-16pc 0}.jstree-default-large>.jstree-no-dots .jstree-leaf>.jstree-ocl,.jstree-default-large>.jstree-no-dots .jstree-node{background:0 0}.jstree-default-large>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-2pc 0}.jstree-default-large>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:0 0}.jstree-default-large .jstree-disabled,.jstree-default-large .jstree-disabled.jstree-hovered{background:0 0}.jstree-default-large .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default-large .jstree-checkbox{background-position:-10pc 0}.jstree-default-large .jstree-checkbox:hover{background-position:-10pc -2pc}.jstree-default-large .jstree-clicked>.jstree-checkbox{background-position:-14pc 0}.jstree-default-large .jstree-clicked>.jstree-checkbox:hover{background-position:-14pc -2pc}.jstree-default-large .jstree-anchor>.jstree-undetermined{background-position:-2in 0}.jstree-default-large .jstree-anchor>.jstree-undetermined:hover{background-position:-2in -2pc}.jstree-default-large>.jstree-striped{background-size:auto 4pc}.jstree-default-large.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==);background-position:100% 1px;background-repeat:repeat-y}.jstree-default-large.jstree-rtl .jstree-open>.jstree-ocl{background-position:-8pc -2pc}.jstree-default-large.jstree-rtl .jstree-closed>.jstree-ocl{background-position:-6pc -2pc}.jstree-default-large.jstree-rtl .jstree-leaf>.jstree-ocl{background-position:-4pc -2pc}.jstree-default-large.jstree-rtl>.jstree-no-dots .jstree-leaf>.jstree-ocl,.jstree-default-large.jstree-rtl>.jstree-no-dots .jstree-node{background:0 0}.jstree-default-large.jstree-rtl>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-2pc -2pc}.jstree-default-large.jstree-rtl>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:0 -2pc}.jstree-default-large .jstree-themeicon-custom{background-color:transparent;background-image:none;background-position:0 0}.jstree-default-large>.jstree-container-ul .jstree-loading>.jstree-ocl{background:url("+r(38)+") center center no-repeat}.jstree-default-large .jstree-file{background:url("+r(4)+") -6pc -4pc no-repeat}.jstree-default-large .jstree-folder{background:url("+r(4)+") -16pc 0 no-repeat}.jstree-default-large.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAACAQMAAAAD0EyKAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjgIIGBgABCgCBvVLXcAAAAABJRU5ErkJggg==)}.jstree-default-large.jstree-rtl .jstree-last{background:0 0}@media (max-width:768px){.jstree-default-responsive .jstree-icon{background-image:url("+r(17)+")}.jstree-default-responsive .jstree-leaf>.jstree-ocl,.jstree-default-responsive .jstree-node{background:0 0}.jstree-default-responsive .jstree-node{min-height:40px;line-height:40px;margin-left:40px;min-width:40px;white-space:nowrap}.jstree-default-responsive .jstree-anchor{line-height:40px;height:40px}.jstree-default-responsive .jstree-icon,.jstree-default-responsive .jstree-icon:empty{width:40px;height:40px;line-height:40px}.jstree-default-responsive>.jstree-container-ul>.jstree-node{margin-left:0}.jstree-default-responsive.jstree-rtl .jstree-node{margin-left:0;margin-right:40px}.jstree-default-responsive.jstree-rtl .jstree-container-ul>.jstree-node{margin-right:0}.jstree-default-responsive .jstree-checkbox,.jstree-default-responsive .jstree-ocl,.jstree-default-responsive .jstree-themeicon{background-size:90pt 200px}.jstree-default-responsive .jstree-leaf>.jstree-ocl{background:0 0}.jstree-default-responsive .jstree-open>.jstree-ocl{background-position:0 0!important}.jstree-default-responsive .jstree-closed>.jstree-ocl{background-position:0 -40px!important}.jstree-default-responsive.jstree-rtl .jstree-closed>.jstree-ocl{background-position:-40px 0!important}.jstree-default-responsive .jstree-themeicon{background-position:-40px -40px}.jstree-default-responsive .jstree-checkbox,.jstree-default-responsive .jstree-checkbox:hover{background-position:-40px -5pc}.jstree-default-responsive .jstree-clicked>.jstree-checkbox,.jstree-default-responsive .jstree-clicked>.jstree-checkbox:hover{background-position:0 -5pc}.jstree-default-responsive .jstree-anchor>.jstree-undetermined,.jstree-default-responsive .jstree-anchor>.jstree-undetermined:hover{background-position:0 -90pt}.jstree-default-responsive .jstree-anchor{font-weight:700;font-size:1.1em;text-shadow:1px 1px #fff}.jstree-default-responsive>.jstree-striped{background:0 0}.jstree-default-responsive .jstree-wholerow{border-top:1px solid hsla(0,0%,100%,.7);border-bottom:1px solid rgba(64,64,64,.2);background:#ebebeb;height:40px}.jstree-default-responsive .jstree-wholerow-hovered{background:#e7f4f9}.jstree-default-responsive .jstree-wholerow-clicked{background:#beebff}.jstree-default-responsive .jstree-children .jstree-last>.jstree-wholerow{box-shadow:inset 0 -6px 3px -5px #666}.jstree-default-responsive .jstree-children .jstree-open>.jstree-wholerow{box-shadow:inset 0 6px 3px -5px #666;border-top:0}.jstree-default-responsive .jstree-children .jstree-open+.jstree-open{box-shadow:none}.jstree-default-responsive .jstree-checkbox,.jstree-default-responsive .jstree-icon,.jstree-default-responsive .jstree-node,.jstree-default-responsive .jstree-node>.jstree-ocl,.jstree-default-responsive .jstree-themeicon{background-image:url("+r(17)+");background-size:90pt 200px}.jstree-default-responsive .jstree-node{background-position:-5pc 0;background-repeat:repeat-y}.jstree-default-responsive .jstree-last{background:0 0}.jstree-default-responsive .jstree-leaf>.jstree-ocl{background-position:-40px -90pt}.jstree-default-responsive .jstree-last>.jstree-ocl{background-position:-40px -10pc}.jstree-default-responsive .jstree-themeicon-custom{background-color:transparent;background-image:none;background-position:0 0}.jstree-default-responsive .jstree-file{background:url("+r(17)+") 0 -10pc no-repeat;background-size:90pt 200px}.jstree-default-responsive .jstree-folder{background:url("+r(17)+") -40px -40px no-repeat;background-size:90pt 200px}}.jstree-default>.jstree-container-ul>.jstree-node{margin-left:0;margin-right:0}",""]);
},,function(e,t,r){r(36)(r(45))},function(e,t,r){r(36)(r(46))},function(e,t,r){r(36)(r(47))},function(e,t){e.exports='/*! jsTree - v3.0.1 - 2014-06-02 - (MIT) */\r\n(function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)})(function(e,t){"use strict";if(!e.jstree){var i=0,r=!1,n=!1,s=!1,a=[],d=e("script:last").attr("src"),o=document,l=o.createElement("LI"),c,h;l.setAttribute("role","treeitem"),c=o.createElement("I"),c.className="jstree-icon jstree-ocl",l.appendChild(c),c=o.createElement("A"),c.className="jstree-anchor",c.setAttribute("href","#"),h=o.createElement("I"),h.className="jstree-icon jstree-themeicon",c.appendChild(h),l.appendChild(c),c=h=null,e.jstree={version:"3.0.1",defaults:{plugins:[]},plugins:{},path:d&&-1!==d.indexOf("/")?d.replace(/\\/[^\\/]+$/,""):"",idregex:/[\\\\:&!^|()\\[\\]<>@*\'+~#";.,=\\- \\/$]/g},e.jstree.create=function(t,r){var n=new e.jstree.core(++i),s=r;return r=e.extend(!0,{},e.jstree.defaults,r),s&&s.plugins&&(r.plugins=s.plugins),e.each(r.plugins,function(e,t){"core"!==e&&(n=n.plugin(t,r[t]))}),n.init(t,r),n},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1},selected:[],last_error:{}}}},e.jstree.reference=function(i){var r=null,n=null;if(i&&i.id&&(i=i.id),!n||!n.length)try{n=e(i)}catch(s){}if(!n||!n.length)try{n=e("#"+i.replace(e.jstree.idregex,"\\\\$&"))}catch(s){}return n&&n.length&&(n=n.closest(".jstree")).length&&(n=n.data("jstree"))?r=n:e(".jstree").each(function(){var n=e(this).data("jstree");return n&&n._model.data[i]?(r=n,!1):t}),r},e.fn.jstree=function(i){var r="string"==typeof i,n=Array.prototype.slice.call(arguments,1),s=null;return this.each(function(){var a=e.jstree.reference(this),d=r&&a?a[i]:null;return s=r&&d?d.apply(a,n):null,a||r||i!==t&&!e.isPlainObject(i)||e(this).data("jstree",new e.jstree.create(this,i)),(a&&!r||i===!0)&&(s=a||!1),null!==s&&s!==t?!1:t}),null!==s&&s!==t?s:this},e.expr[":"].jstree=e.expr.createPseudo(function(i){return function(i){return e(i).hasClass("jstree")&&e(i).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,stripes:!1,variant:!1,responsive:!0},expand_selected_onload:!0,worker:!0},e.jstree.core.prototype={plugin:function(t,i){var r=e.jstree.plugins[t];return r?(this._data[t]={},r.prototype=this,new r(i,this)):this},init:function(t,i){this._model={data:{"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}}},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=i,this.element.bind("destroyed",e.proxy(this.teardown,this)),this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class=\'jstree-container-ul jstree-children\'><li class=\'jstree-initial-node jstree-loading jstree-leaf jstree-last\'><i class=\'jstree-icon jstree-ocl\'></i><a class=\'jstree-anchor\' href=\'#\'><i class=\'jstree-icon jstree-themeicon-hidden\'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this._data.core.li_height=this.get_container_ul().children("li:eq(0)").height()||24,this.trigger("loading"),this.load_node("#")},destroy:function(e){e||this.element.empty(),this.element.unbind("destroyed",this.teardown),this.teardown()},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^=\'jstree\']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){this.element.on("dblclick.jstree",function(){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var e=window.getSelection();try{e.removeAllRanges(),e.collapse()}catch(t){}}}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(t){if("INPUT"===t.target.tagName)return!0;var i=null;switch(t.which){case 13:case 32:t.type="click",e(t.currentTarget).trigger(t);break;case 37:t.preventDefault(),this.is_open(t.currentTarget)?this.close_node(t.currentTarget):(i=this.get_prev_dom(t.currentTarget),i&&i.length&&i.children(".jstree-anchor").focus());break;case 38:t.preventDefault(),i=this.get_prev_dom(t.currentTarget),i&&i.length&&i.children(".jstree-anchor").focus();break;case 39:t.preventDefault(),this.is_closed(t.currentTarget)?this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}):(i=this.get_next_dom(t.currentTarget),i&&i.length&&i.children(".jstree-anchor").focus());break;case 40:t.preventDefault(),i=this.get_next_dom(t.currentTarget),i&&i.length&&i.children(".jstree-anchor").focus();break;case 46:t.preventDefault(),i=this.get_node(t.currentTarget),i&&i.id&&"#"!==i.id&&(i=this.is_selected(i)?this.get_selected():i);break;case 113:t.preventDefault(),i=this.get_node(t.currentTarget);break;default:}},this)).on("load_node.jstree",e.proxy(function(t,i){if(i.status&&("#"!==i.node.id||this._data.core.loaded||(this._data.core.loaded=!0,this.trigger("loaded")),!this._data.core.ready&&!this.get_container_ul().find(".jstree-loading:eq(0)").length)){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var r=[],n,s;for(n=0,s=this._data.core.selected.length;s>n;n++)r=r.concat(this._model.data[this._data.core.selected[n]].parents);for(r=e.vakata.array_unique(r),n=0,s=r.length;s>n;n++)this.open_node(r[n],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}setTimeout(e.proxy(function(){this.trigger("ready")},this),0)}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]()},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter()},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(document).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children:eq(0)")},get_string:function(t){var i=this.settings.core.strings;return e.isFunction(i)?i.call(this,t):i&&i[t]?i[t]:t},_firstChild:function(e){e=e?e.firstChild:null;while(null!==e&&1!==e.nodeType)e=e.nextSibling;return e},_nextSibling:function(e){e=e?e.nextSibling:null;while(null!==e&&1!==e.nodeType)e=e.nextSibling;return e},_previousSibling:function(e){e=e?e.previousSibling:null;while(null!==e&&1!==e.nodeType)e=e.previousSibling;return e},get_node:function(t,i){t&&t.id&&(t=t.id);var r;try{if(this._model.data[t])t=this._model.data[t];else if(((r=e(t,this.element)).length||(r=e("#"+t.replace(e.jstree.idregex,"\\\\$&"),this.element)).length)&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else{if(!(r=e(t,this.element)).length||!r.hasClass("jstree"))return!1;t=this._model.data["#"]}return i&&(t="#"===t.id?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\\\$&"),this.element)),t}catch(n){return!1}},get_path:function(e,t,i){if(e=e.parents?e:this.get_node(e),!e||"#"===e.id||!e.parents)return!1;var r,n,s=[];for(s.push(i?e.id:e.text),r=0,n=e.parents.length;n>r;r++)s.push(i?e.parents[r]:this.get_text(e.parents[r]));return s=s.reverse().slice(1),t?s.join(t):s},get_next_dom:function(t,i){var r;return t=this.get_node(t,!0),t[0]===this.element[0]?(r=this._firstChild(this.get_container_ul()[0]),r?e(r):!1):t&&t.length?i?(r=this._nextSibling(t[0]),r?e(r):!1):t.hasClass("jstree-open")?(r=this._firstChild(t.children(".jstree-children")[0]),r?e(r):!1):null!==(r=this._nextSibling(t[0]))?e(r):t.parentsUntil(".jstree",".jstree-node").next(".jstree-node").eq(0):!1},get_prev_dom:function(t,i){var r;if(t=this.get_node(t,!0),t[0]===this.element[0])return r=this.get_container_ul()[0].lastChild,r?e(r):!1;if(!t||!t.length)return!1;if(i)return r=this._previousSibling(t[0]),r?e(r):!1;if(null!==(r=this._previousSibling(t[0]))){t=e(r);while(t.hasClass("jstree-open"))t=t.children(".jstree-children:eq(0)").children(".jstree-node:last");return t}return r=t[0].parentNode.parentNode,r&&r.className&&-1!==r.className.indexOf("jstree-node")?e(r):!1},get_parent:function(e){return e=this.get_node(e),e&&"#"!==e.id?e.parent:!1},get_children_dom:function(e){return e=this.get_node(e,!0),e[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):e&&e.length?e.children(".jstree-children").children(".jstree-node"):!1},is_parent:function(e){return e=this.get_node(e),e&&(e.state.loaded===!1||e.children.length>0)},is_loaded:function(e){return e=this.get_node(e),e&&e.state.loaded},is_loading:function(e){return e=this.get_node(e),e&&e.state&&e.state.loading},is_open:function(e){return e=this.get_node(e),e&&e.state.opened},is_closed:function(e){return e=this.get_node(e),e&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,i){var r,n,s,a,d,o,l;if(e.isArray(t)){for(t=t.slice(),r=0,n=t.length;n>r;r++)this.load_node(t[r],i);return!0}if(t=this.get_node(t),!t)return i&&i.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,s=0,a=t.children_d.length;a>s;s++){for(d=0,o=t.parents.length;o>d;d++)this._model.data[t.parents[d]].children_d=e.vakata.array_remove_item(this._model.data[t.parents[d]].children_d,t.children_d[s]);this._model.data[t.children_d[s]].state.selected&&(l=!0,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.children_d[s])),delete this._model.data[t.children_d[s]]}t.children=[],t.children_d=[],l&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading"),this._load_node(t,e.proxy(function(e){t=this._model.data[t.id],t.state.loading=!1,t.state.loaded=e;var r=this.get_node(t,!0);t.state.loaded&&!t.children.length&&r&&r.length&&!r.hasClass("jstree-leaf")&&r.removeClass("jstree-closed jstree-open").addClass("jstree-leaf"),r.removeClass("jstree-loading"),this.trigger("load_node",{node:t,status:e}),i&&i.call(this,t,e)},this)),!0},_load_nodes:function(e,t,i){var r=!0,n=function(){this._load_nodes(e,t,!0)},s=this._model.data,a,d;for(a=0,d=e.length;d>a;a++)!s[e[a]]||s[e[a]].state.loaded&&i||(this.is_loading(e[a])||this.load_node(e[a],n),r=!1);r&&(t.done||(t.call(this,e),t.done=!0))},_load_node:function(t,i){var r=this.settings.core.data,n;return r?e.isFunction(r)?r.call(this,t,e.proxy(function(r){r===!1&&i.call(this,!1),this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?e(r):r,function(e){i.call(this,e)})},this)):"object"==typeof r?r.url?(r=e.extend(!0,{},r),e.isFunction(r.url)&&(r.url=r.url.call(this,t)),e.isFunction(r.data)&&(r.data=r.data.call(this,t)),e.ajax(r).done(e.proxy(function(r,n,s){var a=s.getResponseHeader("Content-Type");return-1!==a.indexOf("json")||"object"==typeof r?this._append_json_data(t,r,function(e){i.call(this,e)}):-1!==a.indexOf("html")||"string"==typeof r?this._append_html_data(t,e(r),function(e){i.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:s})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))},this)).fail(e.proxy(function(e){i.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(n=e.isArray(r)||e.isPlainObject(r)?JSON.parse(JSON.stringify(r)):r,"#"===t.id?this._append_json_data(t,n,function(e){i.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))):"string"==typeof r?"#"===t.id?this._append_html_data(t,e(r),function(e){i.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1)):i.call(this,!1):"#"===t.id?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){i.call(this,e)}):i.call(this,!1)},_node_changed:function(e){e=this.get_node(e),e&&this._model.changed.push(e.id)},_append_html_data:function(t,i,r){t=this.get_node(t),t.children=[],t.children_d=[];var n=i.is("ul")?i.children():i,s=t.id,a=[],d=[],o=this._model.data,l=o[s],c=this._data.core.selected.length,h,_,u;for(n.each(e.proxy(function(t,i){h=this._parse_model_from_html(e(i),s,l.parents.concat()),h&&(a.push(h),d.push(h),o[h].children_d.length&&(d=d.concat(o[h].children_d)))},this)),l.children=a,l.children_d=d,_=0,u=l.parents.length;u>_;_++)o[l.parents[_]].children_d=o[l.parents[_]].children_d.concat(d);this.trigger("model",{nodes:d,parent:s}),"#"!==s?(this._node_changed(s),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==c&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)},_append_json_data:function(t,i,r){t=this.get_node(t),t.children=[],t.children_d=[],i.d&&(i=i.d,"string"==typeof i&&(i=JSON.parse(i))),e.isArray(i)||(i=[i]);var n=null,s={df:this._model.default_state,dat:i,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},a=function(e,t){e.data&&(e=e.data);var i=e.dat,r=e.par,n=[],s=[],a=[],d=e.df,o=e.t_id,l=e.t_cnt,c=e.m,h=c[r],_=e.sel,u,g,f,p,m=function(e,i,r){r=r?r.concat():[],i&&r.unshift(i);var n=""+e.id,s,o,l,h,_={id:n,text:e.text||"",icon:e.icon!==t?e.icon:!0,parent:i,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in d)d.hasOwnProperty(s)&&(_.state[s]=d[s]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(_.icon=e.data.jstree.icon),e&&e.data&&(_.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(_.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(_.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(_.li_attr[s]=e.li_attr[s]);if(_.li_attr.id||(_.li_attr.id=n),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(_.a_attr[s]=e.a_attr[s]);for(e&&e.children&&e.children===!0&&(_.state.loaded=!1,_.children=[],_.children_d=[]),c[_.id]=_,s=0,o=_.children.length;o>s;s++)l=m(c[_.children[s]],_.id,r),h=c[l],_.children_d.push(l),h.children_d.length&&(_.children_d=_.children_d.concat(h.children_d));return delete e.data,delete e.children,c[_.id].original=e,_.state.selected&&a.push(_.id),_.id},v=function(e,i,r){r=r?r.concat():[],i&&r.unshift(i);var n=!1,s,h,_,u,g;do n="j"+o+"_"+ ++l;while(c[n]);g={id:!1,text:"string"==typeof e?e:"",icon:"object"==typeof e&&e.icon!==t?e.icon:!0,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in d)d.hasOwnProperty(s)&&(g.state[s]=d[s]);if(e&&e.id&&(g.id=""+e.id),e&&e.text&&(g.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(g.icon=e.data.jstree.icon),e&&e.data&&(g.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(g.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(g.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(g.li_attr[s]=e.li_attr[s]);if(g.li_attr.id&&!g.id&&(g.id=""+g.li_attr.id),g.id||(g.id=n),g.li_attr.id||(g.li_attr.id=g.id),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(g.a_attr[s]=e.a_attr[s]);if(e&&e.children&&e.children.length){for(s=0,h=e.children.length;h>s;s++)_=v(e.children[s],g.id,r),u=c[_],g.children.push(_),u.children_d.length&&(g.children_d=g.children_d.concat(u.children_d));g.children_d=g.children_d.concat(g.children)}return e&&e.children&&e.children===!0&&(g.state.loaded=!1,g.children=[],g.children_d=[]),delete e.data,delete e.children,g.original=e,c[g.id]=g,g.state.selected&&a.push(g.id),g.id};if(i.length&&i[0].id!==t&&i[0].parent!==t){for(g=0,f=i.length;f>g;g++)i[g].children||(i[g].children=[]),c[""+i[g].id]=i[g];for(g=0,f=i.length;f>g;g++)c[""+i[g].parent].children.push(""+i[g].id),h.children_d.push(""+i[g].id);for(g=0,f=h.children.length;f>g;g++)u=m(c[h.children[g]],r,h.parents.concat()),s.push(u),c[u].children_d.length&&(s=s.concat(c[u].children_d));p={cnt:l,mod:c,sel:_,par:r,dpc:s,add:a}}else{for(g=0,f=i.length;f>g;g++)u=v(i[g],r,h.parents.concat()),u&&(n.push(u),s.push(u),c[u].children_d.length&&(s=s.concat(c[u].children_d)));for(h.children=n,h.children_d=s,g=0,f=h.parents.length;f>g;g++)c[h.parents[g]].children_d=c[h.parents[g]].children_d.concat(s);p={cnt:l,mod:c,sel:_,par:r,dpc:s,add:a}}return p},d=function(t,i){if(this._cnt=t.cnt,this._model.data=t.mod,i){var n,s,a=t.add,d=t.sel,o=this._data.core.selected.slice(),l=this._model.data;if(d.length!==o.length||e.vakata.array_unique(d.concat(o)).length!==d.length){for(n=0,s=d.length;s>n;n++)-1===e.inArray(d[n],a)&&-1===e.inArray(d[n],o)&&(l[d[n]].state.selected=!1);for(n=0,s=o.length;s>n;n++)-1===e.inArray(o[n],d)&&(l[o[n]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),"#"!==t.par?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+(""+a).replace(/return ([^;}]+)[\\s;}]+$/,"postMessage($1);}")],{type:"text/javascript"}))),n=new window.Worker(this._wrk),n.onmessage=e.proxy(function(e){d.call(this,e.data,!0)},this),n.postMessage(s)}catch(o){d.call(this,a(s),!1)}else d.call(this,a(s),!1)},_parse_model_from_html:function(i,r,n){n=n?[].concat(n):[],r&&n.unshift(r);var s,a,d=this._model.data,o={id:!1,text:!1,icon:!0,parent:r,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},l,c,h;for(l in this._model.default_state)this._model.default_state.hasOwnProperty(l)&&(o.state[l]=this._model.default_state[l]);if(c=e.vakata.attributes(i,!0),e.each(c,function(i,r){return r=e.trim(r),r.length?(o.li_attr[i]=r,"id"===i&&(o.id=""+r),t):!0}),c=i.children("a").eq(0),c.length&&(c=e.vakata.attributes(c,!0),e.each(c,function(t,i){i=e.trim(i),i.length&&(o.a_attr[t]=i)})),c=i.children("a:eq(0)").length?i.children("a:eq(0)").clone():i.clone(),c.children("ins, i, ul").remove(),c=c.html(),c=e("<div />").html(c),o.text=c.html(),c=i.data(),o.data=c?e.extend(!0,{},c):null,o.state.opened=i.hasClass("jstree-open"),o.state.selected=i.children("a").hasClass("jstree-clicked"),o.state.disabled=i.children("a").hasClass("jstree-disabled"),o.data&&o.data.jstree)for(l in o.data.jstree)o.data.jstree.hasOwnProperty(l)&&(o.state[l]=o.data.jstree[l]);c=i.children("a").children(".jstree-themeicon"),c.length&&(o.icon=c.hasClass("jstree-themeicon-hidden")?!1:c.attr("rel")),o.state.icon&&(o.icon=o.state.icon),c=i.children("ul").children("li");do h="j"+this._id+"_"+ ++this._cnt;while(d[h]);return o.id=o.li_attr.id?""+o.li_attr.id:h,c.length?(c.each(e.proxy(function(t,i){s=this._parse_model_from_html(e(i),o.id,n),a=this._model.data[s],o.children.push(s),a.children_d.length&&(o.children_d=o.children_d.concat(a.children_d))},this)),o.children_d=o.children_d.concat(o.children)):i.hasClass("jstree-closed")&&(o.state.loaded=!1),o.li_attr["class"]&&(o.li_attr["class"]=o.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")),o.a_attr["class"]&&(o.a_attr["class"]=o.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")),d[o.id]=o,o.state.selected&&this._data.core.selected.push(o.id),o.id},_parse_model_from_flat_json:function(e,i,r){r=r?r.concat():[],i&&r.unshift(i);var n=""+e.id,s=this._model.data,a=this._model.default_state,d,o,l,c,h={id:n,text:e.text||"",icon:e.icon!==t?e.icon:!0,parent:i,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(d in a)a.hasOwnProperty(d)&&(h.state[d]=a[d]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),e&&e.data&&(h.data=e.data,e.data.jstree))for(d in e.data.jstree)e.data.jstree.hasOwnProperty(d)&&(h.state[d]=e.data.jstree[d]);if(e&&"object"==typeof e.state)for(d in e.state)e.state.hasOwnProperty(d)&&(h.state[d]=e.state[d]);if(e&&"object"==typeof e.li_attr)for(d in e.li_attr)e.li_attr.hasOwnProperty(d)&&(h.li_attr[d]=e.li_attr[d]);if(h.li_attr.id||(h.li_attr.id=n),e&&"object"==typeof e.a_attr)for(d in e.a_attr)e.a_attr.hasOwnProperty(d)&&(h.a_attr[d]=e.a_attr[d]);for(e&&e.children&&e.children===!0&&(h.state.loaded=!1,h.children=[],h.children_d=[]),s[h.id]=h,d=0,o=h.children.length;o>d;d++)l=this._parse_model_from_flat_json(s[h.children[d]],h.id,r),c=s[l],h.children_d.push(l),c.children_d.length&&(h.children_d=h.children_d.concat(c.children_d));return delete e.data,delete e.children,s[h.id].original=e,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_json:function(e,i,r){r=r?r.concat():[],i&&r.unshift(i);var n=!1,s,a,d,o,l=this._model.data,c=this._model.default_state,h;do n="j"+this._id+"_"+ ++this._cnt;while(l[n]);h={id:!1,text:"string"==typeof e?e:"",icon:"object"==typeof e&&e.icon!==t?e.icon:!0,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in c)c.hasOwnProperty(s)&&(h.state[s]=c[s]);if(e&&e.id&&(h.id=""+e.id),e&&e.text&&(h.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),e&&e.data&&(h.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(h.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(h.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(h.li_attr[s]=e.li_attr[s]);if(h.li_attr.id&&!h.id&&(h.id=""+h.li_attr.id),h.id||(h.id=n),h.li_attr.id||(h.li_attr.id=h.id),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(h.a_attr[s]=e.a_attr[s]);if(e&&e.children&&e.children.length){for(s=0,a=e.children.length;a>s;s++)d=this._parse_model_from_json(e.children[s],h.id,r),o=l[d],h.children.push(d),o.children_d.length&&(h.children_d=h.children_d.concat(o.children_d));h.children_d=h.children_d.concat(h.children)}return e&&e.children&&e.children===!0&&(h.state.loaded=!1,h.children=[],h.children_d=[]),delete e.data,delete e.children,h.original=e,l[h.id]=h,h.state.selected&&this._data.core.selected.push(h.id),h.id},_redraw:function(){var e=this._model.force_full_redraw?this._model.data["#"].children.concat([]):this._model.changed.concat([]),t=document.createElement("UL"),i,r,n;for(r=0,n=e.length;n>r;r++)i=this.redraw_node(e[r],!0,this._model.force_full_redraw),i&&this._model.force_full_redraw&&t.appendChild(i);this._model.force_full_redraw&&(t.className=this.get_container_ul()[0].className,this.element.empty().append(t)),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:e})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},redraw_node:function(t,i,r){var n=this.get_node(t),s=!1,a=!1,d=!1,o=!1,c=!1,h=!1,_="",u=document,g=this._model.data,f=!1,p=!1,m=null;if(!n)return!1;if("#"===n.id)return this.redraw(!0);if(i=i||0===n.children.length,t=document.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(n.id[0])?"\\\\3"+n.id[0]+" "+n.id.substr(1).replace(e.jstree.idregex,"\\\\$&"):n.id.replace(e.jstree.idregex,"\\\\$&"))):document.getElementById(n.id))t=e(t),r||(s=t.parent().parent()[0],s===this.element[0]&&(s=null),a=t.index()),i||!n.children.length||t.children(".jstree-children").length||(i=!0),i||(d=t.children(".jstree-children")[0]),p=t.attr("aria-selected"),f=t.children(".jstree-anchor")[0]===document.activeElement,t.remove();else if(i=!0,!r){if(s="#"!==n.parent?e("#"+n.parent.replace(e.jstree.idregex,"\\\\$&"),this.element)[0]:null,!(null===s||s&&g[n.parent].state.opened))return!1;a=e.inArray(n.id,null===s?g["#"].children:g[n.parent].children)}t=l.cloneNode(!0),_="jstree-node ";for(o in n.li_attr)if(n.li_attr.hasOwnProperty(o)){if("id"===o)continue;"class"!==o?t.setAttribute(o,n.li_attr[o]):_+=n.li_attr[o]}p&&"false"!==p&&t.setAttribute("aria-selected",!0),n.state.loaded&&!n.children.length?_+=" jstree-leaf":(_+=n.state.opened&&n.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",n.state.opened&&n.state.loaded)),null!==n.parent&&g[n.parent].children[g[n.parent].children.length-1]===n.id&&(_+=" jstree-last"),t.id=n.id,t.className=_,_=(n.state.selected?" jstree-clicked":"")+(n.state.disabled?" jstree-disabled":"");for(c in n.a_attr)if(n.a_attr.hasOwnProperty(c)){if("href"===c&&"#"===n.a_attr[c])continue;"class"!==c?t.childNodes[1].setAttribute(c,n.a_attr[c]):_+=" "+n.a_attr[c]}if(_.length&&(t.childNodes[1].className="jstree-anchor "+_),(n.icon&&n.icon!==!0||n.icon===!1)&&(n.icon===!1?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===n.icon.indexOf("/")&&-1===n.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+n.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage="url("+n.icon+")",t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),t.childNodes[1].innerHTML+=n.text,i&&n.children.length&&n.state.opened&&n.state.loaded){for(h=u.createElement("UL"),h.setAttribute("role","group"),h.className="jstree-children",o=0,c=n.children.length;c>o;o++)h.appendChild(this.redraw_node(n.children[o],i,!0));t.appendChild(h)}if(d&&t.appendChild(d),!r){for(s||(s=this.element[0]),o=0,c=s.childNodes.length;c>o;o++)if(s.childNodes[o]&&s.childNodes[o].className&&-1!==s.childNodes[o].className.indexOf("jstree-children")){m=s.childNodes[o];break}m||(m=u.createElement("UL"),m.setAttribute("role","group"),m.className="jstree-children",s.appendChild(m)),s=m,s.childNodes.length>a?s.insertBefore(t,s.childNodes[a]):s.appendChild(t),f&&t.childNodes[1].focus()}return n.state.opened&&!n.state.loaded&&(n.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(n.id,!1,0)},this),0)),t},open_node:function(i,r,n){var s,a,d,o;if(e.isArray(i)){for(i=i.slice(),s=0,a=i.length;a>s;s++)this.open_node(i[s],r,n);return!0}if(i=this.get_node(i),!i||"#"===i.id)return!1;if(n=n===t?this.settings.core.animation:n,!this.is_closed(i))return r&&r.call(this,i,!1),!1;if(this.is_loaded(i))d=this.get_node(i,!0),o=this,d.length&&(i.children.length&&!this._firstChild(d.children(".jstree-children")[0])&&(i.state.opened=!0,this.redraw_node(i,!0),d=this.get_node(i,!0)),n?(this.trigger("before_open",{node:i}),d.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(n,function(){this.style.display="",o.trigger("after_open",{node:i})})):(this.trigger("before_open",{node:i}),d[0].className=d[0].className.replace("jstree-closed","jstree-open"),d[0].setAttribute("aria-expanded",!0))),i.state.opened=!0,r&&r.call(this,i,!0),d.length||this.trigger("before_open",{node:i}),this.trigger("open_node",{node:i}),n&&d.length||this.trigger("after_open",{node:i});else{if(this.is_loading(i))return setTimeout(e.proxy(function(){this.open_node(i,r,n)},this),500);this.load_node(i,function(e,t){return t?this.open_node(e,r,n):r?r.call(this,e,!1):!1})}},_open_to:function(t){if(t=this.get_node(t),!t||"#"===t.id)return!1;var i,r,n=t.parents;for(i=0,r=n.length;r>i;i+=1)"#"!==i&&this.open_node(n[i],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\\\$&"),this.element)},close_node:function(i,r){var n,s,a,d;if(e.isArray(i)){for(i=i.slice(),n=0,s=i.length;s>n;n++)this.close_node(i[n],r);return!0}return i=this.get_node(i),i&&"#"!==i.id?this.is_closed(i)?!1:(r=r===t?this.settings.core.animation:r,a=this,d=this.get_node(i,!0),d.length&&(r?d.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(r,function(){this.style.display="",d.children(".jstree-children").remove(),a.trigger("after_close",{node:i})}):(d[0].className=d[0].className.replace("jstree-open","jstree-closed"),d.attr("aria-expanded",!1).children(".jstree-children").remove())),i.state.opened=!1,this.trigger("close_node",{node:i}),r&&d.length||this.trigger("after_close",{node:i}),t):!1},toggle_node:function(i){var r,n;if(e.isArray(i)){for(i=i.slice(),r=0,n=i.length;n>r;r++)this.toggle_node(i[r]);return!0}return this.is_closed(i)?this.open_node(i):this.is_open(i)?this.close_node(i):t},open_all:function(e,t,i){if(e||(e="#"),e=this.get_node(e),!e)return!1;var r="#"===e.id?this.get_container_ul():this.get_node(e,!0),n,s,a;if(!r.length){for(n=0,s=e.children_d.length;s>n;n++)this.is_closed(this._model.data[e.children_d[n]])&&(this._model.data[e.children_d[n]].state.opened=!0);return this.trigger("open_all",{node:e})}i=i||r,a=this,r=this.is_closed(e)?r.find(".jstree-closed").addBack():r.find(".jstree-closed"),r.each(function(){a.open_node(this,function(e,r){r&&this.is_parent(e)&&this.open_all(e,t,i)},t||0)}),0===i.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(i)})},close_all:function(t,i){if(t||(t="#"),t=this.get_node(t),!t)return!1;var r="#"===t.id?this.get_container_ul():this.get_node(t,!0),n=this,s,a;if(!r.length){for(s=0,a=t.children_d.length;a>s;s++)this._model.data[t.children_d[s]].state.opened=!1;return this.trigger("close_all",{node:t})}r=this.is_open(t)?r.find(".jstree-open").addBack():r.find(".jstree-open"),e(r.get().reverse()).each(function(){n.close_node(this,i||0)}),this.trigger("close_all",{node:t})},is_disabled:function(e){return e=this.get_node(e),e&&e.state&&e.state.disabled},enable_node:function(i){var r,n;if(e.isArray(i)){for(i=i.slice(),r=0,n=i.length;n>r;r++)this.enable_node(i[r]);return!0}return i=this.get_node(i),i&&"#"!==i.id?(i.state.disabled=!1,this.get_node(i,!0).children(".jstree-anchor").removeClass("jstree-disabled"),this.trigger("enable_node",{node:i}),t):!1},disable_node:function(i){var r,n;\nif(e.isArray(i)){for(i=i.slice(),r=0,n=i.length;n>r;r++)this.disable_node(i[r]);return!0}return i=this.get_node(i),i&&"#"!==i.id?(i.state.disabled=!0,this.get_node(i,!0).children(".jstree-anchor").addClass("jstree-disabled"),this.trigger("disable_node",{node:i}),t):!1},activate_node:function(e,i){if(this.is_disabled(e))return!1;if(this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&(!i.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(i.shiftKey){var r=this.get_node(e).id,n=this._data.core.last_clicked.id,s=this.get_node(this._data.core.last_clicked.parent).children,a=!1,d,o;for(d=0,o=s.length;o>d;d+=1)s[d]===r&&(a=!a),s[d]===n&&(a=!a),a||s[d]===r||s[d]===n?this.select_node(s[d],!1,!1,i):this.deselect_node(s[d],!1,!1,i)}else this.is_selected(e)?this.deselect_node(e,!1,!1,i):this.select_node(e,!1,!1,i);else!this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,!1,i):(this.deselect_all(!0),this.select_node(e,!1,!1,i),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e)})},hover_node:function(e){if(e=this.get_node(e,!0),!e||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),i=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){i.attr("aria-activedescendant",e[0].id),e.attr("aria-selected",!0)},0)},dehover_node:function(e){return e=this.get_node(e,!0),e&&e.length&&e.children(".jstree-hovered").length?(e.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)}),t):!1},select_node:function(i,r,n,s){var a,d,o,l;if(e.isArray(i)){for(i=i.slice(),d=0,o=i.length;o>d;d++)this.select_node(i[d],r,n,s);return!0}return i=this.get_node(i),i&&"#"!==i.id?(a=this.get_node(i,!0),i.state.selected||(i.state.selected=!0,this._data.core.selected.push(i.id),n||(a=this._open_to(i)),a&&a.length&&a.children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:i,selected:this._data.core.selected,event:s}),r||this.trigger("changed",{action:"select_node",node:i,selected:this._data.core.selected,event:s})),t):!1},deselect_node:function(i,r,n){var s,a,d;if(e.isArray(i)){for(i=i.slice(),s=0,a=i.length;a>s;s++)this.deselect_node(i[s],r,n);return!0}return i=this.get_node(i),i&&"#"!==i.id?(d=this.get_node(i,!0),i.state.selected&&(i.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,i.id),d.length&&d.children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:i,selected:this._data.core.selected,event:n}),r||this.trigger("changed",{action:"deselect_node",node:i,selected:this._data.core.selected,event:n})),t):!1},select_all:function(e){var t=this._data.core.selected.concat([]),i,r;for(this._data.core.selected=this._model.data["#"].children_d.concat(),i=0,r=this._data.core.selected.length;r>i;i++)this._model.data[this._data.core.selected[i]]&&(this._model.data[this._data.core.selected[i]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),e||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:t})},deselect_all:function(e){var t=this._data.core.selected.concat([]),i,r;for(i=0,r=this._data.core.selected.length;r>i;i++)this._model.data[this._data.core.selected[i]]&&(this._model.data[this._data.core.selected[i]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked"),this.trigger("deselect_all",{selected:this._data.core.selected,node:t}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:t})},is_selected:function(e){return e=this.get_node(e),e&&"#"!==e.id?e.state.selected:!1},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected},get_top_selected:function(t){var i=this.get_selected(!0),r={},n,s,a,d;for(n=0,s=i.length;s>n;n++)r[i[n].id]=i[n];for(n=0,s=i.length;s>n;n++)for(a=0,d=i[n].children_d.length;d>a;a++)r[i[n].children_d[a]]&&delete r[i[n].children_d[a]];i=[];for(n in r)r.hasOwnProperty(n)&&i.push(n);return t?e.map(i,e.proxy(function(e){return this.get_node(e)},this)):i},get_bottom_selected:function(t){var i=this.get_selected(!0),r=[],n,s;for(n=0,s=i.length;s>n;n++)i[n].children.length||r.push(i[n].id);return t?e.map(r,e.proxy(function(e){return this.get_node(e)},this)):r},get_state:function(){var e={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}},t;for(t in this._model.data)this._model.data.hasOwnProperty(t)&&"#"!==t&&(this._model.data[t].state.opened&&e.core.open.push(t),this._model.data[t].state.selected&&e.core.selected.push(t));return e},set_state:function(i,r){if(i){if(i.core){var n,s,a,d;if(i.core.open)return e.isArray(i.core.open)?(n=!0,s=!1,a=this,e.each(i.core.open.concat([]),function(t,d){s=a.get_node(d),s&&(a.is_loaded(d)?(a.is_closed(d)&&a.open_node(d,!1,0),i&&i.core&&i.core.open&&e.vakata.array_remove_item(i.core.open,d)):(a.is_loading(d)||a.open_node(d,e.proxy(function(t,n){!n&&i&&i.core&&i.core.open&&e.vakata.array_remove_item(i.core.open,t.id),this.set_state(i,r)},a),0),n=!1))}),n&&(delete i.core.open,this.set_state(i,r)),!1):(delete i.core.open,this.set_state(i,r),!1);if(i.core.scroll)return i.core.scroll&&i.core.scroll.left!==t&&this.element.scrollLeft(i.core.scroll.left),i.core.scroll&&i.core.scroll.top!==t&&this.element.scrollTop(i.core.scroll.top),delete i.core.scroll,this.set_state(i,r),!1;if(i.core.selected)return d=this,this.deselect_all(),e.each(i.core.selected,function(e,t){d.select_node(t)}),delete i.core.selected,this.set_state(i,r),!1;if(e.isEmptyObject(i.core))return delete i.core,this.set_state(i,r),!1}return e.isEmptyObject(i)?(i=null,r&&r.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(t){this._data.core.state=this.get_state(),this._cnt=0,this._model.data={"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}}};var i=this.get_container_ul()[0].className;t||this.element.html("<ul class=\'"+i+"\'><"+"li class=\'jstree-initial-node jstree-loading jstree-leaf jstree-last\'><i class=\'jstree-icon jstree-ocl\'></i><"+"a class=\'jstree-anchor\' href=\'#\'><i class=\'jstree-icon jstree-themeicon-hidden\'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.load_node("#",function(t,r){r&&(this.get_container_ul()[0].className=i,this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(t=this.get_node(t),!t||"#"===t.id)return!1;var i=[],r=this._data.core.selected.concat([]);t.state.opened===!0&&i.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){i.push(this.id)}),this._load_nodes(i,e.proxy(function(e){this.open_node(e,!1,0),this.select_node(this._data.core.selected),this.trigger("refresh_node",{node:t,nodes:e})},this))},set_id:function(t,i){if(t=this.get_node(t),!t||"#"===t.id)return!1;var r,n,s=this._model.data;for(i=""+i,s[t.parent].children[e.inArray(t.id,s[t.parent].children)]=i,r=0,n=t.parents.length;n>r;r++)s[t.parents[r]].children_d[e.inArray(t.id,s[t.parents[r]].children_d)]=i;for(r=0,n=t.children.length;n>r;r++)s[t.children[r]].parent=i;for(r=0,n=t.children_d.length;n>r;r++)s[t.children_d[r]].parents[e.inArray(t.id,s[t.children_d[r]].parents)]=i;return r=e.inArray(t.id,this._data.core.selected),-1!==r&&(this._data.core.selected[r]=i),r=this.get_node(t.id,!0),r&&r.attr("id",i),delete s[t.id],t.id=i,s[i]=t,!0},get_text:function(e){return e=this.get_node(e),e&&"#"!==e.id?e.text:!1},set_text:function(t,i){var r,n,s,a;if(e.isArray(t)){for(t=t.slice(),r=0,n=t.length;n>r;r++)this.set_text(t[r],i);return!0}return t=this.get_node(t),t&&"#"!==t.id?(t.text=i,s=this.get_node(t,!0),s.length&&(s=s.children(".jstree-anchor:eq(0)"),a=s.children("I").clone(),s.html(i).prepend(a),this.trigger("set_text",{obj:t,text:i})),!0):!1},get_json:function(e,t,i){if(e=this.get_node(e||"#"),!e)return!1;t&&t.flat&&!i&&(i=[]);var r={id:e.id,text:e.text,icon:this.get_icon(e),li_attr:e.li_attr,a_attr:e.a_attr,state:{},data:t&&t.no_data?!1:e.data},n,s;if(t&&t.flat?r.parent=e.parent:r.children=[],!t||!t.no_state)for(n in e.state)e.state.hasOwnProperty(n)&&(r.state[n]=e.state[n]);if(t&&t.no_id&&(delete r.id,r.li_attr&&r.li_attr.id&&delete r.li_attr.id),t&&t.flat&&"#"!==e.id&&i.push(r),!t||!t.no_children)for(n=0,s=e.children.length;s>n;n++)t&&t.flat?this.get_json(e.children[n],t,i):r.children.push(this.get_json(e.children[n],t));return t&&t.flat?i:"#"===e.id?r.children:r},create_node:function(i,r,n,s,a){if(null===i&&(i="#"),i=this.get_node(i),!i)return!1;if(n=n===t?"last":n,!(""+n).match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return this.load_node(i,function(){this.create_node(i,r,n,s,!0)});r||(r={text:this.get_string("New node")}),r.text===t&&(r.text=this.get_string("New node"));var d,o,l,c;switch("#"===i.id&&("before"===n&&(n="first"),"after"===n&&(n="last")),n){case"before":d=this.get_node(i.parent),n=e.inArray(i.id,d.children),i=d;break;case"after":d=this.get_node(i.parent),n=e.inArray(i.id,d.children)+1,i=d;break;case"inside":case"first":n=0;break;case"last":n=i.children.length;break;default:n||(n=0)}if(n>i.children.length&&(n=i.children.length),r.id||(r.id=!0),!this.check("create_node",r,i,n))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(r.id===!0&&delete r.id,r=this._parse_model_from_json(r,i.id,i.parents.concat()),!r)return!1;for(d=this.get_node(r),o=[],o.push(r),o=o.concat(d.children_d),this.trigger("model",{nodes:o,parent:i.id}),i.children_d=i.children_d.concat(o),l=0,c=i.parents.length;c>l;l++)this._model.data[i.parents[l]].children_d=this._model.data[i.parents[l]].children_d.concat(o);for(r=d,d=[],l=0,c=i.children.length;c>l;l++)d[l>=n?l+1:l]=i.children[l];return d[n]=r.id,i.children=d,this.redraw_node(i,!0),s&&s.call(this,this.get_node(r)),this.trigger("create_node",{node:this.get_node(r),parent:i.id,position:n}),r.id},rename_node:function(t,i){var r,n,s;if(e.isArray(t)){for(t=t.slice(),r=0,n=t.length;n>r;r++)this.rename_node(t[r],i);return!0}return t=this.get_node(t),t&&"#"!==t.id?(s=t.text,this.check("rename_node",t,this.get_parent(t),i)?(this.set_text(t,i),this.trigger("rename_node",{node:t,text:i,old:s}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1)):!1},delete_node:function(t){var i,r,n,s,a,d,o,l,c,h;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.delete_node(t[i]);return!0}if(t=this.get_node(t),!t||"#"===t.id)return!1;if(n=this.get_node(t.parent),s=e.inArray(t.id,n.children),h=!1,!this.check("delete_node",t,n,s))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==s&&(n.children=e.vakata.array_remove(n.children,s)),a=t.children_d.concat([]),a.push(t.id),l=0,c=a.length;c>l;l++){for(d=0,o=t.parents.length;o>d;d++)s=e.inArray(a[l],this._model.data[t.parents[d]].children_d),-1!==s&&(this._model.data[t.parents[d]].children_d=e.vakata.array_remove(this._model.data[t.parents[d]].children_d,s));this._model.data[a[l]].state.selected&&(h=!0,s=e.inArray(a[l],this._data.core.selected),-1!==s&&(this._data.core.selected=e.vakata.array_remove(this._data.core.selected,s)))}for(this.trigger("delete_node",{node:t,parent:n.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:n.id}),l=0,c=a.length;c>l;l++)delete this._model.data[a[l]];return this.redraw_node(n,!0),!0},check:function(t,i,r,n,s){i=i&&i.id?i:this.get_node(i),r=r&&r.id?r:this.get_node(r);var a=t.match(/^move_node|copy_node|create_node$/i)?r:i,d=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||s&&s.is_multi||i.id!==r.id&&e.inArray(i.id,r.children)!==n&&-1===e.inArray(r.id,i.children_d)?(a&&a.data&&(a=a.data),a&&a.functions&&(a.functions[t]===!1||a.functions[t]===!0)?(a.functions[t]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:n,obj:i&&i.id?i.id:!1,par:r&&r.id?r.id:!1})}),a.functions[t]):d===!1||e.isFunction(d)&&d.call(this,t,i,r,n,s)===!1||d&&d[t]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:n,obj:i&&i.id?i.id:!1,par:r&&r.id?r.id:!1})},!1):!0):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:n,obj:i&&i.id?i.id:!1,par:r&&r.id?r.id:!1})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(i,r,n,s,a){var d,o,l,c,h,_,u,g,f,p,m,v,j,y;if(e.isArray(i)){for(i=i.reverse().slice(),d=0,o=i.length;o>d;d++)this.move_node(i[d],r,n,s,a);return!0}if(i=i&&i.id?i:this.get_node(i),r=this.get_node(r),n=n===t?0:n,!r||!i||"#"===i.id)return!1;if(!(""+n).match(/^(before|after)$/)&&!a&&!this.is_loaded(r))return this.load_node(r,function(){this.move_node(i,r,n,s,!0)});if(l=""+(i.parent||"#"),h=(""+n).match(/^(before|after)$/)&&"#"!==r.id?this.get_node(r.parent):r,_=i.instance?i.instance:this._model.data[i.id]?this:e.jstree.reference(i.id),u=!_||!_._id||this._id!==_._id,c=_&&_._id&&l&&_._model.data[l]&&_._model.data[l].children?e.inArray(i.id,_._model.data[l].children):-1,u)return this.copy_node(i,r,n,s,a)?(_&&_.delete_node(i),!0):!1;switch("#"===h.id&&("before"===n&&(n="first"),"after"===n&&(n="last")),n){case"before":n=e.inArray(r.id,h.children);break;case"after":n=e.inArray(r.id,h.children)+1;break;case"inside":case"first":n=0;break;case"last":n=h.children.length;break;default:n||(n=0)}if(n>h.children.length&&(n=h.children.length),!this.check("move_node",i,h,n,{core:!0,is_multi:_&&_._id&&_._id!==this._id,is_foreign:!_||!_._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.parent===h.id){for(g=h.children.concat(),f=e.inArray(i.id,g),-1!==f&&(g=e.vakata.array_remove(g,f),n>f&&n--),f=[],p=0,m=g.length;m>p;p++)f[p>=n?p+1:p]=g[p];f[n]=i.id,h.children=f,this._node_changed(h.id),this.redraw("#"===h.id)}else{for(f=i.children_d.concat(),f.push(i.id),p=0,m=i.parents.length;m>p;p++){for(g=[],y=_._model.data[i.parents[p]].children_d,v=0,j=y.length;j>v;v++)-1===e.inArray(y[v],f)&&g.push(y[v]);_._model.data[i.parents[p]].children_d=g}for(_._model.data[l].children=e.vakata.array_remove_item(_._model.data[l].children,i.id),p=0,m=h.parents.length;m>p;p++)this._model.data[h.parents[p]].children_d=this._model.data[h.parents[p]].children_d.concat(f);for(g=[],p=0,m=h.children.length;m>p;p++)g[p>=n?p+1:p]=h.children[p];for(g[n]=i.id,h.children=g,h.children_d.push(i.id),h.children_d=h.children_d.concat(i.children_d),i.parent=h.id,f=h.parents.concat(),f.unshift(h.id),y=i.parents.length,i.parents=f,f=f.concat(),p=0,m=i.children_d.length;m>p;p++)this._model.data[i.children_d[p]].parents=this._model.data[i.children_d[p]].parents.slice(0,-1*y),Array.prototype.push.apply(this._model.data[i.children_d[p]].parents,f);this._node_changed(l),this._node_changed(h.id),this.redraw("#"===l||"#"===h.id)}return s&&s.call(this,i,h,n),this.trigger("move_node",{node:i,parent:h.id,position:n,old_parent:l,old_position:c,is_multi:_&&_._id&&_._id!==this._id,is_foreign:!_||!_._id,old_instance:_,new_instance:this}),!0},copy_node:function(i,r,n,s,a){var d,o,l,c,h,_,u,g,f,p,m;if(e.isArray(i)){for(i=i.reverse().slice(),d=0,o=i.length;o>d;d++)this.copy_node(i[d],r,n,s,a);return!0}if(i=i&&i.id?i:this.get_node(i),r=this.get_node(r),n=n===t?0:n,!r||!i||"#"===i.id)return!1;if(!(""+n).match(/^(before|after)$/)&&!a&&!this.is_loaded(r))return this.load_node(r,function(){this.copy_node(i,r,n,s,!0)});switch(g=""+(i.parent||"#"),f=(""+n).match(/^(before|after)$/)&&"#"!==r.id?this.get_node(r.parent):r,p=i.instance?i.instance:this._model.data[i.id]?this:e.jstree.reference(i.id),m=!p||!p._id||this._id!==p._id,"#"===f.id&&("before"===n&&(n="first"),"after"===n&&(n="last")),n){case"before":n=e.inArray(r.id,f.children);break;case"after":n=e.inArray(r.id,f.children)+1;break;case"inside":case"first":n=0;break;case"last":n=f.children.length;break;default:n||(n=0)}if(n>f.children.length&&(n=f.children.length),!this.check("copy_node",i,f,n,{core:!0,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(u=p?p.get_json(i,{no_id:!0,no_data:!0,no_state:!0}):i,!u)return!1;if(u.id===!0&&delete u.id,u=this._parse_model_from_json(u,f.id,f.parents.concat()),!u)return!1;for(c=this.get_node(u),i&&i.state&&i.state.loaded===!1&&(c.state.loaded=!1),l=[],l.push(u),l=l.concat(c.children_d),this.trigger("model",{nodes:l,parent:f.id}),h=0,_=f.parents.length;_>h;h++)this._model.data[f.parents[h]].children_d=this._model.data[f.parents[h]].children_d.concat(l);for(l=[],h=0,_=f.children.length;_>h;h++)l[h>=n?h+1:h]=f.children[h];return l[n]=c.id,f.children=l,f.children_d.push(c.id),f.children_d=f.children_d.concat(c.children_d),this._node_changed(f.id),this.redraw("#"===f.id),s&&s.call(this,c,f,n),this.trigger("copy_node",{node:c,original:i,parent:f.id,position:n,old_parent:g,old_position:p&&p._id&&g&&p._model.data[g]&&p._model.data[g].children?e.inArray(i.id,p._model.data[g].children):-1,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),c.id},cut:function(i){if(i||(i=this._data.core.selected.concat()),e.isArray(i)||(i=[i]),!i.length)return!1;var a=[],d,o,l;for(o=0,l=i.length;l>o;o++)d=this.get_node(i[o]),d&&d.id&&"#"!==d.id&&a.push(d);return a.length?(r=a,s=this,n="move_node",this.trigger("cut",{node:i}),t):!1},copy:function(i){if(i||(i=this._data.core.selected.concat()),e.isArray(i)||(i=[i]),!i.length)return!1;var a=[],d,o,l;for(o=0,l=i.length;l>o;o++)d=this.get_node(i[o]),d&&d.id&&"#"!==d.id&&a.push(d);return a.length?(r=a,s=this,n="copy_node",this.trigger("copy",{node:i}),t):!1},get_buffer:function(){return{mode:n,node:r,inst:s}},can_paste:function(){return n!==!1&&r!==!1},paste:function(e,i){return e=this.get_node(e),e&&n&&n.match(/^(copy_node|move_node)$/)&&r?(this[n](r,e,i)&&this.trigger("paste",{parent:e.id,node:r,mode:n}),r=!1,n=!1,s=!1,t):!1},edit:function(i,r){if(i=this._open_to(i),!i||!i.length)return!1;if(this.settings.core.check_callback===!1)return this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1;var n=this._data.core.rtl,s=this.element.width(),a=i.children(".jstree-anchor"),d=e("<span>"),o="string"==typeof r?r:this.get_text(i),l=e("<div />",{css:{position:"absolute",top:"-200px",left:n?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),c=e("<input />",{value:o,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(){var e=d.children(".jstree-rename-input"),t=e.val();""===t&&(t=o),l.remove(),d.replaceWith(a),d.remove(),this.set_text(i,o),this.rename_node(i,t)===!1&&this.set_text(i,o)},this),keydown:function(e){var t=e.which;27===t&&(this.value=o),(27===t||13===t||37===t||38===t||39===t||40===t||32===t)&&e.stopImmediatePropagation(),(27===t||13===t)&&(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){c.width(Math.min(l.text("pW"+this.value).width(),s))},keypress:function(e){return 13===e.which?!1:t}}),h={fontFamily:a.css("fontFamily")||"",fontSize:a.css("fontSize")||"",fontWeight:a.css("fontWeight")||"",fontStyle:a.css("fontStyle")||"",fontStretch:a.css("fontStretch")||"",fontVariant:a.css("fontVariant")||"",letterSpacing:a.css("letterSpacing")||"",wordSpacing:a.css("wordSpacing")||""};this.set_text(i,""),d.attr("class",a.attr("class")).append(a.contents().clone()).append(c),a.replaceWith(d),l.css(h),c.css(h).width(Math.min(l.text("pW"+c[0].value).width(),s))[0].select()},set_theme:function(t,i){if(!t)return!1;if(i===!0){var r=this.settings.core.themes.dir;r||(r=e.jstree.path+"/themes"),i=r+"/"+t+"/style.css"}i&&-1===e.inArray(i,a)&&(e("head").append(\'<link rel="stylesheet" href="\'+i+\'" type="text/css" />\'),a.push(i)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(t,i){var r,n,s,a;if(e.isArray(t)){for(t=t.slice(),r=0,n=t.length;n>r;r++)this.set_icon(t[r],i);return!0}return t=this.get_node(t),t&&"#"!==t.id?(a=t.icon,t.icon=i,s=this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon"),i===!1?this.hide_icon(t):i===!0?s.removeClass("jstree-themeicon-custom "+a).css("background","").removeAttr("rel"):-1===i.indexOf("/")&&-1===i.indexOf(".")?(s.removeClass(a).css("background",""),s.addClass(i+" jstree-themeicon-custom").attr("rel",i)):(s.removeClass(a).css("background",""),s.addClass("jstree-themeicon-custom").css("background","url(\'"+i+"\') center center no-repeat").attr("rel",i)),!0):!1},get_icon:function(e){return e=this.get_node(e),e&&"#"!==e.id?e.icon:!1},hide_icon:function(t){var i,r;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.hide_icon(t[i]);return!0}return t=this.get_node(t),t&&"#"!==t?(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0):!1},show_icon:function(t){var i,r,n;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.show_icon(t[i]);return!0}return t=this.get_node(t),t&&"#"!==t?(n=this.get_node(t,!0),t.icon=n.length?n.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,t.icon||(t.icon=!0),n.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0):!1}},e.vakata={},e.vakata.attributes=function(t,i){t=e(t)[0];var r=i?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,n){-1===e.inArray(n.nodeName.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==n.nodeValue&&""!==e.trim(n.nodeValue)&&(i?r[n.nodeName]=n.nodeValue:r.push(n.nodeName))}),r},e.vakata.array_unique=function(e){var t=[],i,r,n;for(i=0,n=e.length;n>i;i++){for(r=0;i>=r;r++)if(e[i]===e[r])break;r===i&&t.push(e[i])}return t},e.vakata.array_remove=function(e,t,i){var r=e.slice((i||t)+1||e.length);return e.length=0>t?e.length+t:t,e.push.apply(e,r),e},e.vakata.array_remove_item=function(t,i){var r=e.inArray(i,t);return-1!==r?e.vakata.array_remove(t,r):t};var _=document.createElement("I");_.className="jstree-icon jstree-checkbox",e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0},e.jstree.plugins.checkbox=function(t,i){this.bind=function(){i.bind.call(this),this._data.checkbox.uto=!1,this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),this.settings.checkbox.three_state&&this.element.on("changed.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)).on("model.jstree",e.proxy(function(t,i){var r=this._model.data,n=r[i.parent],s=i.nodes,a=[],d,o,l,c,h,_;if(n.state.selected){for(o=0,l=s.length;l>o;o++)r[s[o]].state.selected=!0;this._data.core.selected=this._data.core.selected.concat(s)}else for(o=0,l=s.length;l>o;o++)if(r[s[o]].state.selected){for(c=0,h=r[s[o]].children_d.length;h>c;c++)r[r[s[o]].children_d[c]].state.selected=!0;this._data.core.selected=this._data.core.selected.concat(r[s[o]].children_d)}for(o=0,l=n.children_d.length;l>o;o++)r[n.children_d[o]].children.length||a.push(r[n.children_d[o]].parent);for(a=e.vakata.array_unique(a),c=0,h=a.length;h>c;c++){n=r[a[c]];while(n&&"#"!==n.id){for(d=0,o=0,l=n.children.length;l>o;o++)d+=r[n.children[o]].state.selected;if(d!==l)break;n.state.selected=!0,this._data.core.selected.push(n.id),_=this.get_node(n,!0),_&&_.length&&_.children(".jstree-anchor").addClass("jstree-clicked"),n=this.get_node(n.parent)}}this._data.core.selected=e.vakata.array_unique(this._data.core.selected)},this)).on("select_node.jstree",e.proxy(function(t,i){var r=i.node,n=this._model.data,s=this.get_node(r.parent),a=this.get_node(r,!0),d,o,l,c;for(this._data.core.selected=e.vakata.array_unique(this._data.core.selected.concat(r.children_d)),d=0,o=r.children_d.length;o>d;d++)c=n[r.children_d[d]],c.state.selected=!0,c&&c.original&&c.original.state&&c.original.state.undetermined&&(c.original.state.undetermined=!1);while(s&&"#"!==s.id){for(l=0,d=0,o=s.children.length;o>d;d++)l+=n[s.children[d]].state.selected;if(l!==o)break;s.state.selected=!0,this._data.core.selected.push(s.id),c=this.get_node(s,!0),c&&c.length&&c.children(".jstree-anchor").addClass("jstree-clicked"),s=this.get_node(s.parent)}a.length&&a.find(".jstree-anchor").addClass("jstree-clicked")},this)).on("deselect_all.jstree",e.proxy(function(e,t){var i=this.get_node("#"),r=this._model.data,n,s,a;for(n=0,s=i.children_d.length;s>n;n++)a=r[i.children_d[n]],a&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1)},this)).on("deselect_node.jstree",e.proxy(function(t,i){var r=i.node,n=this.get_node(r,!0),s,a,d;for(r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1),s=0,a=r.children_d.length;a>s;s++)d=this._model.data[r.children_d[s]],d.state.selected=!1,d&&d.original&&d.original.state&&d.original.state.undetermined&&(d.original.state.undetermined=!1);for(s=0,a=r.parents.length;a>s;s++)d=this._model.data[r.parents[s]],d.state.selected=!1,d&&d.original&&d.original.state&&d.original.state.undetermined&&(d.original.state.undetermined=!1),d=this.get_node(r.parents[s],!0),d&&d.length&&d.children(".jstree-anchor").removeClass("jstree-clicked");for(d=[],s=0,a=this._data.core.selected.length;a>s;s++)-1===e.inArray(this._data.core.selected[s],r.children_d)&&-1===e.inArray(this._data.core.selected[s],r.parents)&&d.push(this._data.core.selected[s]);this._data.core.selected=e.vakata.array_unique(d),n.length&&n.find(".jstree-anchor").removeClass("jstree-clicked")},this)).on("delete_node.jstree",e.proxy(function(e,t){var i=this.get_node(t.parent),r=this._model.data,n,s,a,d;while(i&&"#"!==i.id){for(a=0,n=0,s=i.children.length;s>n;n++)a+=r[i.children[n]].state.selected;if(a!==s)break;i.state.selected=!0,this._data.core.selected.push(i.id),d=this.get_node(i,!0),d&&d.length&&d.children(".jstree-anchor").addClass("jstree-clicked"),i=this.get_node(i.parent)}},this)).on("move_node.jstree",e.proxy(function(t,i){var r=i.is_multi,n=i.old_parent,s=this.get_node(i.parent),a=this._model.data,d,o,l,c,h;if(!r){d=this.get_node(n);while(d&&"#"!==d.id){for(o=0,l=0,c=d.children.length;c>l;l++)o+=a[d.children[l]].state.selected;if(o!==c)break;d.state.selected=!0,this._data.core.selected.push(d.id),h=this.get_node(d,!0),h&&h.length&&h.children(".jstree-anchor").addClass("jstree-clicked"),d=this.get_node(d.parent)}}d=s;while(d&&"#"!==d.id){for(o=0,l=0,c=d.children.length;c>l;l++)o+=a[d.children[l]].state.selected;if(o===c)d.state.selected||(d.state.selected=!0,this._data.core.selected.push(d.id),h=this.get_node(d,!0),h&&h.length&&h.children(".jstree-anchor").addClass("jstree-clicked"));else{if(!d.state.selected)break;d.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,d.id),h=this.get_node(d,!0),h&&h.length&&h.children(".jstree-anchor").removeClass("jstree-clicked")}d=this.get_node(d.parent)}},this))},this._undetermined=function(){var t,i,r=this._model.data,n=this._data.core.selected,s=[],a=this;for(t=0,i=n.length;i>t;t++)r[n[t]]&&r[n[t]].parents&&(s=s.concat(r[n[t]].parents));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var e=a.get_node(this),n;if(e.state.loaded)for(t=0,i=e.children_d.length;i>t;t++)n=r[e.children_d[t]],!n.state.loaded&&n.original&&n.original.state&&n.original.state.undetermined&&n.original.state.undetermined===!0&&(s.push(n.id),s=s.concat(n.parents));else e.original&&e.original.state&&e.original.state.undetermined&&e.original.state.undetermined===!0&&(s.push(e.id),s=s.concat(e.parents))}),s=e.vakata.array_unique(s),s=e.vakata.array_remove_item(s,"#"),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),t=0,i=s.length;i>t;t++)r[s[t]].state.selected||(n=this.get_node(s[t],!0),n&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined"))},this.redraw_node=function(t,r,n){if(t=i.redraw_node.call(this,t,r,n)){var s,a,d=null;for(s=0,a=t.childNodes.length;a>s;s++)if(t.childNodes[s]&&t.childNodes[s].className&&-1!==t.childNodes[s].className.indexOf("jstree-anchor")){d=t.childNodes[s];break}d&&d.insertBefore(_.cloneNode(!1),d.childNodes[0])}return!n&&this.settings.checkbox.three_state&&(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.activate_node=function(t,r){return(this.settings.checkbox.whole_node||e(r.target).hasClass("jstree-checkbox"))&&(r.ctrlKey=!0),i.activate_node.call(this,t,r)},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()\n}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,i){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.create_node(r,{},"last",function(e){setTimeout(function(){i.edit(e)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.edit(r)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.is_selected(r)?i.delete_node(i.get_selected()):i.delete_node(r)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.is_selected(r)?i.cut(i.get_selected()):i.cut(r)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.is_selected(r)?i.copy(i.get_selected()):i.copy(r)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.paste(r)}}}}}}},e.jstree.plugins.contextmenu=function(i,r){this.bind=function(){r.bind.call(this);var t=0;this.element.on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e){e.preventDefault(),t=e.ctrlKey?e.timeStamp:0,this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(i){this._data.contextmenu.visible&&(!t||i.timeStamp-t>250)&&e.vakata.context.hide()},this)),e(document).on("context_hide.vakata",e.proxy(function(){this._data.contextmenu.visible=!1},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),r.teardown.call(this)},this.show_contextmenu=function(i,r,n,s){if(i=this.get_node(i),!i||"#"===i.id)return!1;var a=this.settings.contextmenu,d=this.get_node(i,!0),o=d.children(".jstree-anchor"),l=!1,c=!1;(a.show_at_node||r===t||n===t)&&(l=o.offset(),r=l.left,n=l.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(i)&&this.activate_node(i,s),c=a.items,e.isFunction(c)&&(c=c.call(this,i,e.proxy(function(e){this._show_contextmenu(i,r,n,e)},this))),e.isPlainObject(c)&&this._show_contextmenu(i,r,n,c)},this._show_contextmenu=function(t,i,r,n){var s=this.get_node(t,!0),a=s.children(".jstree-anchor");e(document).one("context_show.vakata",e.proxy(function(t,i){var r="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(i.element).addClass(r)},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(a,{x:i,y:r},n),this.trigger("show_contextmenu",{node:t,x:i,y:r})}},function(e){var i=!1,r={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(document).triggerHandler("context_"+t+".vakata",{reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}})},_execute:function(t){return t=r.items[t],t&&(!t._disabled||e.isFunction(t._disabled)&&!t._disabled({item:t,reference:r.reference,element:r.element}))&&t.action?t.action.call(null,{item:t,reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}}):!1},_parse:function(i,n){if(!i)return!1;n||(r.html="",r.items=[]);var s="",a=!1,d;return n&&(s+="<ul>"),e.each(i,function(i,n){return n?(r.items.push(n),!a&&n.separator_before&&(s+="<li class=\'vakata-context-separator\'><a href=\'#\' "+(e.vakata.context.settings.icons?"":\'style="margin-left:0px;"\')+">&#160;<"+"/a><"+"/li>"),a=!1,s+="<li class=\'"+(n._class||"")+(n._disabled===!0||e.isFunction(n._disabled)&&n._disabled({item:n,reference:r.reference,element:r.element})?" vakata-contextmenu-disabled ":"")+"\' "+(n.shortcut?" data-shortcut=\'"+n.shortcut+"\' ":"")+">",s+="<a href=\'#\' rel=\'"+(r.items.length-1)+"\'>",e.vakata.context.settings.icons&&(s+="<i ",n.icon&&(s+=-1!==n.icon.indexOf("/")||-1!==n.icon.indexOf(".")?" style=\'background:url(\\""+n.icon+"\\") center center no-repeat\' ":" class=\'"+n.icon+"\' "),s+="></i><span class=\'vakata-contextmenu-sep\'>&#160;</span>"),s+=(e.isFunction(n.label)?n.label({item:i,reference:r.reference,element:r.element}):n.label)+(n.shortcut?\' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-\'+n.shortcut+\'">\'+(n.shortcut_label||"")+"</span>":"")+"<"+"/a>",n.submenu&&(d=e.vakata.context._parse(n.submenu,!0),d&&(s+=d)),s+="</li>",n.separator_after&&(s+="<li class=\'vakata-context-separator\'><a href=\'#\' "+(e.vakata.context.settings.icons?"":\'style="margin-left:0px;"\')+">&#160;<"+"/a><"+"/li>",a=!0),t):!0}),s=s.replace(/<li class\\=\'vakata-context-separator\'\\><\\/li\\>$/,""),n&&(s+="</ul>"),n||(r.html=s,e.vakata.context._trigger("parse")),s.length>10?s:!1},_show_submenu:function(t){if(t=e(t),t.length&&t.children("ul").length){var r=t.children("ul"),n=t.offset().left+t.outerWidth(),s=t.offset().top,a=r.width(),d=r.height(),o=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop();i?t[0>n-(a+10+t.outerWidth())?"addClass":"removeClass"]("vakata-context-left"):t[n+a+10>o?"addClass":"removeClass"]("vakata-context-right"),s+d+10>l&&r.css("bottom","-1px"),r.show()}},show:function(t,n,s){var a,d,o,l,c,h,_,u,g=!0;switch(r.element&&r.element.length&&r.element.width(""),g){case!n&&!t:return!1;case!!n&&!!t:r.reference=t,r.position_x=n.x,r.position_y=n.y;break;case!n&&!!t:r.reference=t,a=t.offset(),r.position_x=a.left+t.outerHeight(),r.position_y=a.top;break;case!!n&&!t:r.position_x=n.x,r.position_y=n.y}t&&!s&&e(t).data("vakata_contextmenu")&&(s=e(t).data("vakata_contextmenu")),e.vakata.context._parse(s)&&r.element.html(r.html),r.items.length&&(d=r.element,o=r.position_x,l=r.position_y,c=d.width(),h=d.height(),_=e(window).width()+e(window).scrollLeft(),u=e(window).height()+e(window).scrollTop(),i&&(o-=d.outerWidth(),e(window).scrollLeft()+20>o&&(o=e(window).scrollLeft()+20)),o+c+20>_&&(o=_-(c+20)),l+h+20>u&&(l=u-(h+20)),r.element.css({left:o,top:l}).show().find("a:eq(0)").focus().parent().addClass("vakata-context-hover"),r.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){r.is_visible&&(r.element.hide().find("ul").hide().end().find(":focus").blur(),r.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){i="rtl"===e("body").css("direction");var t=!1;r.element=e("<ul class=\'vakata-context\'></ul>"),r.element.on("mouseenter","li",function(i){i.stopImmediatePropagation(),e.contains(this,i.relatedTarget)||(t&&clearTimeout(t),r.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(i){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(t=setTimeout(function(t){return function(){e.vakata.context.hide()}}(this),e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(e){e.preventDefault()}).on("mouseup","a",function(t){e(this).blur().parent().hasClass("vakata-context-disabled")||e.vakata.context._execute(e(this).attr("rel"))===!1||e.vakata.context.hide()}).on("keydown","a",function(t){var i=null;switch(t.which){case 13:case 32:t.type="mouseup",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:r.is_visible&&(r.element.find(".vakata-context-hover").last().parents("li:eq(0)").find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:r.is_visible&&(i=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),i.length||(i=r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:r.is_visible&&(r.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:r.is_visible&&(i=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),i.length||(i=r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault();break;default:}}).on("keydown",function(e){e.preventDefault();var t=r.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.mouseup()}).appendTo("body"),e(document).on("mousedown",function(t){r.is_visible&&!e.contains(r.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata",function(e,t){r.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),i&&r.element.addClass("vakata-context-rtl").css("direction","rtl"),r.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0},e.jstree.plugins.dnd=function(i,r){this.bind=function(){r.bind.call(this),this.element.on("mousedown.jstree touchstart.jstree",".jstree-anchor",e.proxy(function(i){var r=this.get_node(i.target),n=this.is_selected(r)?this.get_selected().length:1;return r&&r.id&&"#"!==r.id&&(1===i.which||"touchstart"===i.type)&&(this.settings.dnd.is_draggable===!0||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,n>1?this.get_selected(!0):[r]))?(this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(i,{jstree:!0,origin:this,obj:this.get_node(r,!0),nodes:n>1?this.get_selected():[r.id]},\'<div id="jstree-dnd" class="jstree-\'+this.get_theme()+\'"><i class="jstree-icon jstree-er"></i>\'+(n>1?n+" "+this.get_string("nodes"):this.get_text(i.currentTarget,!0))+\'<ins class="jstree-copy" style="display:none;">+</ins></div>\')):t},this))}},e(function(){var i=!1,r=!1,n=!1,s=e(\'<div id="jstree-marker">&#160;</div>\').hide().appendTo("body");e(document).bind("dnd_start.vakata",function(e,t){i=!1}).bind("dnd_move.vakata",function(a,d){if(n&&clearTimeout(n),d.data.jstree&&(!d.event.target.id||"jstree-marker"!==d.event.target.id)){var o=e.jstree.reference(d.event.target),l=!1,c=!1,h=!1,_,u,g,f,p,m,v,j,y,x,k,b,w,C;if(o&&o._data&&o._data.dnd)if(s.attr("class","jstree-"+o.get_theme()),d.helper.children().attr("class","jstree-"+o.get_theme()).find(".jstree-copy:eq(0)")[d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"show":"hide"](),d.event.target!==o.element[0]&&d.event.target!==o.get_container_ul()[0]||0!==o.get_container_ul().children().length){if(l=e(d.event.target).closest(".jstree-anchor"),l&&l.length&&l.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(c=l.offset(),h=d.event.pageY-c.top,g=l.height(),m=g/3>h?["b","i","a"]:h>g-g/3?["a","i","b"]:h>g/2?["i","a","b"]:["i","b","a"],e.each(m,function(a,h){switch(h){case"b":_=c.left-6,u=c.top-5,f=o.get_parent(l),p=l.parent().index();break;case"i":w=o.settings.dnd.inside_pos,C=o.get_node(l.parent()),_=c.left-2,u=c.top-5+g/2+1,f=C.id,p="first"===w?0:"last"===w?C.children.length:Math.min(w,C.children.length);break;case"a":_=c.left-6,u=c.top-5+g,f=o.get_parent(l),p=l.parent().index()+1}for(v=!0,j=0,y=d.data.nodes.length;y>j;j++)if(x=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",k=p,"move_node"===x&&"a"===h&&d.data.origin&&d.data.origin===o&&f===o.get_parent(d.data.nodes[j])&&(b=o.get_node(f),k>e.inArray(d.data.nodes[j],b.children)&&(k-=1)),v=v&&(o&&o.settings&&o.settings.dnd&&o.settings.dnd.check_while_dragging===!1||o.check(x,d.data.origin&&d.data.origin!==o?d.data.origin.get_node(d.data.nodes[j]):d.data.nodes[j],f,k,{dnd:!0,ref:o.get_node(l.parent()),pos:h,is_multi:d.data.origin&&d.data.origin!==o,is_foreign:!d.data.origin})),!v){o&&o.last_error&&(r=o.last_error());break}return v?("i"===h&&l.parent().is(".jstree-closed")&&o.settings.dnd.open_timeout&&(n=setTimeout(function(e,t){return function(){e.open_node(t)}}(o,l),o.settings.dnd.open_timeout)),i={ins:o,par:f,pos:"i"!==h||"last"!==w||0!==p||o.is_loaded(C)?p:"last"},s.css({left:_+"px",top:u+"px"}).show(),d.helper.find(".jstree-icon:eq(0)").removeClass("jstree-er").addClass("jstree-ok"),r={},m=!0,!1):t}),m===!0))return}else{for(v=!0,j=0,y=d.data.nodes.length;y>j;j++)if(v=v&&o.check(d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",d.data.origin&&d.data.origin!==o?d.data.origin.get_node(d.data.nodes[j]):d.data.nodes[j],"#","last",{dnd:!0,ref:o.get_node("#"),pos:"i",is_multi:d.data.origin&&d.data.origin!==o,is_foreign:!d.data.origin}),!v)break;if(v)return i={ins:o,par:"#",pos:"last"},s.hide(),d.helper.find(".jstree-icon:eq(0)").removeClass("jstree-er").addClass("jstree-ok"),t}i=!1,d.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),s.hide()}}).bind("dnd_scroll.vakata",function(e,t){t.data.jstree&&(s.hide(),i=!1,t.helper.find(".jstree-icon:eq(0)").removeClass("jstree-ok").addClass("jstree-er"))}).bind("dnd_stop.vakata",function(t,a){if(n&&clearTimeout(n),a.data.jstree){s.hide();var d,o,l=[];if(i){for(d=0,o=a.data.nodes.length;o>d;d++)l[d]=a.data.origin?a.data.origin.get_node(a.data.nodes[d]):a.data.nodes[d],a.data.origin&&(l[d].instance=a.data.origin);i.ins[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"copy_node":"move_node"](l,i.par,i.pos)}else d=e(a.event.target).closest(".jstree"),d.length&&r&&r.error&&"check"===r.error&&(d=d.jstree(!0),d&&d.settings.core.error.call(this,r))}}).bind("keyup keydown",function(t,i){i=e.vakata.dnd._get(),i.data&&i.data.jstree&&i.helper.find(".jstree-copy:eq(0)")[i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"]()})}),function(e){var i={element:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5},_trigger:function(t,i){var r=e.vakata.dnd._get();r.event=i,e(document).triggerHandler("dnd_"+t+".vakata",r)},_get:function(){return{data:i.data,element:i.element,helper:i.helper}},_clean:function(){i.helper&&i.helper.remove(),i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),i={element:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1},e(document).off("mousemove touchmove",e.vakata.dnd.drag),e(document).off("mouseup touchend",e.vakata.dnd.stop)},_scroll:function(t){if(!i.scroll_e||!i.scroll_l&&!i.scroll_t)return i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),!1;if(!i.scroll_i)return i.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(t===!0)return!1;var r=i.scroll_e.scrollTop(),n=i.scroll_e.scrollLeft();i.scroll_e.scrollTop(r+i.scroll_t*e.vakata.dnd.settings.scroll_speed),i.scroll_e.scrollLeft(n+i.scroll_l*e.vakata.dnd.settings.scroll_speed),(r!==i.scroll_e.scrollTop()||n!==i.scroll_e.scrollLeft())&&e.vakata.dnd._trigger("scroll",i.scroll_e)},start:function(t,r,n){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=document.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.MozUserSelect="none")}catch(s){}return i.init_x=t.pageX,i.init_y=t.pageY,i.data=r,i.is_down=!0,i.element=t.currentTarget,n!==!1&&(i.helper=e("<div id=\'vakata-dnd\'></div>").html(n).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(document).bind("mousemove touchmove",e.vakata.dnd.drag),e(document).bind("mouseup touchend",e.vakata.dnd.stop),!1},drag:function(r){if("touchmove"===r.type&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(r.pageX=r.originalEvent.changedTouches[0].pageX,r.pageY=r.originalEvent.changedTouches[0].pageY,r.target=document.elementFromPoint(r.originalEvent.changedTouches[0].pageX-window.pageXOffset,r.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_down){if(!i.is_drag){if(!(Math.abs(r.pageX-i.init_x)>e.vakata.dnd.settings.threshold||Math.abs(r.pageY-i.init_y)>e.vakata.dnd.settings.threshold))return;i.helper&&(i.helper.appendTo("body"),i.helper_w=i.helper.outerWidth()),i.is_drag=!0,e.vakata.dnd._trigger("start",r)}var n=!1,s=!1,a=!1,d=!1,o=!1,l=!1,c=!1,h=!1,_=!1,u=!1;i.scroll_t=0,i.scroll_l=0,i.scroll_e=!1,e(e(r.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var n=e(this),s=n.offset();return this.scrollHeight>this.offsetHeight&&(s.top+n.height()-r.pageY<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),r.pageY-s.top<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(s.left+n.width()-r.pageX<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),r.pageX-s.left<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1)),i.scroll_t||i.scroll_l?(i.scroll_e=e(this),!1):t}),i.scroll_e||(n=e(document),s=e(window),a=n.height(),d=s.height(),o=n.width(),l=s.width(),c=n.scrollTop(),h=n.scrollLeft(),a>d&&r.pageY-c<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1),a>d&&d-(r.pageY-c)<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),o>l&&r.pageX-h<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1),o>l&&l-(r.pageX-h)<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),(i.scroll_t||i.scroll_l)&&(i.scroll_e=n)),i.scroll_e&&e.vakata.dnd._scroll(!0),i.helper&&(_=parseInt(r.pageY+e.vakata.dnd.settings.helper_top,10),u=parseInt(r.pageX+e.vakata.dnd.settings.helper_left,10),a&&_+25>a&&(_=a-50),o&&u+i.helper_w>o&&(u=o-(i.helper_w+2)),i.helper.css({left:u+"px",top:_+"px"})),e.vakata.dnd._trigger("move",r)}},stop:function(t){"touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=document.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag&&e.vakata.dnd._trigger("stop",t),e.vakata.dnd._clean()}}}(jQuery),e.jstree.defaults.search={ajax:!1,fuzzy:!0,case_sensitive:!1,show_only_matches:!1,close_opened_onclear:!0,search_leaves_only:!1},e.jstree.plugins.search=function(i,r){this.bind=function(){r.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this.element.on("before_open.jstree",e.proxy(function(t,i){var r,n,s,a=this._data.search.res,d=[],o=e();if(a&&a.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(a,function(t){return-1!=="0123456789".indexOf(t[0])?"\\\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\\\$&"):t.replace(e.jstree.idregex,"\\\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search"),this.settings.search.show_only_matches&&this._data.search.res.length)){for(r=0,n=a.length;n>r;r++)d=d.concat(this.get_node(a[r]).parents);d=e.vakata.array_remove_item(e.vakata.array_unique(d),"#"),o=d.length?e(this.element[0].querySelectorAll("#"+e.map(d,function(t){return-1!=="0123456789".indexOf(t[0])?"\\\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\\\$&"):t.replace(e.jstree.idregex,"\\\\$&")}).join(", #"))):e(),this.element.find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last"),o=o.add(this._data.search.dom),o.parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){e(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")})}},this)),this.settings.search.show_only_matches&&this.element.on("search.jstree",function(t,i){i.nodes.length&&(e(this).find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last"),i.nodes.parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){e(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")}))}).on("clear_search.jstree",function(t,i){i.nodes.length&&e(this).find(".jstree-node").css("display","").filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last")})},this.search=function(i,r){if(i===!1||""===e.trim(i))return this.clear_search();var n=this.settings.search,s=n.ajax?n.ajax:!1,a=null,d=[],o=[],l,c;return this._data.search.res.length&&this.clear_search(),r||s===!1?(this._data.search.str=i,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],a=new e.vakata.search(i,!0,{caseSensitive:n.case_sensitive,fuzzy:n.fuzzy}),e.each(this._model.data,function(e,t){t.text&&a.search(t.text).isMatch&&(!n.search_leaves_only||t.state.loaded&&0===t.children.length)&&(d.push(e),o=o.concat(t.parents))}),d.length&&(o=e.vakata.array_unique(o),this._search_open(o),this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(d,function(t){return-1!=="0123456789".indexOf(t[0])?"\\\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\\\$&"):t.replace(e.jstree.idregex,"\\\\$&")}).join(", #"))),this._data.search.res=d,this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")),this.trigger("search",{nodes:this._data.search.dom,str:i,res:this._data.search.res}),t):e.isFunction(s)?s.call(this,i,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?t:[],function(){this.search(i,!0)})},this)):(s=e.extend({},s),s.data||(s.data={}),s.data.str=i,e.ajax(s).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(s)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?t:[],function(){this.search(i,!0)},!0)},this)))},this.clear_search=function(){this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search"),this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this._search_open=function(t){var i=this;e.each(t.concat([]),function(r,n){if("#"===n)return!0;try{n=e("#"+n.replace(e.jstree.idregex,"\\\\$&"),i.element)}catch(s){}n&&n.length&&i.is_closed(n)&&(i._data.search.opn.push(n[0].id),i.open_node(n,function(){i._search_open(t)},0))})}},function(e){e.vakata.search=function(e,t,i){i=i||{},i.fuzzy!==!1&&(i.fuzzy=!0),e=i.caseSensitive?e:e.toLowerCase();var r=i.location||0,n=i.distance||100,s=i.threshold||.6,a=e.length,d,o,l,c;return a>32&&(i.fuzzy=!1),i.fuzzy&&(d=1<<a-1,o=function(){var t={},i=0;for(i=0;a>i;i++)t[e.charAt(i)]=0;for(i=0;a>i;i++)t[e.charAt(i)]|=1<<a-i-1;return t}(),l=function(e,t){var i=e/a,s=Math.abs(r-t);return n?i+s/n:s?1:i}),c=function(t){if(t=i.caseSensitive?t:t.toLowerCase(),e===t||-1!==t.indexOf(e))return{isMatch:!0,score:0};if(!i.fuzzy)return{isMatch:!1,score:1};var n,c,h=t.length,_=s,u=t.indexOf(e,r),g,f,p=a+h,m,v,j,y,x,k=1,b=[];for(-1!==u&&(_=Math.min(l(0,u),_),u=t.lastIndexOf(e,r+a),-1!==u&&(_=Math.min(l(0,u),_))),u=-1,n=0;a>n;n++){g=0,f=p;while(f>g)_>=l(n,r+f)?g=f:p=f,f=Math.floor((p-g)/2+g);for(p=f,v=Math.max(1,r-f+1),j=Math.min(r+f,h)+a,y=Array(j+2),y[j+1]=(1<<n)-1,c=j;c>=v;c--)if(x=o[t.charAt(c-1)],y[c]=0===n?(1|y[c+1]<<1)&x:(1|y[c+1]<<1)&x|(1|(m[c+1]|m[c])<<1)|m[c+1],y[c]&d&&(k=l(n,c-1),_>=k)){if(_=k,u=c-1,b.push(u),!(u>r))break;v=Math.max(1,2*r-u)}if(l(n+1,r)>_)break;m=y}return{isMatch:u>=0,score:k}},t===!0?{search:c}:c(t)}}(jQuery),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,i){var r,n;if(t=this.get_node(t),t&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),i))for(r=0,n=t.children_d.length;n>r;r++)this.sort(t.children_d[r],!1)}};var u=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree",ttl:!1,filter:!1},e.jstree.plugins.state=function(t,i){this.bind=function(){i.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){u&&clearTimeout(u),u=setTimeout(e.proxy(function(){this.save_state()},this),100)},this))},this);this.element.on("ready.jstree",e.proxy(function(e,i){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(t))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(i){return!1}return t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl?!1:(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),t?(this.element.one("set_state.jstree",function(i,r){r.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0):!1)},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(jQuery),e.jstree.defaults.types={"#":{},"default":{}},e.jstree.plugins.types=function(i,r){this.init=function(e,i){var n,s;if(i&&i.types&&i.types["default"])for(n in i.types)if("default"!==n&&"#"!==n&&i.types.hasOwnProperty(n))for(s in i.types["default"])i.types["default"].hasOwnProperty(s)&&i.types[n][s]===t&&(i.types[n][s]=i.types["default"][s]);r.init.call(this,e,i),this._model.data["#"].type="#"},this.refresh=function(e){r.refresh.call(this,e),this._model.data["#"].type="#"},this.bind=function(){this.element.on("model.jstree",e.proxy(function(e,i){var r=this._model.data,n=i.nodes,s=this.settings.types,a,d,o="default";for(a=0,d=n.length;d>a;a++)o="default",r[n[a]].original&&r[n[a]].original.type&&s[r[n[a]].original.type]&&(o=r[n[a]].original.type),r[n[a]].data&&r[n[a]].data.jstree&&r[n[a]].data.jstree.type&&s[r[n[a]].data.jstree.type]&&(o=r[n[a]].data.jstree.type),r[n[a]].type=o,r[n[a]].icon===!0&&s[o].icon!==t&&(r[n[a]].icon=s[o].icon)},this)),r.bind.call(this)},this.get_json=function(t,i,n){var s,a,d=this._model.data,o=i?e.extend(!0,{},i,{no_id:!1}):{},l=r.get_json.call(this,t,o,n);if(l===!1)return!1;if(e.isArray(l))for(s=0,a=l.length;a>s;s++)l[s].type=l[s].id&&d[l[s].id]&&d[l[s].id].type?d[l[s].id].type:"default",i&&i.no_id&&(delete l[s].id,l[s].li_attr&&l[s].li_attr.id&&delete l[s].li_attr.id);else l.type=l.id&&d[l.id]&&d[l.id].type?d[l.id].type:"default",i&&i.no_id&&(l=this._delete_ids(l));return l},this._delete_ids=function(t){if(e.isArray(t)){for(var i=0,r=t.length;r>i;i++)t[i]=this._delete_ids(t[i]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(i,n,s,a,d){if(r.check.call(this,i,n,s,a,d)===!1)return!1;n=n&&n.id?n:this.get_node(n),s=s&&s.id?s:this.get_node(s);var o=n&&n.id?e.jstree.reference(n.id):null,l,c,h,_;switch(o=o&&o._model&&o._model.data?o._model.data:null,i){case"create_node":case"move_node":case"copy_node":if("move_node"!==i||-1===e.inArray(n.id,s.children)){if(l=this.get_rules(s),l.max_children!==t&&-1!==l.max_children&&l.max_children===s.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+i,data:JSON.stringify({chk:i,pos:a,obj:n&&n.id?n.id:!1,par:s&&s.id?s.id:!1})},!1;if(l.valid_children!==t&&-1!==l.valid_children&&-1===e.inArray(n.type,l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+i,data:JSON.stringify({chk:i,pos:a,obj:n&&n.id?n.id:!1,par:s&&s.id?s.id:!1})},!1;if(o&&n.children_d&&n.parents){for(c=0,h=0,_=n.children_d.length;_>h;h++)c=Math.max(c,o[n.children_d[h]].parents.length);c=c-n.parents.length+1}(0>=c||c===t)&&(c=1);do{if(l.max_depth!==t&&-1!==l.max_depth&&c>l.max_depth)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+i,data:JSON.stringify({chk:i,pos:a,obj:n&&n.id?n.id:!1,par:s&&s.id?s.id:!1})},!1;s=this.get_node(s.parent),l=this.get_rules(s),c++}while(s)}}return!0},this.get_rules=function(e){if(e=this.get_node(e),!e)return!1;var i=this.get_type(e,!0);return i.max_depth===t&&(i.max_depth=-1),i.max_children===t&&(i.max_children=-1),i.valid_children===t&&(i.valid_children=-1),i},this.get_type=function(t,i){return t=this.get_node(t),t?i?e.extend({type:t.type},this.settings.types[t.type]):t.type:!1},this.set_type=function(i,r){var n,s,a,d,o;if(e.isArray(i)){for(i=i.slice(),s=0,a=i.length;a>s;s++)this.set_type(i[s],r);return!0}return n=this.settings.types,i=this.get_node(i),n[r]&&i?(d=i.type,o=this.get_icon(i),i.type=r,(o===!0||n[d]&&n[d].icon&&o===n[d].icon)&&this.set_icon(i,n[r].icon!==t?n[r].icon:!0),!0):!1}},e.jstree.plugins.unique=function(i,r){this.check=function(t,i,n,s,a){if(r.check.call(this,t,i,n,s,a)===!1)return!1;if(i=i&&i.id?i:this.get_node(i),n=n&&n.id?n:this.get_node(n),!n||!n.children)return!0;var d="rename_node"===t?s:i.text,o=[],l=this._model.data,c,h;for(c=0,h=n.children.length;h>c;c++)o.push(l[n.children[c]].text);switch(t){case"delete_node":return!0;case"rename_node":return c=-1===e.inArray(d,o)||i.text&&i.text===d,c||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:i&&i.id?i.id:!1,par:n&&n.id?n.id:!1})}),c;case"create_node":return c=-1===e.inArray(d,o),c||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:i&&i.id?i.id:!1,par:n&&n.id?n.id:!1})}),c;\ncase"copy_node":return c=-1===e.inArray(d,o),c||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:i&&i.id?i.id:!1,par:n&&n.id?n.id:!1})}),c;case"move_node":return c=i.parent===n.id||-1===e.inArray(d,o),c||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:i&&i.id?i.id:!1,par:n&&n.id?n.id:!1})}),c}return!0},this.create_node=function(i,n,s,a,d){if(!n||n.text===t){if(null===i&&(i="#"),i=this.get_node(i),!i)return r.create_node.call(this,i,n,s,a,d);if(s=s===t?"last":s,!(""+s).match(/^(before|after)$/)&&!d&&!this.is_loaded(i))return r.create_node.call(this,i,n,s,a,d);n||(n={});var o,l,c,h,_,u=this._model.data;for(l=o=this.get_string("New node"),c=[],h=0,_=i.children.length;_>h;h++)c.push(u[i.children[h]].text);h=1;while(-1!==e.inArray(l,c))l=o+" ("+ ++h+")";n.text=l}return r.create_node.call(this,i,n,s,a,d)}};var g=document.createElement("DIV");g.setAttribute("unselectable","on"),g.className="jstree-wholerow",g.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){g.style.height=this._data.core.li_height+"px",this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var i=!1,r,n;for(r=0,n=t.selected.length;n>r;r++)i=this.get_node(t.selected[r],!0),i&&i.length&&i.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){t.preventDefault();var i=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor:eq(0)").trigger(i)},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor:eq(0)").trigger(i).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor:eq(0)").trigger(i).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),i.teardown.call(this)},this.redraw_node=function(t,r,n){if(t=i.redraw_node.call(this,t,r,n)){var s=g.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(s.className+=" jstree-wholerow-clicked"),t.insertBefore(s,t.childNodes[0])}return t}}}});';
},function(e,t){e.exports='/*\n * jQuery Simple Slider: Unobtrusive Numerical Slider\n * Version 1.0.0\n *\n * Copyright (c) 2013 James Smith (http://loopj.com)\n *\n * Licensed under the MIT license (http://mit-license.org/)\n *\n */\n\nvar __slice=[].slice,__indexOf=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};(function(e,t){var n;return n=function(){function t(t,n){var r,i=this;this.input=t,this.defaultOptions={animate:!0,snapMid:!1,classPrefix:null,classSuffix:null,theme:null,highlight:!1},this.settings=e.extend({},this.defaultOptions,n),this.settings.theme&&(this.settings.classSuffix="-"+this.settings.theme),this.input.hide(),this.slider=e("<div>").addClass("slider"+(this.settings.classSuffix||"")).css({position:"relative",userSelect:"none",boxSizing:"border-box"}).insertBefore(this.input),this.input.attr("id")&&this.slider.attr("id",this.input.attr("id")+"-slider"),this.track=this.createDivElement("track").css({width:"100%"}),this.settings.highlight&&(this.highlightTrack=this.createDivElement("highlight-track").css({width:"0"})),this.dragger=this.createDivElement("dragger"),this.slider.css({minHeight:this.dragger.outerHeight(),marginLeft:this.dragger.outerWidth()/2,marginRight:this.dragger.outerWidth()/2}),this.track.css({marginTop:this.track.outerHeight()/-2}),this.settings.highlight&&this.highlightTrack.css({marginTop:this.track.outerHeight()/-2}),this.dragger.css({marginTop:this.dragger.outerWidth()/-2,marginLeft:this.dragger.outerWidth()/-2}),this.track.mousedown(function(e){return i.trackEvent(e)}),this.settings.highlight&&this.highlightTrack.mousedown(function(e){return i.trackEvent(e)}),this.dragger.mousedown(function(e){if(e.which!==1)return;return i.dragging=!0,i.dragger.addClass("dragging"),i.domDrag(e.pageX,e.pageY),!1}),e("body").mousemove(function(t){if(i.dragging)return i.domDrag(t.pageX,t.pageY),e("body").css({cursor:"pointer"})}).mouseup(function(t){if(i.dragging)return i.dragging=!1,i.dragger.removeClass("dragging"),e("body").css({cursor:"auto"})}),this.pagePos=0,this.input.val()===""?(this.value=this.getRange().min,this.input.val(this.value)):this.value=this.nearestValidValue(this.input.val()),this.setSliderPositionFromValue(this.value),r=this.valueToRatio(this.value),this.input.trigger("slider:ready",{value:this.value,ratio:r,position:r*this.slider.outerWidth(),el:this.slider})}return t.prototype.createDivElement=function(t){var n;return n=e("<div>").addClass(t).css({position:"absolute",top:"50%",userSelect:"none",cursor:"pointer"}).appendTo(this.slider),n},t.prototype.setRatio=function(e){var t;return e=Math.min(1,e),e=Math.max(0,e),t=this.ratioToValue(e),this.setSliderPositionFromValue(t),this.valueChanged(t,e,"setRatio")},t.prototype.setValue=function(e){var t;return e=this.nearestValidValue(e),t=this.valueToRatio(e),this.setSliderPositionFromValue(e),this.valueChanged(e,t,"setValue")},t.prototype.trackEvent=function(e){if(e.which!==1)return;return this.domDrag(e.pageX,e.pageY,!0),this.dragging=!0,!1},t.prototype.domDrag=function(e,t,n){var r,i,s;n==null&&(n=!1),r=e-this.slider.offset().left,r=Math.min(this.slider.outerWidth(),r),r=Math.max(0,r);if(this.pagePos!==r)return this.pagePos=r,i=r/this.slider.outerWidth(),s=this.ratioToValue(i),this.valueChanged(s,i,"domDrag"),this.settings.snap?this.setSliderPositionFromValue(s,n):this.setSliderPosition(r,n)},t.prototype.setSliderPosition=function(e,t){t==null&&(t=!1);if(t&&this.settings.animate){this.dragger.animate({left:e},200);if(this.settings.highlight)return this.highlightTrack.animate({width:e},200)}else{this.dragger.css({left:e});if(this.settings.highlight)return this.highlightTrack.css({width:e})}},t.prototype.setSliderPositionFromValue=function(e,t){var n;return t==null&&(t=!1),n=this.valueToRatio(e),this.setSliderPosition(n*this.slider.outerWidth(),t)},t.prototype.getRange=function(){return this.settings.allowedValues?{min:Math.min.apply(Math,this.settings.allowedValues),max:Math.max.apply(Math,this.settings.allowedValues)}:this.settings.range?{min:parseFloat(this.settings.range[0]),max:parseFloat(this.settings.range[1])}:{min:0,max:1}},t.prototype.nearestValidValue=function(t){var n,r,i,s;return i=this.getRange(),t=Math.min(i.max,t),t=Math.max(i.min,t),this.settings.allowedValues?(n=null,e.each(this.settings.allowedValues,function(){if(n===null||Math.abs(this-t)<Math.abs(n-t))return n=this}),n):this.settings.step?(r=(i.max-i.min)/this.settings.step,s=Math.floor((t-i.min)/this.settings.step),(t-i.min)%this.settings.step>this.settings.step/2&&s<r&&(s+=1),s*this.settings.step+i.min):t},t.prototype.valueToRatio=function(e){var t,n,r,i,s,o,u,a;if(this.settings.equalSteps){a=this.settings.allowedValues;for(i=o=0,u=a.length;o<u;i=++o){t=a[i];if(typeof n=="undefined"||n===null||Math.abs(t-e)<Math.abs(n-e))n=t,r=i}return this.settings.snapMid?(r+.5)/this.settings.allowedValues.length:r/(this.settings.allowedValues.length-1)}return s=this.getRange(),(e-s.min)/(s.max-s.min)},t.prototype.ratioToValue=function(e){var t,n,r,i,s;return this.settings.equalSteps?(s=this.settings.allowedValues.length,i=Math.round(e*s-.5),t=Math.min(i,this.settings.allowedValues.length-1),this.settings.allowedValues[t]):(n=this.getRange(),r=e*(n.max-n.min)+n.min,this.nearestValidValue(r))},t.prototype.valueChanged=function(t,n,r){var i;if(t.toString()===this.value.toString())return;return this.value=t,i={value:t,ratio:n,position:n*this.slider.outerWidth(),trigger:r,el:this.slider},this.input.val(t).trigger(e.Event("change",i)).trigger("slider:changed",i)},t}(),e.extend(e.fn,{simpleSlider:function(){var t,r,i;return i=arguments[0],t=2<=arguments.length?__slice.call(arguments,1):[],r=["setRatio","setValue"],e(this).each(function(){var s,o;return i&&__indexOf.call(r,i)>=0?(s=e(this).data("slider-object"),s[i].apply(s,t)):(o=i,e(this).data("slider-object",new n(e(this),o)))})}}),e(function(){return e("[data-slider]").each(function(){var t,n,r,i;return t=e(this),r={},n=t.data("slider-values"),n&&(r.allowedValues=function(){var e,t,r,s;r=n.split(","),s=[];for(e=0,t=r.length;e<t;e++)i=r[e],s.push(parseFloat(i));return s}()),t.data("slider-range")&&(r.range=t.data("slider-range").split(",")),t.data("slider-step")&&(r.step=t.data("slider-step")),r.snap=t.data("slider-snap"),r.equalSteps=t.data("slider-equal-steps"),t.data("slider-theme")&&(r.theme=t.data("slider-theme")),t.attr("data-slider-highlight")&&(r.highlight=t.data("slider-highlight")),t.data("slider-animate")!=null&&(r.animate=t.data("slider-animate")),t.simpleSlider(r)})})})(this.jQuery||this.Zepto,this);'},function(e,t){e.exports='(function(){var h=this;\nfunction aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==\nb&&"undefined"==typeof a.call)return"object";return b}function k(a){return"string"==typeof a}function ba(a,b,c){return a.call.apply(a.bind,arguments)}function ca(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}\nfunction da(a,b,c){da=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ba:ca;return da.apply(null,arguments)}function ea(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function l(a){var b=m;function c(){}c.prototype=b.prototype;a.v=b.prototype;a.prototype=new c};var q,fa,ga,ha;function ia(){return h.navigator?h.navigator.userAgent:null}ha=ga=fa=q=!1;var r;if(r=ia()){var ja=h.navigator;q=0==r.lastIndexOf("Opera",0);fa=!q&&(-1!=r.indexOf("MSIE")||-1!=r.indexOf("Trident"));ga=!q&&-1!=r.indexOf("WebKit");ha=!q&&!ga&&!fa&&"Gecko"==ja.product}var s=fa,ka=ha,la=ga;function ma(){var a=h.document;return a?a.documentMode:void 0}var na;\na:{var oa="",u;if(q&&h.opera)var pa=h.opera.version,oa="function"==typeof pa?pa():pa;else if(ka?u=/rv\\:([^\\);]+)(\\)|;)/:s?u=/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/:la&&(u=/WebKit\\/(\\S+)/),u)var qa=u.exec(ia()),oa=qa?qa[1]:"";if(s){var ra=ma();if(ra>parseFloat(oa)){na=String(ra);break a}}na=oa}var sa={};\nfunction ta(a){if(!sa[a]){for(var b=0,c=String(na).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,"").split("."),d=String(a).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",n=d[f]||"",p=RegExp("(\\\\d*)(\\\\D*)","g"),v=RegExp("(\\\\d*)(\\\\D*)","g");do{var t=p.exec(g)||["","",""],H=v.exec(n)||["","",""];if(0==t[0].length&&0==H[0].length)break;b=((0==t[1].length?0:parseInt(t[1],10))<(0==H[1].length?0:parseInt(H[1],10))?-1:(0==t[1].length?0:parseInt(t[1],10))>\n(0==H[1].length?0:parseInt(H[1],10))?1:0)||((0==t[2].length)<(0==H[2].length)?-1:(0==t[2].length)>(0==H[2].length)?1:0)||(t[2]<H[2]?-1:t[2]>H[2]?1:0)}while(0==b)}sa[a]=0<=b}}var ua=h.document,va=ua&&s?ma()||("CSS1Compat"==ua.compatMode?parseInt(na,10):5):void 0;/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nvar w=s&&!(s&&9<=va),wa=s&&!(s&&8<=va);/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction x(a,b,c,d){this.a=a;this.nodeName=c;this.nodeValue=d;this.nodeType=2;this.parentNode=this.ownerElement=b}function xa(a,b){var c=wa&&"href"==b.nodeName?a.getAttribute(b.nodeName,2):b.nodeValue;return new x(b,a,b.nodeName,c)}x.prototype.f=function(){return this.a};var y=Array.prototype,ya=y.indexOf?function(a,b,c){return y.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(k(a))return k(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},z=y.forEach?function(a,b,c){y.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=k(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},za=y.filter?function(a,b,c){return y.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=k(a)?\na.split(""):a,n=0;n<d;n++)if(n in g){var p=g[n];b.call(c,p,n,a)&&(e[f++]=p)}return e},A=y.reduce?function(a,b,c,d){d&&(b=da(b,d));return y.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;z(a,function(c,g){e=b.call(d,e,c,g,a)});return e},Aa=y.some?function(a,b,c){return y.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=k(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};\nfunction Ba(a,b){var c;a:{c=a.length;for(var d=k(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:k(a)?a.charAt(c):a[c]}function Ca(a){return y.concat.apply(y,arguments)}function Da(a,b,c){return 2>=arguments.length?y.slice.call(a,b):y.slice.call(a,b,c)};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction B(a){var b=null,c=a.nodeType;1==c&&(b=a.textContent,b=void 0==b||null==b?a.innerText:b,b=void 0==b||null==b?"":b);if("string"!=typeof b)if(w&&"title"==a.nodeName.toLowerCase()&&1==c)b=a.text;else if(9==c||1==c){a=9==c?a.documentElement:a.firstChild;for(var c=0,d=[],b="";a;){do 1!=a.nodeType&&(b+=a.nodeValue),w&&"title"==a.nodeName.toLowerCase()&&(b+=a.text),d[c++]=a;while(a=a.firstChild);for(;c&&!(a=d[--c].nextSibling););}}else b=a.nodeValue;return""+b}\nfunction C(a,b,c){if(null===b)return!0;try{if(!a.getAttribute)return!1}catch(d){return!1}wa&&"class"==b&&(b="className");return null==c?!!a.getAttribute(b):a.getAttribute(b,2)==c}function D(a,b,c,d,e){return(w?Ea:Fa).call(null,a,b,k(c)?c:null,k(d)?d:null,e||new E)}\nfunction Ea(a,b,c,d,e){if(a instanceof F||8==a.b||c&&null===a.b){var f=b.all;if(!f)return e;a=Ga(a);if("*"!=a&&(f=b.getElementsByTagName(a),!f))return e;if(c){for(var g=[],n=0;b=f[n++];)C(b,c,d)&&g.push(b);f=g}for(n=0;b=f[n++];)"*"==a&&"!"==b.tagName||G(e,b);return e}Ha(a,b,c,d,e);return e}\nfunction Fa(a,b,c,d,e){b.getElementsByName&&d&&"name"==c&&!s?(b=b.getElementsByName(d),z(b,function(b){a.a(b)&&G(e,b)})):b.getElementsByClassName&&d&&"class"==c?(b=b.getElementsByClassName(d),z(b,function(b){b.className==d&&a.a(b)&&G(e,b)})):a instanceof I?Ha(a,b,c,d,e):b.getElementsByTagName&&(b=b.getElementsByTagName(a.c()),z(b,function(a){C(a,c,d)&&G(e,a)}));return e}\nfunction Ia(a,b,c,d,e){var f;if((a instanceof F||8==a.b||c&&null===a.b)&&(f=b.childNodes)){var g=Ga(a);if("*"!=g&&(f=za(f,function(a){return a.tagName&&a.tagName.toLowerCase()==g}),!f))return e;c&&(f=za(f,function(a){return C(a,c,d)}));z(f,function(a){"*"==g&&("!"==a.tagName||"*"==g&&1!=a.nodeType)||G(e,a)});return e}return Ja(a,b,c,d,e)}function Ja(a,b,c,d,e){for(b=b.firstChild;b;b=b.nextSibling)C(b,c,d)&&a.a(b)&&G(e,b);return e}\nfunction Ha(a,b,c,d,e){for(b=b.firstChild;b;b=b.nextSibling)C(b,c,d)&&a.a(b)&&G(e,b),Ha(a,b,c,d,e)}function Ga(a){if(a instanceof I){if(8==a.b)return"!";if(null===a.b)return"*"}return a.c()};!ka&&!s||s&&s&&9<=va||ka&&ta("1.9.1");s&&ta("9");function Ka(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}\nfunction La(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(s&&!(s&&9<=va)){if(9==a.nodeType)return-1;if(9==b.nodeType)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=1==a.nodeType,d=1==b.nodeType;if(c&&d)return a.sourceIndex-b.sourceIndex;var e=a.parentNode,f=b.parentNode;return e==f?Ma(a,b):!c&&Ka(e,b)?-1*Na(a,b):!d&&Ka(f,a)?Na(b,a):(c?a.sourceIndex:e.sourceIndex)-(d?b.sourceIndex:f.sourceIndex)}d=9==a.nodeType?a:\na.ownerDocument||a.document;c=d.createRange();c.selectNode(a);c.collapse(!0);d=d.createRange();d.selectNode(b);d.collapse(!0);return c.compareBoundaryPoints(h.Range.START_TO_END,d)}function Na(a,b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return Ma(d,a)}function Ma(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction E(){this.b=this.a=null;this.c=0}function Oa(a){this.a=a;this.next=this.b=null}function Pa(a,b){if(!a.a)return b;if(!b.a)return a;for(var c=a.a,d=b.a,e=null,f=null,g=0;c&&d;)c.a==d.a||c.a instanceof x&&d.a instanceof x&&c.a.f()==d.a.f()?(f=c,c=c.next,d=d.next):0<La(c.a,d.a)?(f=d,d=d.next):(f=c,c=c.next),(f.b=e)?e.next=f:a.a=f,e=f,g++;for(f=c||d;f;)f.b=e,e=e.next=f,g++,f=f.next;a.b=e;a.c=g;return a}function Qa(a,b){var c=new Oa(b);c.next=a.a;a.b?a.a.b=c:a.a=a.b=c;a.a=c;a.c++}\nfunction G(a,b){var c=new Oa(b);c.b=a.b;a.a?a.b.next=c:a.a=a.b=c;a.b=c;a.c++}function Ra(a){return(a=a.a)?a.a:null}E.prototype.i=function(){return this.c};function Sa(a){return(a=Ra(a))?B(a):""}function J(a,b){return new Ta(a,!!b)}function Ta(a,b){this.c=a;this.b=(this.d=b)?a.b:a.a;this.a=null}Ta.prototype.next=function(){var a=this.b;if(null==a)return null;var b=this.a=a;this.b=this.d?a.b:a.next;return b.a};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction Ua(a){switch(a.nodeType){case 1:return ea(Va,a);case 9:return Ua(a.documentElement);case 11:case 10:case 6:case 12:return Wa;default:return a.parentNode?Ua(a.parentNode):Wa}}function Wa(){return null}function Va(a,b){if(a.prefix==b)return a.namespaceURI||"http://www.w3.org/1999/xhtml";var c=a.getAttributeNode("xmlns:"+b);return c&&c.specified?c.value||null:a.parentNode&&9!=a.parentNode.nodeType?Va(a.parentNode,b):null};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction K(a,b,c){this.a=a;this.t=b||1;this.u=c||1}K.prototype.f=function(){return this.a};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\n/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction m(a){this.g=a;this.a=this.e=!1;this.b=null}function L(a){return"\\n  "+a.toString().split("\\n").join("\\n  ")}function Xa(a,b){a.e=b}function Ya(a,b){a.a=b}function M(a,b){var c=a.evaluate(b);return c instanceof E?+Sa(c):+c}function N(a,b){var c=a.evaluate(b);return c instanceof E?Sa(c):""+c}function O(a,b){var c=a.evaluate(b);return c instanceof E?!!c.i():!!c};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction Za(a){m.call(this,4);this.c=a;Xa(this,Aa(this.c,function(a){return a.e}));Ya(this,Aa(this.c,function(a){return a.a}))}l(Za);Za.prototype.evaluate=function(a){var b=new E;z(this.c,function(c){c=c.evaluate(a);if(!(c instanceof E))throw Error("Path expression must evaluate to NodeSet.");b=Pa(b,c)});return b};Za.prototype.toString=function(){return A(this.c,function(a,b){return a+L(b)},"Union Expression:")};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction $a(a,b){m.call(this,a.g);this.d=a;this.c=b;this.e=a.e;this.a=a.a;if(1==this.c.length){var c=this.c[0];c.m||c.c!=ab||(c=c.j,"*"!=c.c()&&(this.b={name:c.c(),l:null}))}}l($a);function P(){m.call(this,4)}l(P);P.prototype.evaluate=function(a){var b=new E;a=a.f();9==a.nodeType?G(b,a):G(b,a.ownerDocument);return b};P.prototype.toString=function(){return"Root Helper Expression"};function bb(){m.call(this,4)}l(bb);bb.prototype.evaluate=function(a){var b=new E;G(b,a.f());return b};\nbb.prototype.toString=function(){return"Context Helper Expression"};\n$a.prototype.evaluate=function(a){var b=this.d.evaluate(a);if(!(b instanceof E))throw Error("Filter expression must evaluate to nodeset.");a=this.c;for(var c=0,d=a.length;c<d&&b.i();c++){var e=a[c],f=J(b,e.c.a),g;if(e.e||e.c!=cb)if(e.e||e.c!=db)for(g=f.next(),b=e.evaluate(new K(g));null!=(g=f.next());)g=e.evaluate(new K(g)),b=Pa(b,g);else g=f.next(),b=e.evaluate(new K(g));else{for(g=f.next();(b=f.next())&&(!g.contains||g.contains(b))&&b.compareDocumentPosition(g)&8;g=b);b=e.evaluate(new K(g))}}return b};\n$a.prototype.toString=function(){var a;a="Path Expression:"+L(this.d);if(this.c.length){var b=A(this.c,function(a,b){return a+L(b)},"Steps:");a+=L(b)}return a};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\n/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction I(a,b){this.j=a;this.d=void 0!==b?b:null;this.b=null;switch(a){case "comment":this.b=8;break;case "text":this.b=3;break;case "processing-instruction":this.b=7;break;case "node":break;default:throw Error("Unexpected argument");}}function eb(a){return"comment"==a||"text"==a||"processing-instruction"==a||"node"==a}I.prototype.a=function(a){return null===this.b||this.b==a.nodeType};I.prototype.c=function(){return this.j};\nI.prototype.toString=function(){var a="Kind Test: "+this.j;null===this.d||(a+=L(this.d));return a};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction Q(a,b){this.a=a;this.b=!!b}\nfunction fb(a,b,c){for(c=c||0;c<a.a.length;c++)for(var d=a.a[c],e=J(b),f=b.i(),g,n=0;g=e.next();n++){var p=a.b?f-n:n+1;g=d.evaluate(new K(g,p,f));if("number"==typeof g)p=p==g;else if("string"==typeof g||"boolean"==typeof g)p=!!g;else if(g instanceof E)p=0<g.i();else throw Error("Predicate.evaluate returned an unexpected type.");if(!p){p=e;g=p.c;var v=p.a;if(!v)throw Error("Next must be called at least once before remove.");var t=v.b,v=v.next;t?t.next=v:g.a=v;v?v.b=t:g.b=t;g.c--;p.a=null}}return b}\nQ.prototype.i=function(){return this.a.length};Q.prototype.toString=function(){return A(this.a,function(a,b){return a+L(b)},"Predicates:")};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction R(a,b,c,d){m.call(this,4);this.c=a;this.j=b;this.d=c||new Q([]);this.m=!!d;b=0<this.d.a.length?this.d.a[0].b:null;a.b&&b&&(a=b.name,a=w?a.toLowerCase():a,this.b={name:a,l:b.l});a:{a=this.d;for(b=0;b<a.a.length;b++)if(c=a.a[b],c.e||1==c.g||0==c.g){a=!0;break a}a=!1}this.e=a}l(R);\nR.prototype.evaluate=function(a){var b=a.f(),c=null,c=this.b,d=null,e=null,f=0;c&&(d=c.name,e=c.l?N(c.l,a):null,f=1);if(this.m)if(this.e||this.c!=gb)if(a=J((new R(hb,new I("node"))).evaluate(a)),b=a.next())for(c=this.k(b,d,e,f);null!=(b=a.next());)c=Pa(c,this.k(b,d,e,f));else c=new E;else c=D(this.j,b,d,e),c=fb(this.d,c,f);else c=this.k(a.f(),d,e,f);return c};R.prototype.k=function(a,b,c,d){a=this.c.c(this.j,a,b,c);return a=fb(this.d,a,d)};\nR.prototype.toString=function(){var a;a="Step:"+L("Operator: "+(this.m?"//":"/"));this.c.h&&(a+=L("Axis: "+this.c));a+=L(this.j);if(this.d.i()){var b=A(this.d.a,function(a,b){return a+L(b)},"Predicates:");a+=L(b)}return a};function ib(a,b,c,d){this.h=a;this.c=b;this.a=c;this.b=d}ib.prototype.toString=function(){return this.h};var jb={};function S(a,b,c,d){if(jb.hasOwnProperty(a))throw Error("Axis already created: "+a);b=new ib(a,b,c,!!d);return jb[a]=b}\nS("ancestor",function(a,b){for(var c=new E,d=b;d=d.parentNode;)a.a(d)&&Qa(c,d);return c},!0);S("ancestor-or-self",function(a,b){var c=new E,d=b;do a.a(d)&&Qa(c,d);while(d=d.parentNode);return c},!0);\nvar ab=S("attribute",function(a,b){var c=new E,d=a.c();if("style"==d&&b.style&&w)return G(c,new x(b.style,b,"style",b.style.cssText)),c;var e=b.attributes;if(e)if(a instanceof I&&null===a.b||"*"==d)for(var d=0,f;f=e[d];d++)w?f.nodeValue&&G(c,xa(b,f)):G(c,f);else(f=e.getNamedItem(d))&&(w?f.nodeValue&&G(c,xa(b,f)):G(c,f));return c},!1),gb=S("child",function(a,b,c,d,e){return(w?Ia:Ja).call(null,a,b,k(c)?c:null,k(d)?d:null,e||new E)},!1,!0);S("descendant",D,!1,!0);\nvar hb=S("descendant-or-self",function(a,b,c,d){var e=new E;C(b,c,d)&&a.a(b)&&G(e,b);return D(a,b,c,d,e)},!1,!0),cb=S("following",function(a,b,c,d){var e=new E;do for(var f=b;f=f.nextSibling;)C(f,c,d)&&a.a(f)&&G(e,f),e=D(a,f,c,d,e);while(b=b.parentNode);return e},!1,!0);S("following-sibling",function(a,b){for(var c=new E,d=b;d=d.nextSibling;)a.a(d)&&G(c,d);return c},!1);S("namespace",function(){return new E},!1);\nvar kb=S("parent",function(a,b){var c=new E;if(9==b.nodeType)return c;if(2==b.nodeType)return G(c,b.ownerElement),c;var d=b.parentNode;a.a(d)&&G(c,d);return c},!1),db=S("preceding",function(a,b,c,d){var e=new E,f=[];do f.unshift(b);while(b=b.parentNode);for(var g=1,n=f.length;g<n;g++){var p=[];for(b=f[g];b=b.previousSibling;)p.unshift(b);for(var v=0,t=p.length;v<t;v++)b=p[v],C(b,c,d)&&a.a(b)&&G(e,b),e=D(a,b,c,d,e)}return e},!0,!0);\nS("preceding-sibling",function(a,b){for(var c=new E,d=b;d=d.previousSibling;)a.a(d)&&Qa(c,d);return c},!0);var lb=S("self",function(a,b){var c=new E;a.a(b)&&G(c,b);return c},!1);/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction T(a,b,c){m.call(this,a.g);this.c=a;this.d=b;this.j=c;this.e=b.e||c.e;this.a=b.a||c.a;this.c==mb&&(c.a||c.e||4==c.g||0==c.g||!b.b?b.a||b.e||4==b.g||0==b.g||!c.b||(this.b={name:c.b.name,l:b}):this.b={name:b.b.name,l:c})}l(T);\nfunction U(a,b,c,d,e){b=b.evaluate(d);c=c.evaluate(d);var f;if(b instanceof E&&c instanceof E){e=J(b);for(d=e.next();d;d=e.next())for(b=J(c),f=b.next();f;f=b.next())if(a(B(d),B(f)))return!0;return!1}if(b instanceof E||c instanceof E){b instanceof E?e=b:(e=c,c=b);e=J(e);b=typeof c;for(d=e.next();d;d=e.next()){switch(b){case "number":d=+B(d);break;case "boolean":d=!!B(d);break;case "string":d=B(d);break;default:throw Error("Illegal primitive type for comparison.");}if(a(d,c))return!0}return!1}return e?\n"boolean"==typeof b||"boolean"==typeof c?a(!!b,!!c):"number"==typeof b||"number"==typeof c?a(+b,+c):a(b,c):a(+b,+c)}T.prototype.evaluate=function(a){return this.c.k(this.d,this.j,a)};T.prototype.toString=function(){var a="Binary Expression: "+this.c,a=a+L(this.d);return a+=L(this.j)};function nb(a,b,c,d){this.a=a;this.p=b;this.g=c;this.k=d}nb.prototype.toString=function(){return this.a};var ob={};\nfunction V(a,b,c,d){if(ob.hasOwnProperty(a))throw Error("Binary operator already created: "+a);a=new nb(a,b,c,d);return ob[a.toString()]=a}V("div",6,1,function(a,b,c){return M(a,c)/M(b,c)});V("mod",6,1,function(a,b,c){return M(a,c)%M(b,c)});V("*",6,1,function(a,b,c){return M(a,c)*M(b,c)});V("+",5,1,function(a,b,c){return M(a,c)+M(b,c)});V("-",5,1,function(a,b,c){return M(a,c)-M(b,c)});V("<",4,2,function(a,b,c){return U(function(a,b){return a<b},a,b,c)});\nV(">",4,2,function(a,b,c){return U(function(a,b){return a>b},a,b,c)});V("<=",4,2,function(a,b,c){return U(function(a,b){return a<=b},a,b,c)});V(">=",4,2,function(a,b,c){return U(function(a,b){return a>=b},a,b,c)});var mb=V("=",3,2,function(a,b,c){return U(function(a,b){return a==b},a,b,c,!0)});V("!=",3,2,function(a,b,c){return U(function(a,b){return a!=b},a,b,c,!0)});V("and",2,2,function(a,b,c){return O(a,c)&&O(b,c)});V("or",1,2,function(a,b,c){return O(a,c)||O(b,c)});/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction pb(a){m.call(this,1);this.c=a;this.e=a.e;this.a=a.a}l(pb);pb.prototype.evaluate=function(a){return-M(this.c,a)};pb.prototype.toString=function(){return"Unary Expression: -"+L(this.c)};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction qb(a){m.call(this,3);this.c=a.substring(1,a.length-1)}l(qb);qb.prototype.evaluate=function(){return this.c};qb.prototype.toString=function(){return"Literal: "+this.c};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction rb(a){m.call(this,1);this.c=a}l(rb);rb.prototype.evaluate=function(){return this.c};rb.prototype.toString=function(){return"Number: "+this.c};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction F(a,b){this.h=a.toLowerCase();this.d=b?b.toLowerCase():"http://www.w3.org/1999/xhtml"}F.prototype.a=function(a){var b=a.nodeType,c=a.nodeName;if(1!=b&&2!=b)return!1;if("*"==this.h)return!0;c=c.split(":").pop();return this.h!=c.toLowerCase()?!1:this.d==(a.namespaceURI?a.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")};F.prototype.c=function(){return this.h};F.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.d?"":this.d+":")+this.h};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction sb(a,b){if(b.length<a.o)throw Error("Function "+a.h+" expects at least"+a.o+" arguments, "+b.length+" given");if(null!==a.n&&b.length>a.n)throw Error("Function "+a.h+" expects at most "+a.n+" arguments, "+b.length+" given");a.s&&z(b,function(b,d){if(4!=b.g)throw Error("Argument "+d+" to function "+a.h+" is not of type Nodeset: "+b);});m.call(this,a.g);this.d=a;this.c=b;Xa(this,a.e||Aa(b,function(a){return a.e}));Ya(this,a.r&&!b.length||a.q&&!!b.length||Aa(b,function(a){return a.a}))}l(sb);\nsb.prototype.evaluate=function(a){return this.d.k.apply(null,Ca(a,this.c))};sb.prototype.toString=function(){var a="Function: "+this.d;if(this.c.length)var b=A(this.c,function(a,b){return a+L(b)},"Arguments:"),a=a+L(b);return a};function tb(a,b,c,d,e,f,g,n,p){this.h=a;this.g=b;this.e=c;this.r=d;this.q=e;this.k=f;this.o=g;this.n=void 0!==n?n:g;this.s=!!p}tb.prototype.toString=function(){return this.h};var ub={};\nfunction W(a,b,c,d,e,f,g,n){if(ub.hasOwnProperty(a))throw Error("Function already created: "+a+".");ub[a]=new tb(a,b,c,d,!1,e,f,g,n)}W("boolean",2,!1,!1,function(a,b){return O(b,a)},1);W("ceiling",1,!1,!1,function(a,b){return Math.ceil(M(b,a))},1);W("concat",3,!1,!1,function(a,b){var c=Da(arguments,1);return A(c,function(b,c){return b+N(c,a)},"")},2,null);W("contains",2,!1,!1,function(a,b,c){b=N(b,a);a=N(c,a);return-1!=b.indexOf(a)},2);\nW("count",1,!1,!1,function(a,b){return b.evaluate(a).i()},1,1,!0);W("false",2,!1,!1,function(){return!1},0);W("floor",1,!1,!1,function(a,b){return Math.floor(M(b,a))},1);\nW("id",4,!1,!1,function(a,b){function c(a){if(w){var b=e.all[a];if(b){if(b.nodeType&&a==b.id)return b;if(b.length)return Ba(b,function(b){return a==b.id})}return null}return e.getElementById(a)}var d=a.f(),e=9==d.nodeType?d:d.ownerDocument,d=N(b,a).split(/\\s+/),f=[];z(d,function(a){a=c(a);!a||0<=ya(f,a)||f.push(a)});f.sort(La);var g=new E;z(f,function(a){G(g,a)});return g},1);W("lang",2,!1,!1,function(){return!1},1);\nW("last",1,!0,!1,function(a){if(1!=arguments.length)throw Error("Function last expects ()");return a.u},0);W("local-name",3,!1,!0,function(a,b){var c=b?Ra(b.evaluate(a)):a.f();return c?c.localName||c.nodeName.toLowerCase():""},0,1,!0);W("name",3,!1,!0,function(a,b){var c=b?Ra(b.evaluate(a)):a.f();return c?c.nodeName.toLowerCase():""},0,1,!0);W("namespace-uri",3,!0,!1,function(){return""},0,1,!0);\nW("normalize-space",3,!1,!0,function(a,b){return(b?N(b,a):B(a.f())).replace(/[\\s\\xa0]+/g," ").replace(/^\\s+|\\s+$/g,"")},0,1);W("not",2,!1,!1,function(a,b){return!O(b,a)},1);W("number",1,!1,!0,function(a,b){return b?M(b,a):+B(a.f())},0,1);W("position",1,!0,!1,function(a){return a.t},0);W("round",1,!1,!1,function(a,b){return Math.round(M(b,a))},1);W("starts-with",2,!1,!1,function(a,b,c){b=N(b,a);a=N(c,a);return 0==b.lastIndexOf(a,0)},2);W("string",3,!1,!0,function(a,b){return b?N(b,a):B(a.f())},0,1);\nW("string-length",1,!1,!0,function(a,b){return(b?N(b,a):B(a.f())).length},0,1);W("substring",3,!1,!1,function(a,b,c,d){c=M(c,a);if(isNaN(c)||Infinity==c||-Infinity==c)return"";d=d?M(d,a):Infinity;if(isNaN(d)||-Infinity===d)return"";c=Math.round(c)-1;var e=Math.max(c,0);a=N(b,a);if(Infinity==d)return a.substring(e);b=Math.round(d);return a.substring(e,c+b)},2,3);W("substring-after",3,!1,!1,function(a,b,c){b=N(b,a);a=N(c,a);c=b.indexOf(a);return-1==c?"":b.substring(c+a.length)},2);\nW("substring-before",3,!1,!1,function(a,b,c){b=N(b,a);a=N(c,a);a=b.indexOf(a);return-1==a?"":b.substring(0,a)},2);W("sum",1,!1,!1,function(a,b){for(var c=J(b.evaluate(a)),d=0,e=c.next();e;e=c.next())d+=+B(e);return d},1,1,!0);W("translate",3,!1,!1,function(a,b,c,d){b=N(b,a);c=N(c,a);var e=N(d,a);a=[];for(d=0;d<c.length;d++){var f=c.charAt(d);f in a||(a[f]=e.charAt(d))}c="";for(d=0;d<b.length;d++)f=b.charAt(d),c+=f in a?a[f]:f;return c},3);W("true",2,!1,!1,function(){return!0},0);/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction vb(a,b){if(b.i()&&4!=a.g)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");m.call(this,a.g);this.c=a;this.d=b;this.e=a.e;this.a=a.a}l(vb);vb.prototype.evaluate=function(a){a=this.c.evaluate(a);return fb(this.d,a)};vb.prototype.toString=function(){var a;a="Filter:"+L(this.c);return a+=L(this.d)};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction wb(a,b){this.a=a;this.b=b}function xb(a){for(var b,c=[];;){X(a,"Missing right hand side of binary expression.");b=yb(a);var d=a.a.next();if(!d)break;var e=(d=ob[d]||null)&&d.p;if(!e){a.a.a--;break}for(;c.length&&e<=c[c.length-1].p;)b=new T(c.pop(),c.pop(),b);c.push(b,d)}for(;c.length;)b=new T(c.pop(),c.pop(),b);return b}function X(a,b){if(a.a.b.length<=a.a.a)throw Error(b);}function zb(a,b){var c=a.a.next();if(c!=b)throw Error("Bad token, expected: "+b+" got: "+c);}\nfunction Ab(a){a=a.a.next();if(")"!=a)throw Error("Bad token: "+a);}function Bb(a){a=a.a.next();if(2>a.length)throw Error("Unclosed literal string");return new qb(a)}function Cb(a){var b=a.a.next(),c=b.indexOf(":");if(-1==c)return new F(b);var d=b.substring(0,c);a=a.b(d);if(!a)throw Error("Namespace prefix not declared: "+d);b=b.substr(c+1);return new F(b,a)}\nfunction Db(a){var b,c=[],d;if("/"==Y(a.a)||"//"==Y(a.a)){b=a.a.next();d=Y(a.a);if("/"==b&&(a.a.b.length<=a.a.a||"."!=d&&".."!=d&&"@"!=d&&"*"!=d&&!/(?![0-9])[\\w]/.test(d)))return new P;d=new P;X(a,"Missing next location step.");b=Eb(a,b);c.push(b)}else{a:{b=Y(a.a);d=b.charAt(0);switch(d){case "$":throw Error("Variable reference not allowed in HTML XPath");case "(":a.a.next();b=xb(a);X(a,\'unclosed "("\');zb(a,")");break;case \'"\':case "\'":b=Bb(a);break;default:if(isNaN(+b))if(!eb(b)&&/(?![0-9])[\\w]/.test(d)&&\n"("==Y(a.a,1)){b=a.a.next();b=ub[b]||null;a.a.next();for(d=[];")"!=Y(a.a);){X(a,"Missing function argument list.");d.push(xb(a));if(","!=Y(a.a))break;a.a.next()}X(a,"Unclosed function argument list.");Ab(a);b=new sb(b,d)}else{b=null;break a}else b=new rb(+a.a.next())}"["==Y(a.a)&&(d=new Q(Fb(a)),b=new vb(b,d))}if(b)if("/"==Y(a.a)||"//"==Y(a.a))d=b;else return b;else b=Eb(a,"/"),d=new bb,c.push(b)}for(;"/"==Y(a.a)||"//"==Y(a.a);)b=a.a.next(),X(a,"Missing next location step."),b=Eb(a,b),c.push(b);return new $a(d,\nc)}\nfunction Eb(a,b){var c,d,e;if("/"!=b&&"//"!=b)throw Error(\'Step op should be "/" or "//"\');if("."==Y(a.a))return d=new R(lb,new I("node")),a.a.next(),d;if(".."==Y(a.a))return d=new R(kb,new I("node")),a.a.next(),d;var f;if("@"==Y(a.a))f=ab,a.a.next(),X(a,"Missing attribute name");else if("::"==Y(a.a,1)){if(!/(?![0-9])[\\w]/.test(Y(a.a).charAt(0)))throw Error("Bad token: "+a.a.next());c=a.a.next();f=jb[c]||null;if(!f)throw Error("No axis with name: "+c);a.a.next();X(a,"Missing node name")}else f=gb;\nc=Y(a.a);if(/(?![0-9])[\\w]/.test(c.charAt(0)))if("("==Y(a.a,1)){if(!eb(c))throw Error("Invalid node type: "+c);c=a.a.next();if(!eb(c))throw Error("Invalid type name: "+c);zb(a,"(");X(a,"Bad nodetype");e=Y(a.a).charAt(0);var g=null;if(\'"\'==e||"\'"==e)g=Bb(a);X(a,"Bad nodetype");Ab(a);c=new I(c,g)}else c=Cb(a);else if("*"==c)c=Cb(a);else throw Error("Bad token: "+a.a.next());e=new Q(Fb(a),f.a);return d||new R(f,c,e,"//"==b)}\nfunction Fb(a){for(var b=[];"["==Y(a.a);){a.a.next();X(a,"Missing predicate expression.");var c=xb(a);b.push(c);X(a,"Unclosed predicate expression.");zb(a,"]")}return b}function yb(a){if("-"==Y(a.a))return a.a.next(),new pb(yb(a));var b=Db(a);if("|"!=Y(a.a))a=b;else{for(b=[b];"|"==a.a.next();)X(a,"Missing next union location path."),b.push(Db(a));a.a.a--;a=new Za(b)}return a};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction Gb(a){this.b=a;this.a=0}function Hb(a){a=a.match(Ib);for(var b=0;b<a.length;b++)Jb.test(a[b])&&a.splice(b,1);return new Gb(a)}var Ib=RegExp("\\\\$?(?:(?![0-9-])[\\\\w-]+:)?(?![0-9-])[\\\\w\\\\.-]+|\\\\/\\\\/|\\\\.\\\\.|::|\\\\d+(?:\\\\.\\\\d*)?|\\\\.\\\\d+|\\"[^\\"]*\\"|\'[^\']*\'|[!<>]=|\\\\s+|.","g"),Jb=/^\\s/;function Y(a,b){return a.b[a.a+(b||0)]}Gb.prototype.next=function(){return this.b[this.a++]};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction Kb(a,b){if(!a.length)throw Error("Empty XPath expression.");var c=Hb(a);if(c.b.length<=c.a)throw Error("Invalid XPath expression.");b?"function"==aa(b)||(b=da(b.lookupNamespaceURI,b)):b=function(){return null};var d=xb(new wb(c,b));if(!(c.b.length<=c.a))throw Error("Bad token: "+c.next());this.evaluate=function(a,b){var c=d.evaluate(new K(a));return new Z(c,b)}}\nfunction Z(a,b){if(0==b)if(a instanceof E)b=4;else if("string"==typeof a)b=2;else if("number"==typeof a)b=1;else if("boolean"==typeof a)b=3;else throw Error("Unexpected evaluation result.");if(2!=b&&1!=b&&3!=b&&!(a instanceof E))throw Error("value could not be converted to the specified type");this.resultType=b;var c;switch(b){case 2:this.stringValue=a instanceof E?Sa(a):""+a;break;case 1:this.numberValue=a instanceof E?+Sa(a):+a;break;case 3:this.booleanValue=a instanceof E?0<a.i():!!a;break;case 4:case 5:case 6:case 7:var d=\nJ(a);c=[];for(var e=d.next();e;e=d.next())c.push(e instanceof x?e.f():e);this.snapshotLength=a.i();this.invalidIteratorState=!1;break;case 8:case 9:d=Ra(a);this.singleNodeValue=d instanceof x?d.f():d;break;default:throw Error("Unknown XPathResult type.");}var f=0;this.iterateNext=function(){if(4!=b&&5!=b)throw Error("iterateNext called with wrong result type");return f>=c.length?null:c[f++]};this.snapshotItem=function(a){if(6!=b&&7!=b)throw Error("snapshotItem called with wrong result type");return a>=\nc.length||0>a?null:c[a]}}Z.ANY_TYPE=0;Z.NUMBER_TYPE=1;Z.STRING_TYPE=2;Z.BOOLEAN_TYPE=3;Z.UNORDERED_NODE_ITERATOR_TYPE=4;Z.ORDERED_NODE_ITERATOR_TYPE=5;Z.UNORDERED_NODE_SNAPSHOT_TYPE=6;Z.ORDERED_NODE_SNAPSHOT_TYPE=7;Z.ANY_UNORDERED_NODE_TYPE=8;Z.FIRST_ORDERED_NODE_TYPE=9;function Lb(a){this.lookupNamespaceURI=Ua(a)}\nfunction Mb(a){a=a||h;var b=a.document;b.evaluate||(a.XPathResult=Z,b.evaluate=function(a,b,e,f){return(new Kb(a,e)).evaluate(b,f)},b.createExpression=function(a,b){return new Kb(a,b)},b.createNSResolver=function(a){return new Lb(a)})}var Nb=["wgxpath","install"],$=h;Nb[0]in $||!$.execScript||$.execScript("var "+Nb[0]);for(var Ob;Nb.length&&(Ob=Nb.shift());)Nb.length||void 0===Mb?$=$[Ob]?$[Ob]:$[Ob]={}:$[Ob]=Mb;})()\n';
},function(e,t,r){var n=r(40);"string"==typeof n&&(n=[[e.id,n,""]]);r(16)(n,{});n.locals&&(e.exports=n.locals)},,function(e,t,r){(function(e){e.echoforms.control(e.echoforms.extras.RangeSlider),e.echoforms.control(e.echoforms.extras.Tree),e.echoforms.control(e.echoforms.extras.TreeItem)}).call(t,r(1))}]);
//# sourceMappingURL=jquery.echoforms-full.min.js.map